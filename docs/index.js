(()=>{var yd=Object.create;var $r=Object.defineProperty;var qd=Object.getOwnPropertyDescriptor;var vd=Object.getOwnPropertyNames;var Gd=Object.getPrototypeOf,Od=Object.prototype.hasOwnProperty;var _a=(Y=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(Y,{get:(q,O)=>(typeof require<"u"?require:q)[O]}):Y)(function(Y){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+Y+'" is not supported')}),lr=Y=>q=>{var O=Y[q];if(O)return O();throw new Error("Module not found in bundle: "+q)};var ta=(Y,q)=>()=>(q||Y((q={exports:{}}).exports,q),q.exports);var Wd=(Y,q,O,i)=>{if(q&&typeof q=="object"||typeof q=="function")for(let X of vd(q))!Od.call(Y,X)&&X!==O&&$r(Y,X,{get:()=>q[X],enumerable:!(i=qd(q,X))||i.enumerable});return Y};var yi=(Y,q,O)=>(O=Y!=null?yd(Gd(Y)):{},Wd(q||!Y||!Y.__esModule?$r(O,"default",{value:Y,enumerable:!0}):O,Y));var St=ta((Zs,bt)=>{(function(){"use strict";var Y={}.hasOwnProperty;function q(){for(var X="",p=0;p<arguments.length;p++){var o=arguments[p];o&&(X=i(X,O(o)))}return X}function O(X){if(typeof X=="string"||typeof X=="number")return X;if(typeof X!="object")return"";if(Array.isArray(X))return q.apply(null,X);if(X.toString!==Object.prototype.toString&&!X.toString.toString().includes("[native code]"))return X.toString();var p="";for(var o in X)Y.call(X,o)&&X[o]&&(p=i(p,o));return p}function i(X,p){return p?X?X+" "+p:X+p:X}typeof bt<"u"&&bt.exports?(q.default=q,bt.exports=q):typeof define=="function"&&typeof define.amd=="object"&&define.amd?define("classnames",[],function(){return q}):window.classNames=q})()});var lD=ta((Xr,$D)=>{(function(Y){typeof Xr=="object"&&typeof $D<"u"?$D.exports=Y():typeof define=="function"&&define.amd?define([],Y):(typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this).p5=Y()})(function(){var Y,q,O;return function i(X,p,o){function I(m,P){if(!p[m]){if(!X[m]){var a=typeof _a=="function"&&_a;if(!P&&a)return a(m,!0);if(D)return D(m,!0);throw(P=new Error("Cannot find module '"+m+"'")).code="MODULE_NOT_FOUND",P}a=p[m]={exports:{}},X[m][0].call(a.exports,function(n){return I(X[m][1][n]||n)},a,a.exports,i,X,p,o)}return p[m].exports}for(var D=typeof _a=="function"&&_a,c=0;c<o.length;c++)I(o[c]);return I}({1:[function(i,X,p){"use strict";p.byteLength=function(d){var d=a(d),r=d[0],d=d[1];return 3*(r+d)/4-d},p.toByteArray=function(n){var r,d,t=a(n),s=t[0],t=t[1],l=new D(function(L,U){return 3*(L+U)/4-U}(s,t)),$=0,h=0<t?s-4:s;for(d=0;d<h;d+=4)r=I[n.charCodeAt(d)]<<18|I[n.charCodeAt(d+1)]<<12|I[n.charCodeAt(d+2)]<<6|I[n.charCodeAt(d+3)],l[$++]=r>>16&255,l[$++]=r>>8&255,l[$++]=255&r;return t===2&&(r=I[n.charCodeAt(d)]<<2|I[n.charCodeAt(d+1)]>>4,l[$++]=255&r),t===1&&(r=I[n.charCodeAt(d)]<<10|I[n.charCodeAt(d+1)]<<4|I[n.charCodeAt(d+2)]>>2,l[$++]=r>>8&255,l[$++]=255&r),l},p.fromByteArray=function(n){for(var r,d=n.length,s=d%3,t=[],l=0,$=d-s;l<$;l+=16383)t.push(function(h,L,U){for(var T,B=[],J=L;J<U;J+=3)T=(h[J]<<16&16711680)+(h[J+1]<<8&65280)+(255&h[J+2]),B.push(function(S){return o[S>>18&63]+o[S>>12&63]+o[S>>6&63]+o[63&S]}(T));return B.join("")}(n,l,$<l+16383?$:l+16383));return s==1?(r=n[d-1],t.push(o[r>>2]+o[r<<4&63]+"==")):s==2&&(r=(n[d-2]<<8)+n[d-1],t.push(o[r>>10]+o[r>>4&63]+o[r<<2&63]+"=")),t.join("")};for(var o=[],I=[],D=typeof Uint8Array<"u"?Uint8Array:Array,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=0,P=c.length;m<P;++m)o[m]=c[m],I[c.charCodeAt(m)]=m;function a(n){var r=n.length;if(0<r%4)throw new Error("Invalid string. Length must be a multiple of 4");return n=n.indexOf("="),r=(n=n===-1?r:n)===r?0:4-n%4,[n,r]}I[45]=62,I[95]=63},{}],2:[function(i,X,p){},{}],3:[function(i,X,p){},{}],4:[function(i,X,p){(function(a){"use strict";var I=i("base64-js"),D=i("ieee754"),c=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,m=(p.Buffer=a,p.SlowBuffer=function(F){return+F!=F&&(F=0),a.alloc(+F)},p.INSPECT_MAX_BYTES=50,2147483647);function P(F){if(m<F)throw new RangeError('The value "'+F+'" is invalid for option "size"');return F=new Uint8Array(F),Object.setPrototypeOf(F,a.prototype),F}function a(F,f,E){if(typeof F!="number")return n(F,f,E);if(typeof f=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return d(F)}function n(F,f,E){if(typeof F=="string"){var Z=F,W=f;if(a.isEncoding(W=typeof W=="string"&&W!==""?W:"utf8"))return ee=0|l(Z,W),De=P(ee),De=(Z=De.write(Z,W))!==ee?De.slice(0,Z):De;throw new TypeError("Unknown encoding: "+W)}if(ArrayBuffer.isView(F))return s(F);if(F!=null){if(N(F,ArrayBuffer)||F&&N(F.buffer,ArrayBuffer)){var ee=F,Z=f,De=E;if(Z<0||ee.byteLength<Z)throw new RangeError('"offset" is outside of buffer bounds');if(ee.byteLength<Z+(De||0))throw new RangeError('"length" is outside of buffer bounds');return ee=Z===void 0&&De===void 0?new Uint8Array(ee):De===void 0?new Uint8Array(ee,Z):new Uint8Array(ee,Z,De),Object.setPrototypeOf(ee,a.prototype),ee}if(typeof F=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(W=F.valueOf&&F.valueOf(),W!=null&&W!==F)return a.from(W,f,E);var $e=function(te){{var de,ne;if(a.isBuffer(te))return de=0|t(te.length),(ne=P(de)).length!==0&&te.copy(ne,0,0,de),ne}if(te.length!==void 0)return typeof te.length!="number"||w(te.length)?P(0):s(te);if(te.type==="Buffer"&&Array.isArray(te.data))return s(te.data)}(F);if($e)return $e;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof F[Symbol.toPrimitive]=="function")return a.from(F[Symbol.toPrimitive]("string"),f,E)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof F)}function r(F){if(typeof F!="number")throw new TypeError('"size" argument must be of type number');if(F<0)throw new RangeError('The value "'+F+'" is invalid for option "size"')}function d(F){return r(F),P(F<0?0:0|t(F))}function s(F){for(var f=F.length<0?0:0|t(F.length),E=P(f),Z=0;Z<f;Z+=1)E[Z]=255&F[Z];return E}function t(F){if(m<=F)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+m.toString(16)+" bytes");return 0|F}function l(F,f){if(a.isBuffer(F))return F.length;if(ArrayBuffer.isView(F)||N(F,ArrayBuffer))return F.byteLength;if(typeof F!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof F);var E=F.length,Z=2<arguments.length&&arguments[2]===!0;if(!Z&&E===0)return 0;for(var W=!1;;)switch(f){case"ascii":case"latin1":case"binary":return E;case"utf8":case"utf-8":return G(F).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*E;case"hex":return E>>>1;case"base64":return y(F).length;default:if(W)return Z?-1:G(F).length;f=(""+f).toLowerCase(),W=!0}}function $(F,f,E){var Z,W=!1;if((f=f===void 0||f<0?0:f)>this.length||(E=E===void 0||E>this.length?this.length:E)<=0||(E>>>=0)<=(f>>>=0))return"";for(F=F||"utf8";;)switch(F){case"hex":var ee=this,Pe=f,De=E,ne=ee.length;(!De||De<0||ne<De)&&(De=ne);for(var $e="",te=Pe=!Pe||Pe<0?0:Pe;te<De;++te)$e+=ce[ee[te]];return $e;case"utf8":case"utf-8":return J(this,f,E);case"ascii":var de=this,ne=f,z=E,oe="";z=Math.min(de.length,z);for(var he=ne;he<z;++he)oe+=String.fromCharCode(127&de[he]);return oe;case"latin1":case"binary":var Je=this,Pe=f,me=E,Re="";me=Math.min(Je.length,me);for(var je=Pe;je<me;++je)Re+=String.fromCharCode(Je[je]);return Re;case"base64":return be=this,Z=E,(We=f)===0&&Z===be.length?I.fromByteArray(be):I.fromByteArray(be.slice(We,Z));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var be=f,We=E,Ve=this.slice(be,We),Ne="",ve=0;ve<Ve.length;ve+=2)Ne+=String.fromCharCode(Ve[ve]+256*Ve[ve+1]);return Ne;default:if(W)throw new TypeError("Unknown encoding: "+F);F=(F+"").toLowerCase(),W=!0}}function h(F,f,E){var Z=F[f];F[f]=F[E],F[E]=Z}function L(F,f,E,Z,W){if(F.length===0)return-1;if(typeof E=="string"?(Z=E,E=0):2147483647<E?E=2147483647:E<-2147483648&&(E=-2147483648),(E=(E=w(E=+E)?W?0:F.length-1:E)<0?F.length+E:E)>=F.length){if(W)return-1;E=F.length-1}else if(E<0){if(!W)return-1;E=0}if(typeof f=="string"&&(f=a.from(f,Z)),a.isBuffer(f))return f.length===0?-1:U(F,f,E,Z,W);if(typeof f=="number")return f&=255,typeof Uint8Array.prototype.indexOf=="function"?(W?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(F,f,E):U(F,[f],E,Z,W);throw new TypeError("val must be string, number or Buffer")}function U(F,f,E,Z,W){var ee=1,De=F.length,$e=f.length;if(Z!==void 0&&((Z=String(Z).toLowerCase())==="ucs2"||Z==="ucs-2"||Z==="utf16le"||Z==="utf-16le")){if(F.length<2||f.length<2)return-1;De/=ee=2,$e/=2,E/=2}function te(he,Je){return ee===1?he[Je]:he.readUInt16BE(Je*ee)}if(W)for(var de=-1,ne=E;ne<De;ne++)if(te(F,ne)===te(f,de===-1?0:ne-de)){if(ne-(de=de===-1?ne:de)+1===$e)return de*ee}else de!==-1&&(ne-=ne-de),de=-1;else for(ne=E=De<E+$e?De-$e:E;0<=ne;ne--){for(var z=!0,oe=0;oe<$e;oe++)if(te(F,ne+oe)!==te(f,oe)){z=!1;break}if(z)return ne}return-1}function T(F,f,E,Z){return g(function(W){for(var ee=[],De=0;De<W.length;++De)ee.push(255&W.charCodeAt(De));return ee}(f),F,E,Z)}function B(F,f,E,Z){return g(function(W,ee){for(var De,$e,te=[],de=0;de<W.length&&!((ee-=2)<0);++de)$e=W.charCodeAt(de),De=$e>>8,$e=$e%256,te.push($e),te.push(De);return te}(f,F.length-E),F,E,Z)}function J(F,f,E){E=Math.min(F.length,E);for(var Z=[],W=f;W<E;){var ee,De,$e,te,de=F[W],ne=null,z=239<de?4:223<de?3:191<de?2:1;if(W+z<=E)switch(z){case 1:de<128&&(ne=de);break;case 2:(192&(ee=F[W+1]))==128&&127<(te=(31&de)<<6|63&ee)&&(ne=te);break;case 3:ee=F[W+1],De=F[W+2],(192&ee)==128&&(192&De)==128&&2047<(te=(15&de)<<12|(63&ee)<<6|63&De)&&(te<55296||57343<te)&&(ne=te);break;case 4:ee=F[W+1],De=F[W+2],$e=F[W+3],(192&ee)==128&&(192&De)==128&&(192&$e)==128&&65535<(te=(15&de)<<18|(63&ee)<<12|(63&De)<<6|63&$e)&&te<1114112&&(ne=te)}ne===null?(ne=65533,z=1):65535<ne&&(ne-=65536,Z.push(ne>>>10&1023|55296),ne=56320|1023&ne),Z.push(ne),W+=z}var oe=Z,he=oe.length;if(he<=S)return String.fromCharCode.apply(String,oe);for(var Je="",Pe=0;Pe<he;)Je+=String.fromCharCode.apply(String,oe.slice(Pe,Pe+=S));return Je}p.kMaxLength=m,(a.TYPED_ARRAY_SUPPORT=function(){try{var F=new Uint8Array(1),f={foo:function(){return 42}};return Object.setPrototypeOf(f,Uint8Array.prototype),Object.setPrototypeOf(F,f),F.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=n,Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(F,f,E){return f=f,E=E,r(F=F),!(F<=0)&&f!==void 0?typeof E=="string"?P(F).fill(f,E):P(F).fill(f):P(F)},a.allocUnsafe=d,a.allocUnsafeSlow=d,a.isBuffer=function(F){return F!=null&&F._isBuffer===!0&&F!==a.prototype},a.compare=function(F,f){if(N(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),N(f,Uint8Array)&&(f=a.from(f,f.offset,f.byteLength)),!a.isBuffer(F)||!a.isBuffer(f))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(F===f)return 0;for(var E=F.length,Z=f.length,W=0,ee=Math.min(E,Z);W<ee;++W)if(F[W]!==f[W]){E=F[W],Z=f[W];break}return E<Z?-1:Z<E?1:0},a.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(F,f){if(!Array.isArray(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return a.alloc(0);if(f===void 0)for(W=f=0;W<F.length;++W)f+=F[W].length;for(var E=a.allocUnsafe(f),Z=0,W=0;W<F.length;++W){var ee=F[W];if(N(ee,Uint8Array)&&(ee=a.from(ee)),!a.isBuffer(ee))throw new TypeError('"list" argument must be an Array of Buffers');ee.copy(E,Z),Z+=ee.length}return E},a.byteLength=l,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var F=this.length;if(F%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var f=0;f<F;f+=2)h(this,f,f+1);return this},a.prototype.swap32=function(){var F=this.length;if(F%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var f=0;f<F;f+=4)h(this,f,f+3),h(this,f+1,f+2);return this},a.prototype.swap64=function(){var F=this.length;if(F%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var f=0;f<F;f+=8)h(this,f,f+7),h(this,f+1,f+6),h(this,f+2,f+5),h(this,f+3,f+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var F=this.length;return F===0?"":arguments.length===0?J(this,0,F):$.apply(this,arguments)},a.prototype.equals=function(F){if(a.isBuffer(F))return this===F||a.compare(this,F)===0;throw new TypeError("Argument must be a Buffer")},a.prototype.inspect=function(){var f="",F=p.INSPECT_MAX_BYTES,f=this.toString("hex",0,F).replace(/(.{2})/g,"$1 ").trim();return this.length>F&&(f+=" ... "),"<Buffer "+f+">"},c&&(a.prototype[c]=a.prototype.inspect),a.prototype.compare=function(F,f,E,Z,W){if(N(F,Uint8Array)&&(F=a.from(F,F.offset,F.byteLength)),!a.isBuffer(F))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof F);if(E===void 0&&(E=F?F.length:0),Z===void 0&&(Z=0),W===void 0&&(W=this.length),(f=f===void 0?0:f)<0||E>F.length||Z<0||W>this.length)throw new RangeError("out of range index");if(W<=Z&&E<=f)return 0;if(W<=Z)return-1;if(E<=f)return 1;if(this===F)return 0;for(var ee=(W>>>=0)-(Z>>>=0),De=(E>>>=0)-(f>>>=0),$e=Math.min(ee,De),te=this.slice(Z,W),de=F.slice(f,E),ne=0;ne<$e;++ne)if(te[ne]!==de[ne]){ee=te[ne],De=de[ne];break}return ee<De?-1:De<ee?1:0},a.prototype.includes=function(F,f,E){return this.indexOf(F,f,E)!==-1},a.prototype.indexOf=function(F,f,E){return L(this,F,f,E,!0)},a.prototype.lastIndexOf=function(F,f,E){return L(this,F,f,E,!1)},a.prototype.write=function(F,f,E,Z){if(f===void 0)Z="utf8",E=this.length,f=0;else if(E===void 0&&typeof f=="string")Z=f,E=this.length,f=0;else{if(!isFinite(f))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");f>>>=0,isFinite(E)?(E>>>=0,Z===void 0&&(Z="utf8")):(Z=E,E=void 0)}var W=this.length-f;if((E===void 0||W<E)&&(E=W),0<F.length&&(E<0||f<0)||f>this.length)throw new RangeError("Attempt to write outside buffer bounds");Z=Z||"utf8";for(var ee,De,$e,te=!1;;)switch(Z){case"hex":var de=this,ne=F,z=f,oe=E,he=(z=Number(z)||0,de.length-z);(!oe||he<(oe=Number(oe)))&&(oe=he),(he=ne.length)/2<oe&&(oe=he/2);for(var Je=0;Je<oe;++Je){var Pe=parseInt(ne.substr(2*Je,2),16);if(w(Pe))return Je;de[z+Je]=Pe}return Je;case"utf8":case"utf-8":return he=f,$e=E,g(G(F,(De=this).length-he),De,he,$e);case"ascii":return T(this,F,f,E);case"latin1":case"binary":return T(this,F,f,E);case"base64":return De=this,$e=f,ee=E,g(y(F),De,$e,ee);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return B(this,F,f,E);default:if(te)throw new TypeError("Unknown encoding: "+Z);Z=(""+Z).toLowerCase(),te=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var S=4096;function A(F,f,E){if(F%1!=0||F<0)throw new RangeError("offset is not uint");if(E<F+f)throw new RangeError("Trying to access beyond buffer length")}function Q(F,f,E,Z,W,ee){if(!a.isBuffer(F))throw new TypeError('"buffer" argument must be a Buffer instance');if(W<f||f<ee)throw new RangeError('"value" argument is out of bounds');if(E+Z>F.length)throw new RangeError("Index out of range")}function M(F,f,E,Z){if(E+Z>F.length)throw new RangeError("Index out of range");if(E<0)throw new RangeError("Index out of range")}function k(F,f,E,Z,W){return f=+f,E>>>=0,W||M(F,0,E,4),D.write(F,f,E,Z,23,4),E+4}function C(F,f,E,Z,W){return f=+f,E>>>=0,W||M(F,0,E,8),D.write(F,f,E,Z,52,8),E+8}a.prototype.slice=function(F,f){var E=this.length,E=((F=~~F)<0?(F+=E)<0&&(F=0):E<F&&(F=E),(f=f===void 0?E:~~f)<0?(f+=E)<0&&(f=0):E<f&&(f=E),f<F&&(f=F),this.subarray(F,f));return Object.setPrototypeOf(E,a.prototype),E},a.prototype.readUIntLE=function(F,f,E){F>>>=0,f>>>=0,E||A(F,f,this.length);for(var Z=this[F],W=1,ee=0;++ee<f&&(W*=256);)Z+=this[F+ee]*W;return Z},a.prototype.readUIntBE=function(F,f,E){F>>>=0,f>>>=0,E||A(F,f,this.length);for(var Z=this[F+--f],W=1;0<f&&(W*=256);)Z+=this[F+--f]*W;return Z},a.prototype.readUInt8=function(F,f){return F>>>=0,f||A(F,1,this.length),this[F]},a.prototype.readUInt16LE=function(F,f){return F>>>=0,f||A(F,2,this.length),this[F]|this[F+1]<<8},a.prototype.readUInt16BE=function(F,f){return F>>>=0,f||A(F,2,this.length),this[F]<<8|this[F+1]},a.prototype.readUInt32LE=function(F,f){return F>>>=0,f||A(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+16777216*this[F+3]},a.prototype.readUInt32BE=function(F,f){return F>>>=0,f||A(F,4,this.length),16777216*this[F]+(this[F+1]<<16|this[F+2]<<8|this[F+3])},a.prototype.readIntLE=function(F,f,E){F>>>=0,f>>>=0,E||A(F,f,this.length);for(var Z=this[F],W=1,ee=0;++ee<f&&(W*=256);)Z+=this[F+ee]*W;return(W*=128)<=Z&&(Z-=Math.pow(2,8*f)),Z},a.prototype.readIntBE=function(F,f,E){F>>>=0,f>>>=0,E||A(F,f,this.length);for(var Z=f,W=1,ee=this[F+--Z];0<Z&&(W*=256);)ee+=this[F+--Z]*W;return(W*=128)<=ee&&(ee-=Math.pow(2,8*f)),ee},a.prototype.readInt8=function(F,f){return F>>>=0,f||A(F,1,this.length),128&this[F]?-1*(255-this[F]+1):this[F]},a.prototype.readInt16LE=function(F,f){return F>>>=0,f||A(F,2,this.length),f=this[F]|this[F+1]<<8,32768&f?4294901760|f:f},a.prototype.readInt16BE=function(F,f){return F>>>=0,f||A(F,2,this.length),f=this[F+1]|this[F]<<8,32768&f?4294901760|f:f},a.prototype.readInt32LE=function(F,f){return F>>>=0,f||A(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},a.prototype.readInt32BE=function(F,f){return F>>>=0,f||A(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},a.prototype.readFloatLE=function(F,f){return F>>>=0,f||A(F,4,this.length),D.read(this,F,!0,23,4)},a.prototype.readFloatBE=function(F,f){return F>>>=0,f||A(F,4,this.length),D.read(this,F,!1,23,4)},a.prototype.readDoubleLE=function(F,f){return F>>>=0,f||A(F,8,this.length),D.read(this,F,!0,52,8)},a.prototype.readDoubleBE=function(F,f){return F>>>=0,f||A(F,8,this.length),D.read(this,F,!1,52,8)},a.prototype.writeUIntLE=function(F,f,E,Z){F=+F,f>>>=0,E>>>=0,Z||Q(this,F,f,E,Math.pow(2,8*E)-1,0);var W=1,ee=0;for(this[f]=255&F;++ee<E&&(W*=256);)this[f+ee]=F/W&255;return f+E},a.prototype.writeUIntBE=function(F,f,E,Z){F=+F,f>>>=0,E>>>=0,Z||Q(this,F,f,E,Math.pow(2,8*E)-1,0);var W=E-1,ee=1;for(this[f+W]=255&F;0<=--W&&(ee*=256);)this[f+W]=F/ee&255;return f+E},a.prototype.writeUInt8=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,1,255,0),this[f]=255&F,f+1},a.prototype.writeUInt16LE=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,2,65535,0),this[f]=255&F,this[f+1]=F>>>8,f+2},a.prototype.writeUInt16BE=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,2,65535,0),this[f]=F>>>8,this[f+1]=255&F,f+2},a.prototype.writeUInt32LE=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,4,4294967295,0),this[f+3]=F>>>24,this[f+2]=F>>>16,this[f+1]=F>>>8,this[f]=255&F,f+4},a.prototype.writeUInt32BE=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,4,4294967295,0),this[f]=F>>>24,this[f+1]=F>>>16,this[f+2]=F>>>8,this[f+3]=255&F,f+4},a.prototype.writeIntLE=function(F,f,E,Z){F=+F,f>>>=0,Z||Q(this,F,f,E,(Z=Math.pow(2,8*E-1))-1,-Z);var W=0,ee=1,De=0;for(this[f]=255&F;++W<E&&(ee*=256);)F<0&&De===0&&this[f+W-1]!==0&&(De=1),this[f+W]=(F/ee>>0)-De&255;return f+E},a.prototype.writeIntBE=function(F,f,E,Z){F=+F,f>>>=0,Z||Q(this,F,f,E,(Z=Math.pow(2,8*E-1))-1,-Z);var W=E-1,ee=1,De=0;for(this[f+W]=255&F;0<=--W&&(ee*=256);)F<0&&De===0&&this[f+W+1]!==0&&(De=1),this[f+W]=(F/ee>>0)-De&255;return f+E},a.prototype.writeInt8=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,1,127,-128),this[f]=255&(F=F<0?255+F+1:F),f+1},a.prototype.writeInt16LE=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,2,32767,-32768),this[f]=255&F,this[f+1]=F>>>8,f+2},a.prototype.writeInt16BE=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,2,32767,-32768),this[f]=F>>>8,this[f+1]=255&F,f+2},a.prototype.writeInt32LE=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,4,2147483647,-2147483648),this[f]=255&F,this[f+1]=F>>>8,this[f+2]=F>>>16,this[f+3]=F>>>24,f+4},a.prototype.writeInt32BE=function(F,f,E){return F=+F,f>>>=0,E||Q(this,F,f,4,2147483647,-2147483648),this[f]=(F=F<0?4294967295+F+1:F)>>>24,this[f+1]=F>>>16,this[f+2]=F>>>8,this[f+3]=255&F,f+4},a.prototype.writeFloatLE=function(F,f,E){return k(this,F,f,!0,E)},a.prototype.writeFloatBE=function(F,f,E){return k(this,F,f,!1,E)},a.prototype.writeDoubleLE=function(F,f,E){return C(this,F,f,!0,E)},a.prototype.writeDoubleBE=function(F,f,E){return C(this,F,f,!1,E)},a.prototype.copy=function(F,f,E,Z){if(!a.isBuffer(F))throw new TypeError("argument should be a Buffer");if(E=E||0,Z||Z===0||(Z=this.length),f>=F.length&&(f=F.length),(Z=0<Z&&Z<E?E:Z)===E||F.length===0||this.length===0)return 0;if((f=f||0)<0)throw new RangeError("targetStart out of bounds");if(E<0||E>=this.length)throw new RangeError("Index out of range");if(Z<0)throw new RangeError("sourceEnd out of bounds");Z>this.length&&(Z=this.length);var W=(Z=F.length-f<Z-E?F.length-f+E:Z)-E;if(this===F&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(f,E,Z);else if(this===F&&E<f&&f<Z)for(var ee=W-1;0<=ee;--ee)F[ee+f]=this[ee+E];else Uint8Array.prototype.set.call(F,this.subarray(E,Z),f);return W},a.prototype.fill=function(F,f,E,Z){if(typeof F=="string"){if(typeof f=="string"?(Z=f,f=0,E=this.length):typeof E=="string"&&(Z=E,E=this.length),Z!==void 0&&typeof Z!="string")throw new TypeError("encoding must be a string");if(typeof Z=="string"&&!a.isEncoding(Z))throw new TypeError("Unknown encoding: "+Z);var W;F.length===1&&(W=F.charCodeAt(0),(Z==="utf8"&&W<128||Z==="latin1")&&(F=W))}else typeof F=="number"?F&=255:typeof F=="boolean"&&(F=Number(F));if(f<0||this.length<f||this.length<E)throw new RangeError("Out of range index");var ee;if(!(E<=f))if(f>>>=0,E=E===void 0?this.length:E>>>0,typeof(F=F||0)=="number")for(ee=f;ee<E;++ee)this[ee]=F;else{var De=a.isBuffer(F)?F:a.from(F,Z),$e=De.length;if($e===0)throw new TypeError('The value "'+F+'" is invalid for argument "value"');for(ee=0;ee<E-f;++ee)this[ee+f]=De[ee%$e]}return this};var j=/[^+/0-9A-Za-z-_]/g;function G(F,f){f=f||1/0;for(var E,Z=F.length,W=null,ee=[],De=0;De<Z;++De){if(55295<(E=F.charCodeAt(De))&&E<57344){if(!W){if(56319<E){-1<(f-=3)&&ee.push(239,191,189);continue}if(De+1===Z){-1<(f-=3)&&ee.push(239,191,189);continue}W=E;continue}if(E<56320){-1<(f-=3)&&ee.push(239,191,189),W=E;continue}E=65536+(W-55296<<10|E-56320)}else W&&-1<(f-=3)&&ee.push(239,191,189);if(W=null,E<128){if(--f<0)break;ee.push(E)}else if(E<2048){if((f-=2)<0)break;ee.push(E>>6|192,63&E|128)}else if(E<65536){if((f-=3)<0)break;ee.push(E>>12|224,E>>6&63|128,63&E|128)}else{if(!(E<1114112))throw new Error("Invalid code point");if((f-=4)<0)break;ee.push(E>>18|240,E>>12&63|128,E>>6&63|128,63&E|128)}}return ee}function y(F){return I.toByteArray(function(f){if((f=(f=f.split("=")[0]).trim().replace(j,"")).length<2)return"";for(;f.length%4!=0;)f+="=";return f}(F))}function g(F,f,E,Z){for(var W=0;W<Z&&!(W+E>=f.length||W>=F.length);++W)f[W+E]=F[W];return W}function N(F,f){return F instanceof f||F!=null&&F.constructor!=null&&F.constructor.name!=null&&F.constructor.name===f.name}function w(F){return F!=F}var ce=function(){for(var F="0123456789abcdef",f=new Array(256),E=0;E<16;++E)for(var Z=16*E,W=0;W<16;++W)f[Z+W]=F[E]+F[W];return f}()}).call(this,i("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(i,X,p){X.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},{}],6:[function(i,X,p){var o=i("../internals/is-object");X.exports=function(I){if(o(I)||I===null)return I;throw TypeError("Can't set "+String(I)+" as a prototype")}},{"../internals/is-object":75}],7:[function(D,X,p){var o=D("../internals/well-known-symbol"),I=D("../internals/object-create"),D=D("../internals/object-define-property"),c=o("unscopables"),m=Array.prototype;m[c]==null&&D.f(m,c,{configurable:!0,value:I(null)}),X.exports=function(P){m[c][P]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(i,X,p){"use strict";var o=i("../internals/string-multibyte").charAt;X.exports=function(I,D,c){return D+(c?o(I,D).length:1)}},{"../internals/string-multibyte":125}],9:[function(i,X,p){X.exports=function(o,I,D){if(o instanceof I)return o;throw TypeError("Incorrect "+(D?D+" ":"")+"invocation")}},{}],10:[function(i,X,p){var o=i("../internals/is-object");X.exports=function(I){if(o(I))return I;throw TypeError(String(I)+" is not an object")}},{"../internals/is-object":75}],11:[function(i,X,p){X.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(M,X,p){"use strict";function o(C){return P(C)&&a(k,n(C))}var I,D=M("../internals/array-buffer-native"),c=M("../internals/descriptors"),m=M("../internals/global"),P=M("../internals/is-object"),a=M("../internals/has"),n=M("../internals/classof"),r=M("../internals/create-non-enumerable-property"),d=M("../internals/redefine"),s=M("../internals/object-define-property").f,t=M("../internals/object-get-prototype-of"),l=M("../internals/object-set-prototype-of"),S=M("../internals/well-known-symbol"),M=M("../internals/uid"),$=m.Int8Array,h=$&&$.prototype,L=m.Uint8ClampedArray,L=L&&L.prototype,U=$&&t($),T=h&&t(h),B=Object.prototype,J=B.isPrototypeOf,S=S("toStringTag"),A=M("TYPED_ARRAY_TAG"),Q=D&&!!l&&n(m.opera)!=="Opera",M=!1,k={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(I in k)m[I]||(Q=!1);if((!Q||typeof U!="function"||U===Function.prototype)&&(U=function(){throw TypeError("Incorrect invocation")},Q))for(I in k)m[I]&&l(m[I],U);if((!Q||!T||T===B)&&(T=U.prototype,Q))for(I in k)m[I]&&l(m[I].prototype,T);if(Q&&t(L)!==T&&l(L,T),c&&!a(T,S))for(I in M=!0,s(T,S,{get:function(){return P(this)?this[A]:void 0}}),k)m[I]&&r(m[I],A,I);X.exports={NATIVE_ARRAY_BUFFER_VIEWS:Q,TYPED_ARRAY_TAG:M&&A,aTypedArray:function(C){if(o(C))return C;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(C){if(l){if(J.call(U,C))return C}else for(var j in k)if(a(k,I)&&(j=m[j],j&&(C===j||J.call(j,C))))return C;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(C,j,G){if(c){if(G)for(var y in k)y=m[y],y&&a(y.prototype,C)&&delete y.prototype[C];T[C]&&!G||d(T,C,!G&&Q&&h[C]||j)}},exportTypedArrayStaticMethod:function(C,j,G){var y,g;if(c){if(l){if(G)for(y in k)(g=m[y])&&a(g,C)&&delete g[C];if(U[C]&&!G)return;try{return d(U,C,!G&&Q&&$[C]||j)}catch{}}for(y in k)!(g=m[y])||g[C]&&!G||d(g,C,j)}},isView:function(C){return C=n(C),C==="DataView"||a(k,C)},isTypedArray:o,TypedArray:U,TypedArrayPrototype:T}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(E,X,p){"use strict";function o(z){return[255&z]}function I(z){return[255&z,z>>8&255]}function D(z){return[255&z,z>>8&255,z>>16&255,z>>24&255]}function c(z){return z[3]<<24|z[2]<<16|z[1]<<8|z[0]}function m(z){return ee(z,23,4)}function P(z){return ee(z,52,8)}function a(z,oe){M(z[N],oe,{get:function(){return j(this)[oe]}})}function n(Re,oe,me,Je){if(me=B(me),Re=j(Re),me+oe>Re.byteLength)throw W(w);var Pe=j(Re.buffer).bytes,me=me+Re.byteOffset,Re=Pe.slice(me,me+oe);return Je?Re:Re.reverse()}function r(z,oe,he,Je,Pe,me){if(he=B(he),z=j(z),he+oe>z.byteLength)throw W(w);for(var Re=j(z.buffer).bytes,je=he+z.byteOffset,be=Je(+Pe),We=0;We<oe;We++)Re[je+We]=be[me?We:oe-We-1]}var d=E("../internals/global"),s=E("../internals/descriptors"),t=E("../internals/array-buffer-native"),l=E("../internals/create-non-enumerable-property"),$=E("../internals/redefine-all"),h=E("../internals/fails"),L=E("../internals/an-instance"),U=E("../internals/to-integer"),T=E("../internals/to-length"),B=E("../internals/to-index"),J=E("../internals/ieee754"),S=E("../internals/object-get-prototype-of"),A=E("../internals/object-set-prototype-of"),Q=E("../internals/object-get-own-property-names").f,M=E("../internals/object-define-property").f,k=E("../internals/array-fill"),C=E("../internals/set-to-string-tag"),E=E("../internals/internal-state"),j=E.get,G=E.set,y="ArrayBuffer",g="DataView",N="prototype",w="Wrong index",ce=d[y],F=ce,f=d[g],E=f&&f[N],Z=Object.prototype,W=d.RangeError,ee=J.pack,De=J.unpack;if(t){if(!h(function(){ce(1)})||!h(function(){new ce(-1)})||h(function(){return new ce,new ce(1.5),new ce(NaN),ce.name!=y})){for(var $e,d=(F=function(he){return L(this,F),new ce(B(he))})[N]=ce[N],te=Q(ce),de=0;te.length>de;)($e=te[de++])in F||l(F,$e,ce[$e]);d.constructor=F}A&&S(E)!==Z&&A(E,Z);var J=new f(new F(2)),ne=E.setInt8;J.setInt8(0,2147483648),J.setInt8(1,2147483649),!J.getInt8(0)&&J.getInt8(1)||$(E,{setInt8:function(oe,he){ne.call(this,oe,he<<24>>24)},setUint8:function(oe,he){ne.call(this,oe,he<<24>>24)}},{unsafe:!0})}else F=function(z){L(this,F,y),z=B(z),G(this,{bytes:k.call(new Array(z),0),byteLength:z}),s||(this.byteLength=z)},f=function(z,Pe,he){L(this,f,g),L(z,F,g);var Je=j(z).byteLength,Pe=U(Pe);if(Pe<0||Je<Pe)throw W("Wrong offset");if(Je<Pe+(he=he===void 0?Je-Pe:T(he)))throw W("Wrong length");G(this,{buffer:z,byteLength:he,byteOffset:Pe}),s||(this.buffer=z,this.byteLength=he,this.byteOffset=Pe)},s&&(a(F,"byteLength"),a(f,"buffer"),a(f,"byteLength"),a(f,"byteOffset")),$(f[N],{getInt8:function(z){return n(this,1,z)[0]<<24>>24},getUint8:function(z){return n(this,1,z)[0]},getInt16:function(z){return z=n(this,2,z,1<arguments.length?arguments[1]:void 0),(z[1]<<8|z[0])<<16>>16},getUint16:function(z){return z=n(this,2,z,1<arguments.length?arguments[1]:void 0),z[1]<<8|z[0]},getInt32:function(z){return c(n(this,4,z,1<arguments.length?arguments[1]:void 0))},getUint32:function(z){return c(n(this,4,z,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(z){return De(n(this,4,z,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(z){return De(n(this,8,z,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(z,oe){r(this,1,z,o,oe)},setUint8:function(z,oe){r(this,1,z,o,oe)},setInt16:function(z,oe){r(this,2,z,I,oe,2<arguments.length?arguments[2]:void 0)},setUint16:function(z,oe){r(this,2,z,I,oe,2<arguments.length?arguments[2]:void 0)},setInt32:function(z,oe){r(this,4,z,D,oe,2<arguments.length?arguments[2]:void 0)},setUint32:function(z,oe){r(this,4,z,D,oe,2<arguments.length?arguments[2]:void 0)},setFloat32:function(z,oe){r(this,4,z,m,oe,2<arguments.length?arguments[2]:void 0)},setFloat64:function(z,oe){r(this,8,z,P,oe,2<arguments.length?arguments[2]:void 0)}});C(F,y),C(f,g),X.exports={ArrayBuffer:F,DataView:f}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(i,X,p){"use strict";var o=i("../internals/to-object"),I=i("../internals/to-absolute-index"),D=i("../internals/to-length"),c=Math.min;X.exports=[].copyWithin||function(s,P){var a=o(this),n=D(a.length),r=I(s,n),d=I(P,n),s=2<arguments.length?arguments[2]:void 0,t=c((s===void 0?n:I(s,n))-d,n-r),l=1;for(d<r&&r<d+t&&(l=-1,d+=t-1,r+=t-1);0<t--;)d in a?a[r]=a[d]:delete a[r],r+=l,d+=l;return a}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(i,X,p){"use strict";var o=i("../internals/to-object"),I=i("../internals/to-absolute-index"),D=i("../internals/to-length");X.exports=function(c){for(var m=o(this),P=D(m.length),n=arguments.length,a=I(1<n?arguments[1]:void 0,P),n=2<n?arguments[2]:void 0,r=n===void 0?P:I(n,P);a<r;)m[a++]=c;return m}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(D,X,p){"use strict";var o=D("../internals/array-iteration").forEach,I=D("../internals/array-method-is-strict"),D=D("../internals/array-method-uses-to-length"),I=I("forEach"),D=D("forEach");X.exports=I&&D?[].forEach:function(c){return o(this,c,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(i,X,p){"use strict";var o=i("../internals/function-bind-context"),I=i("../internals/to-object"),D=i("../internals/call-with-safe-iteration-closing"),c=i("../internals/is-array-iterator-method"),m=i("../internals/to-length"),P=i("../internals/create-property"),a=i("../internals/get-iterator-method");X.exports=function(L){var r,d,s,t,l,$,h=I(L),L=typeof this=="function"?this:Array,U=arguments.length,T=1<U?arguments[1]:void 0,B=T!==void 0,J=a(h),S=0;if(B&&(T=o(T,2<U?arguments[2]:void 0,2)),J==null||L==Array&&c(J))for(d=new L(r=m(h.length));S<r;S++)$=B?T(h[S],S):h[S],P(d,S,$);else for(l=(t=J.call(h)).next,d=new L;!(s=l.call(t)).done;S++)$=B?D(t,T,[s.value,S],!0):s.value,P(d,S,$);return d.length=S,d}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(i,X,p){function o(m){return function(P,a,n){var r,d=I(P),s=D(d.length),t=c(n,s);if(m&&a!=a){for(;t<s;)if((r=d[t++])!=r)return!0}else for(;t<s;t++)if((m||t in d)&&d[t]===a)return m||t||0;return!m&&-1}}var I=i("../internals/to-indexed-object"),D=i("../internals/to-length"),c=i("../internals/to-absolute-index");X.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(i,X,p){function o(n){var r=n==1,d=n==2,s=n==3,t=n==4,l=n==6,$=n==5||l;return function(h,L,U,T){for(var B,J,S=c(h),A=D(S),Q=I(L,U,3),M=m(A.length),k=0,L=T||P,C=r?L(h,M):d?L(h,0):void 0;k<M;k++)if(($||k in A)&&(J=Q(B=A[k],k,S),n)){if(r)C[k]=J;else if(J)switch(n){case 3:return!0;case 5:return B;case 6:return k;case 2:a.call(C,B)}else if(t)return!1}return l?-1:s||t?t:C}}var I=i("../internals/function-bind-context"),D=i("../internals/indexed-object"),c=i("../internals/to-object"),m=i("../internals/to-length"),P=i("../internals/array-species-create"),a=[].push;X.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(n,X,p){"use strict";var o=n("../internals/to-indexed-object"),I=n("../internals/to-integer"),D=n("../internals/to-length"),a=n("../internals/array-method-is-strict"),n=n("../internals/array-method-uses-to-length"),c=Math.min,m=[].lastIndexOf,P=!!m&&1/[1].lastIndexOf(1,-0)<0,a=a("lastIndexOf"),n=n("indexOf",{ACCESSORS:!0,1:0});X.exports=P||!a||!n?function(r){if(P)return m.apply(this,arguments)||0;var d=o(this),s=D(d.length),t=s-1;for((t=1<arguments.length?c(t,I(arguments[1])):t)<0&&(t=s+t);0<=t;t--)if(t in d&&d[t]===r)return t||0;return-1}:m},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(i,X,p){var o=i("../internals/fails"),I=i("../internals/well-known-symbol"),D=i("../internals/engine-v8-version"),c=I("species");X.exports=function(m){return 51<=D||!o(function(){var P=[];return(P.constructor={})[c]=function(){return{foo:1}},P[m](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(i,X,p){"use strict";var o=i("../internals/fails");X.exports=function(I,D){var c=[][I];return!!c&&o(function(){c.call(null,D||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(i,X,p){function o(a){throw a}var I=i("../internals/descriptors"),D=i("../internals/fails"),c=i("../internals/has"),m=Object.defineProperty,P={};X.exports=function(a,n){var r,d,s,t;return c(P,a)?P[a]:(r=[][a],d=!!c(n=n||{},"ACCESSORS")&&n.ACCESSORS,s=c(n,0)?n[0]:o,t=c(n,1)?n[1]:void 0,P[a]=!!r&&!D(function(){if(d&&!I)return!0;var l={length:-1};d?m(l,1,{enumerable:!0,get:o}):l[1]=1,r.call(l,s,t)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(i,X,p){function o(P){return function(a,n,r,d){I(n);var s=D(a),t=c(s),l=m(s.length),$=P?l-1:0,h=P?-1:1;if(r<2)for(;;){if($ in t){d=t[$],$+=h;break}if($+=h,P?$<0:l<=$)throw TypeError("Reduce of empty array with no initial value")}for(;P?0<=$:$<l;$+=h)$ in t&&(d=n(d,t[$],$,s));return d}}var I=i("../internals/a-function"),D=i("../internals/to-object"),c=i("../internals/indexed-object"),m=i("../internals/to-length");X.exports={left:o(!1),right:o(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(i,X,p){var o=i("../internals/is-object"),I=i("../internals/is-array"),D=i("../internals/well-known-symbol")("species");X.exports=function(c,m){var P;return new((P=I(c)&&(typeof(P=c.constructor)=="function"&&(P===Array||I(P.prototype))||o(P)&&(P=P[D])===null)?void 0:P)===void 0?Array:P)(m===0?0:m)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(i,X,p){var o=i("../internals/an-object");X.exports=function(I,D,c,m){try{return m?D(o(c)[0],c[1]):D(c)}catch(P){throw m=I.return,m!==void 0&&o(m.call(I)),P}}},{"../internals/an-object":10}],27:[function(i,X,p){var o=i("../internals/well-known-symbol")("iterator"),I=!1;try{var D=0,c={next:function(){return{done:!!D++}},return:function(){I=!0}};c[o]=function(){return this},Array.from(c,function(){throw 2})}catch{}X.exports=function(m,P){if(!P&&!I)return!1;var a=!1;try{var n={};n[o]=function(){return{next:function(){return{done:a=!0}}}},m(n)}catch{}return a}},{"../internals/well-known-symbol":150}],28:[function(i,X,p){var o={}.toString;X.exports=function(I){return o.call(I).slice(8,-1)}},{}],29:[function(i,X,p){var o=i("../internals/to-string-tag-support"),I=i("../internals/classof-raw"),D=i("../internals/well-known-symbol")("toStringTag"),c=I(function(){return arguments}())=="Arguments";X.exports=o?I:function(m){var P;return m===void 0?"Undefined":m===null?"Null":typeof(P=function(a,n){try{return a[n]}catch{}}(m=Object(m),D))=="string"?P:c?I(m):(P=I(m))=="Object"&&typeof m.callee=="function"?"Arguments":P}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(s,X,p){"use strict";var o=s("../internals/object-define-property").f,I=s("../internals/object-create"),D=s("../internals/redefine-all"),c=s("../internals/function-bind-context"),m=s("../internals/an-instance"),P=s("../internals/iterate"),a=s("../internals/define-iterator"),n=s("../internals/set-species"),r=s("../internals/descriptors"),d=s("../internals/internal-metadata").fastKey,s=s("../internals/internal-state"),t=s.set,l=s.getterFor;X.exports={getConstructor:function($,h,L,U){function T(A,Q,M){var k,C=S(A),j=B(A,Q);return j?j.value=M:(C.last=j={index:k=d(Q,!0),key:Q,value:M,previous:Q=C.last,next:void 0,removed:!1},C.first||(C.first=j),Q&&(Q.next=j),r?C.size++:A.size++,k!=="F"&&(C.index[k]=j)),A}function B(k,Q){var M,k=S(k),C=d(Q);if(C!=="F")return k.index[C];for(M=k.first;M;M=M.next)if(M.key==Q)return M}var J=$(function(A,Q){m(A,J,h),t(A,{type:h,index:I(null),first:void 0,last:void 0,size:0}),r||(A.size=0),Q!=null&&P(Q,A[U],A,L)}),S=l(h);return D(J.prototype,{clear:function(){for(var A=S(this),Q=A.index,M=A.first;M;)M.removed=!0,M.previous&&(M.previous=M.previous.next=void 0),delete Q[M.index],M=M.next;A.first=A.last=void 0,r?A.size=0:this.size=0},delete:function(C){var Q,M,k=S(this),C=B(this,C);return C&&(Q=C.next,M=C.previous,delete k.index[C.index],C.removed=!0,M&&(M.next=Q),Q&&(Q.previous=M),k.first==C&&(k.first=Q),k.last==C&&(k.last=M),r?k.size--:this.size--),!!C},forEach:function(A){for(var Q,M=S(this),k=c(A,1<arguments.length?arguments[1]:void 0,3);Q=Q?Q.next:M.first;)for(k(Q.value,Q.key,this);Q&&Q.removed;)Q=Q.previous},has:function(A){return!!B(this,A)}}),D(J.prototype,L?{get:function(A){return A=B(this,A),A&&A.value},set:function(A,Q){return T(this,A===0?0:A,Q)}}:{add:function(A){return T(this,A=A===0?0:A,A)}}),r&&o(J.prototype,"size",{get:function(){return S(this).size}}),J},setStrong:function($,h,L){var U=h+" Iterator",T=l(h),B=l(U);a($,h,function(J,S){t(this,{type:U,target:J,state:T(J),kind:S,last:void 0})},function(){for(var J=B(this),S=J.kind,A=J.last;A&&A.removed;)A=A.previous;return J.target&&(J.last=A=A?A.next:J.state.first)?S=="keys"?{value:A.key,done:!1}:S=="values"?{value:A.value,done:!1}:{value:[A.key,A.value],done:!1}:{value:J.target=void 0,done:!0}},L?"entries":"values",!L,!0),n(h)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(t,X,p){"use strict";function o(T){return T.frozen||(T.frozen=new I)}function I(){this.entries=[]}function D(T,B){return h(T.entries,function(J){return J[0]===B})}var c=t("../internals/redefine-all"),m=t("../internals/internal-metadata").getWeakData,P=t("../internals/an-object"),a=t("../internals/is-object"),n=t("../internals/an-instance"),r=t("../internals/iterate"),d=t("../internals/array-iteration"),s=t("../internals/has"),t=t("../internals/internal-state"),l=t.set,$=t.getterFor,h=d.find,L=d.findIndex,U=0;I.prototype={get:function(T){if(T=D(this,T),T)return T[1]},has:function(T){return!!D(this,T)},set:function(T,B){var J=D(this,T);J?J[1]=B:this.entries.push([T,B])},delete:function(T){var B=L(this.entries,function(J){return J[0]===T});return~B&&this.entries.splice(B,1),!!~B}},X.exports={getConstructor:function(T,B,J,S){function A(k,C,j){var G=M(k),y=m(P(C),!0);return y===!0?o(G).set(C,j):y[G.id]=j,k}var Q=T(function(k,C){n(k,Q,B),l(k,{type:B,id:U++,frozen:void 0}),C!=null&&r(C,k[S],k,J)}),M=$(B);return c(Q.prototype,{delete:function(k){var C,j=M(this);return!!a(k)&&((C=m(k))===!0?o(j).delete(k):C&&s(C,j.id)&&delete C[j.id])},has:function(k){var C,j=M(this);return!!a(k)&&((C=m(k))===!0?o(j).has(k):C&&s(C,j.id))}}),c(Q.prototype,J?{get:function(k){var C,j=M(this);if(a(k))return(C=m(k))===!0?o(j).get(k):C?C[j.id]:void 0},set:function(k,C){return A(this,k,C)}}:{add:function(k){return A(this,k,!0)}}),Q}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(i,X,p){"use strict";var o=i("../internals/export"),I=i("../internals/global"),D=i("../internals/is-forced"),c=i("../internals/redefine"),m=i("../internals/internal-metadata"),P=i("../internals/iterate"),a=i("../internals/an-instance"),n=i("../internals/is-object"),r=i("../internals/fails"),d=i("../internals/check-correctness-of-iteration"),s=i("../internals/set-to-string-tag"),t=i("../internals/inherit-if-required");X.exports=function(l,$,h){function L(y){var g=C[y];c(C,y,y=="add"?function(N){return g.call(this,N===0?0:N),this}:y=="delete"?function(N){return!(Q&&!n(N))&&g.call(this,N===0?0:N)}:y=="get"?function(N){return Q&&!n(N)?void 0:g.call(this,N===0?0:N)}:y=="has"?function(N){return!(Q&&!n(N))&&g.call(this,N===0?0:N)}:function(N,w){return g.call(this,N===0?0:N,w),this})}var U,T,B,J,S,A=l.indexOf("Map")!==-1,Q=l.indexOf("Weak")!==-1,M=A?"set":"add",k=I[l],C=k&&k.prototype,j=k,G={};return D(l,typeof k!="function"||!(Q||C.forEach&&!r(function(){new k().entries().next()})))?(j=h.getConstructor($,l,A,M),m.REQUIRED=!0):D(l,!0)&&(T=(U=new j)[M](Q?{}:-0,1)!=U,B=r(function(){U.has(1)}),J=d(function(y){new k(y)}),S=!Q&&r(function(){for(var y=new k,g=5;g--;)y[M](g,g);return!y.has(-0)}),J||(((j=$(function(y,g){return a(y,j,l),y=t(new k,y,j),g!=null&&P(g,y[M],y,A),y})).prototype=C).constructor=j),(B||S)&&(L("delete"),L("has"),A&&L("get")),(S||T)&&L(M),Q&&C.clear&&delete C.clear),G[l]=j,o({global:!0,forced:j!=k},G),s(j,l),Q||h.setStrong(j,l,A),j}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(i,X,p){var o=i("../internals/has"),I=i("../internals/own-keys"),D=i("../internals/object-get-own-property-descriptor"),c=i("../internals/object-define-property");X.exports=function(m,P){for(var a=I(P),n=c.f,r=D.f,d=0;d<a.length;d++){var s=a[d];o(m,s)||n(m,s,r(P,s))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(i,X,p){var o=i("../internals/well-known-symbol")("match");X.exports=function(I){var D=/./;try{"/./"[I](D)}catch{try{return D[o]=!1,"/./"[I](D)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(i,X,p){i=i("../internals/fails"),X.exports=!i(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":51}],36:[function(i,X,p){var o=i("../internals/require-object-coercible"),I=/"/g;X.exports=function(a,c,m,P){var a=String(o(a)),n="<"+c;return m!==""&&(n+=" "+m+'="'+String(P).replace(I,"&quot;")+'"'),n+">"+a+"</"+c+">"}},{"../internals/require-object-coercible":115}],37:[function(i,X,p){"use strict";function o(){return this}var I=i("../internals/iterators-core").IteratorPrototype,D=i("../internals/object-create"),c=i("../internals/create-property-descriptor"),m=i("../internals/set-to-string-tag"),P=i("../internals/iterators");X.exports=function(a,n,r){return n+=" Iterator",a.prototype=D(I,{next:c(1,r)}),m(a,n,!1,!0),P[n]=o,a}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(i,X,p){var o=i("../internals/descriptors"),I=i("../internals/object-define-property"),D=i("../internals/create-property-descriptor");X.exports=o?function(c,m,P){return I.f(c,m,D(1,P))}:function(c,m,P){return c[m]=P,c}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(i,X,p){X.exports=function(o,I){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:I}}},{}],40:[function(i,X,p){"use strict";var o=i("../internals/to-primitive"),I=i("../internals/object-define-property"),D=i("../internals/create-property-descriptor");X.exports=function(c,m,P){m=o(m),m in c?I.f(c,m,D(0,P)):c[m]=P}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(t,X,p){"use strict";function o(){return this}var I=t("../internals/export"),D=t("../internals/create-iterator-constructor"),c=t("../internals/object-get-prototype-of"),m=t("../internals/object-set-prototype-of"),P=t("../internals/set-to-string-tag"),a=t("../internals/create-non-enumerable-property"),n=t("../internals/redefine"),r=t("../internals/well-known-symbol"),d=t("../internals/is-pure"),s=t("../internals/iterators"),t=t("../internals/iterators-core"),l=t.IteratorPrototype,$=t.BUGGY_SAFARI_ITERATORS,h=r("iterator"),L="values",U="entries";X.exports=function(T,B,J,G,A,Q,M){D(J,B,G);function k(F){if(F===A&&w)return w;if(!$&&F in g)return g[F];switch(F){case"keys":case L:case U:return function(){return new J(this,F)}}return function(){return new J(this)}}var C,j,G=B+" Iterator",y=!1,g=T.prototype,N=g[h]||g["@@iterator"]||A&&g[A],w=!$&&N||k(A),ce=B=="Array"&&g.entries||N;if(ce&&(ce=c(ce.call(new T)),l!==Object.prototype&&ce.next&&(d||c(ce)===l||(m?m(ce,l):typeof ce[h]!="function"&&a(ce,h,o)),P(ce,G,!0,!0),d&&(s[G]=o))),A==L&&N&&N.name!==L&&(y=!0,w=function(){return N.call(this)}),d&&!M||g[h]===w||a(g,h,w),s[B]=w,A)if(C={values:k(L),keys:Q?w:k("keys"),entries:k(U)},M)for(j in C)!$&&!y&&j in g||n(g,j,C[j]);else I({target:B,proto:!0,forced:$||y},C);return C}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(i,X,p){var o=i("../internals/path"),I=i("../internals/has"),D=i("../internals/well-known-symbol-wrapped"),c=i("../internals/object-define-property").f;X.exports=function(m){var P=o.Symbol||(o.Symbol={});I(P,m)||c(P,m,{value:D.f(m)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(i,X,p){i=i("../internals/fails"),X.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(I,X,p){var o=I("../internals/global"),I=I("../internals/is-object"),D=o.document,c=I(D)&&I(D.createElement);X.exports=function(m){return c?D.createElement(m):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(i,X,p){X.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(i,X,p){i=i("../internals/engine-user-agent"),X.exports=/(iphone|ipod|ipad).*applewebkit/i.test(i)},{"../internals/engine-user-agent":47}],47:[function(i,X,p){i=i("../internals/get-built-in"),X.exports=i("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(D,X,p){var o,I,c=D("../internals/global"),D=D("../internals/engine-user-agent"),c=c.process,c=c&&c.versions,c=c&&c.v8;c?I=(o=c.split("."))[0]+o[1]:D&&(!(o=D.match(/Edge\/(\d+)/))||74<=o[1])&&(o=D.match(/Chrome\/(\d+)/))&&(I=o[1]),X.exports=I&&+I},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(i,X,p){X.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(i,X,p){var o=i("../internals/global"),I=i("../internals/object-get-own-property-descriptor").f,D=i("../internals/create-non-enumerable-property"),c=i("../internals/redefine"),m=i("../internals/set-global"),P=i("../internals/copy-constructor-properties"),a=i("../internals/is-forced");X.exports=function(n,r){var d,s,t,l=n.target,$=n.global,h=n.stat,L=$?o:h?o[l]||m(l,{}):(o[l]||{}).prototype;if(L)for(d in r){if(s=r[d],t=n.noTargetGet?(t=I(L,d))&&t.value:L[d],!a($?d:l+(h?".":"#")+d,n.forced)&&t!==void 0){if(typeof s==typeof t)continue;P(s,t)}(n.sham||t&&t.sham)&&D(s,"sham",!0),c(L,d,s,n)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(i,X,p){X.exports=function(o){try{return!!o()}catch{return!0}}},{}],52:[function(r,X,p){"use strict";r("../modules/es.regexp.exec");var o=r("../internals/redefine"),I=r("../internals/fails"),D=r("../internals/well-known-symbol"),c=r("../internals/regexp-exec"),m=r("../internals/create-non-enumerable-property"),P=D("species"),a=!I(function(){var t=/./;return t.exec=function(){var l=[];return l.groups={a:"7"},l},"".replace(t,"$<a>")!=="7"}),n="a".replace(/./,"$0")==="$0",r=D("replace"),d=!!/./[r]&&/./[r]("a","$0")==="",s=!I(function(){var l=/(?:)/,t=l.exec,l=(l.exec=function(){return t.apply(this,arguments)},"ab".split(l));return l.length!==2||l[0]!=="a"||l[1]!=="b"});X.exports=function(t,l,$,h){var L,U,T=D(t),B=!I(function(){var S={};return S[T]=function(){return 7},""[t](S)!=7}),J=B&&!I(function(){var S=!1,A=/a/;return t==="split"&&((A={constructor:{}}).constructor[P]=function(){return A},A.flags="",A[T]=/./[T]),A.exec=function(){return S=!0,null},A[T](""),!S});B&&J&&(t!=="replace"||a&&n&&!d)&&(t!=="split"||s)||(L=/./[T],$=(J=$(T,""[t],function(S,A,Q,M,k){return A.exec===c?B&&!k?{done:!0,value:L.call(A,Q,M)}:{done:!0,value:S.call(Q,A,M)}:{done:!1}},{REPLACE_KEEPS_$0:n,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:d}))[0],U=J[1],o(String.prototype,t,$),o(RegExp.prototype,T,l==2?function(S,A){return U.call(S,this,A)}:function(S){return U.call(S,this)})),h&&m(RegExp.prototype[T],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(i,X,p){"use strict";function o(m,P,a,n,r,d,s,t){for(var l,$=r,h=0,L=!!s&&c(s,t,3);h<n;){if(h in a){if(l=L?L(a[h],h,P):a[h],0<d&&I(l))$=o(m,P,l,D(l.length),$,d-1)-1;else{if(9007199254740991<=$)throw TypeError("Exceed the acceptable array length");m[$]=l}$++}h++}return $}var I=i("../internals/is-array"),D=i("../internals/to-length"),c=i("../internals/function-bind-context");X.exports=o},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(i,X,p){i=i("../internals/fails"),X.exports=!i(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(i,X,p){var o=i("../internals/a-function");X.exports=function(I,D,c){if(o(I),D===void 0)return I;switch(c){case 0:return function(){return I.call(D)};case 1:return function(m){return I.call(D,m)};case 2:return function(m,P){return I.call(D,m,P)};case 3:return function(m,P,a){return I.call(D,m,P,a)}}return function(){return I.apply(D,arguments)}}},{"../internals/a-function":5}],56:[function(i,X,p){"use strict";var o=i("../internals/a-function"),I=i("../internals/is-object"),D=[].slice,c={};X.exports=Function.bind||function(m){var P=o(this),a=D.call(arguments,1),n=function(){var r=a.concat(D.call(arguments));if(this instanceof n){var d=P,s=r.length,t=r;if(!(s in c)){for(var l=[],$=0;$<s;$++)l[$]="a["+$+"]";c[s]=Function("C,a","return new C("+l.join(",")+")")}return c[s](d,t)}return P.apply(m,r)};return I(P.prototype)&&(n.prototype=P.prototype),n}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(i,X,p){function o(c){return typeof c=="function"?c:void 0}var I=i("../internals/path"),D=i("../internals/global");X.exports=function(c,m){return arguments.length<2?o(I[c])||o(D[c]):I[c]&&I[c][m]||D[c]&&D[c][m]}},{"../internals/global":60,"../internals/path":106}],58:[function(i,X,p){var o=i("../internals/classof"),I=i("../internals/iterators"),D=i("../internals/well-known-symbol")("iterator");X.exports=function(c){if(c!=null)return c[D]||c["@@iterator"]||I[o(c)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(i,X,p){var o=i("../internals/an-object"),I=i("../internals/get-iterator-method");X.exports=function(D){var c=I(D);if(typeof c!="function")throw TypeError(String(D)+" is not iterable");return o(c.call(D))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(i,X,p){(function(o){function I(D){return D&&D.Math==Math&&D}X.exports=I(typeof globalThis=="object"&&globalThis)||I(typeof window=="object"&&window)||I(typeof self=="object"&&self)||I(typeof o=="object"&&o)||Function("return this")()}).call(this,typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(i,X,p){var o={}.hasOwnProperty;X.exports=function(I,D){return o.call(I,D)}},{}],62:[function(i,X,p){X.exports={}},{}],63:[function(i,X,p){var o=i("../internals/global");X.exports=function(I,D){var c=o.console;c&&c.error&&(arguments.length===1?c.error(I):c.error(I,D))}},{"../internals/global":60}],64:[function(i,X,p){i=i("../internals/get-built-in"),X.exports=i("document","documentElement")},{"../internals/get-built-in":57}],65:[function(i,X,p){var o=i("../internals/descriptors"),I=i("../internals/fails"),D=i("../internals/document-create-element");X.exports=!o&&!I(function(){return Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(i,X,p){var o=Math.abs,I=Math.pow,D=Math.floor,c=Math.log,m=Math.LN2;X.exports={pack:function(P,a,$){var r,d,s,t=new Array($),l=8*$-a-1,$=(1<<l)-1,h=$>>1,L=a===23?I(2,-24)-I(2,-77):0,U=P<0||P===0&&1/P<0?1:0,T=0;for((P=o(P))!=P||P===1/0?(d=P!=P?1:0,r=$):(r=D(c(P)/m),P*(s=I(2,-r))<1&&(r--,s*=2),2<=(P+=1<=r+h?L/s:L*I(2,1-h))*s&&(r++,s/=2),$<=r+h?(d=0,r=$):1<=r+h?(d=(P*s-1)*I(2,a),r+=h):(d=P*I(2,h-1)*I(2,a),r=0));8<=a;t[T++]=255&d,d/=256,a-=8);for(r=r<<a|d,l+=a;0<l;t[T++]=255&r,r/=256,l-=8);return t[--T]|=128*U,t},unpack:function(P,a){var n,r=P.length,$=8*r-a-1,d=(1<<$)-1,s=d>>1,t=$-7,l=r-1,$=P[l--],h=127&$;for($>>=7;0<t;h=256*h+P[l],l--,t-=8);for(n=h&(1<<-t)-1,h>>=-t,t+=a;0<t;n=256*n+P[l],l--,t-=8);if(h===0)h=1-s;else{if(h===d)return n?NaN:$?-1/0:1/0;n+=I(2,a),h-=s}return($?-1:1)*n*I(2,h-a)}}},{}],67:[function(i,X,p){var o=i("../internals/fails"),I=i("../internals/classof-raw"),D="".split;X.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return I(c)=="String"?D.call(c,""):Object(c)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(i,X,p){var o=i("../internals/is-object"),I=i("../internals/object-set-prototype-of");X.exports=function(D,c,m){return I&&typeof(c=c.constructor)=="function"&&c!==m&&o(c=c.prototype)&&c!==m.prototype&&I(D,c),D}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(o,X,p){var o=o("../internals/shared-store"),I=Function.toString;typeof o.inspectSource!="function"&&(o.inspectSource=function(D){return I.call(D)}),X.exports=o.inspectSource},{"../internals/shared-store":121}],70:[function(i,X,p){function o(t){m(t,n,{value:{objectID:"O"+ ++r,weakData:{}}})}var I=i("../internals/hidden-keys"),D=i("../internals/is-object"),c=i("../internals/has"),m=i("../internals/object-define-property").f,P=i("../internals/uid"),a=i("../internals/freezing"),n=P("meta"),r=0,d=Object.isExtensible||function(){return!0},s=X.exports={REQUIRED:!1,fastKey:function(t,l){if(!D(t))return typeof t=="symbol"?t:(typeof t=="string"?"S":"P")+t;if(!c(t,n)){if(!d(t))return"F";if(!l)return"E";o(t)}return t[n].objectID},getWeakData:function(t,l){if(!c(t,n)){if(!d(t))return!0;if(!l)return!1;o(t)}return t[n].weakData},onFreeze:function(t){return a&&s.REQUIRED&&d(t)&&!c(t,n)&&o(t),t}};I[n]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function($,X,p){var o,I,D,c,m,P,a,n,r=$("../internals/native-weak-map"),h=$("../internals/global"),d=$("../internals/is-object"),s=$("../internals/create-non-enumerable-property"),t=$("../internals/has"),l=$("../internals/shared-key"),$=$("../internals/hidden-keys"),h=h.WeakMap;a=r?(o=new h,I=o.get,D=o.has,c=o.set,m=function(L,U){return c.call(o,L,U),U},P=function(L){return I.call(o,L)||{}},function(L){return D.call(o,L)}):($[n=l("state")]=!0,m=function(L,U){return s(L,n,U),U},P=function(L){return t(L,n)?L[n]:{}},function(L){return t(L,n)}),X.exports={set:m,get:P,has:a,enforce:function(L){return a(L)?P(L):m(L,{})},getterFor:function(L){return function(U){if(d(U)&&(U=P(U)).type===L)return U;throw TypeError("Incompatible receiver, "+L+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(i,X,p){var o=i("../internals/well-known-symbol"),I=i("../internals/iterators"),D=o("iterator"),c=Array.prototype;X.exports=function(m){return m!==void 0&&(I.Array===m||c[D]===m)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(i,X,p){var o=i("../internals/classof-raw");X.exports=Array.isArray||function(I){return o(I)=="Array"}},{"../internals/classof-raw":28}],74:[function(i,X,p){function o(n,r){return(n=m[c(n)])==a||n!=P&&(typeof r=="function"?I(r):!!r)}var I=i("../internals/fails"),D=/#|\.prototype\./,c=o.normalize=function(n){return String(n).replace(D,".").toLowerCase()},m=o.data={},P=o.NATIVE="N",a=o.POLYFILL="P";X.exports=o},{"../internals/fails":51}],75:[function(i,X,p){X.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},{}],76:[function(i,X,p){X.exports=!1},{}],77:[function(i,X,p){var o=i("../internals/is-object"),I=i("../internals/classof-raw"),D=i("../internals/well-known-symbol")("match");X.exports=function(c){var m;return o(c)&&((m=c[D])!==void 0?!!m:I(c)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(i,X,p){function o(n,r){this.stopped=n,this.result=r}var I=i("../internals/an-object"),D=i("../internals/is-array-iterator-method"),c=i("../internals/to-length"),m=i("../internals/function-bind-context"),P=i("../internals/get-iterator-method"),a=i("../internals/call-with-safe-iteration-closing");(X.exports=function(n,r,d,s,t){var l,$,h,L,U,T,B=m(r,d,s?2:1);if(t)l=n;else{if(typeof(r=P(n))!="function")throw TypeError("Target is not iterable");if(D(r)){for($=0,h=c(n.length);$<h;$++)if((L=s?B(I(T=n[$])[0],T[1]):B(n[$]))&&L instanceof o)return L;return new o(!1)}l=r.call(n)}for(U=l.next;!(T=U.call(l)).done;)if(typeof(L=a(l,B,T.value,s))=="object"&&L&&L instanceof o)return L;return new o(!1)}).stop=function(n){return new o(!0,n)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(P,X,p){"use strict";var o,I,D=P("../internals/object-get-prototype-of"),c=P("../internals/create-non-enumerable-property"),m=P("../internals/has"),a=P("../internals/well-known-symbol"),P=P("../internals/is-pure"),a=a("iterator"),n=!1;[].keys&&("next"in(I=[].keys())?(D=D(D(I)))!==Object.prototype&&(o=D):n=!0),o==null&&(o={}),P||m(o,a)||c(o,a,function(){return this}),X.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:n}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(i,X,p){X.exports={}},{}],81:[function(i,X,p){X.exports=Math.sign||function(o){return(o=+o)==0||o!=o?o:o<0?-1:1}},{}],82:[function(s,X,p){var o,I,D,c,m,P,a,n,r=s("../internals/global"),U=s("../internals/object-get-own-property-descriptor").f,L=s("../internals/classof-raw"),d=s("../internals/task").set,s=s("../internals/engine-is-ios"),t=r.MutationObserver||r.WebKitMutationObserver,l=r.process,$=r.Promise,h=L(l)=="process",L=U(r,"queueMicrotask"),U=L&&L.value;U||(o=function(){var T,B;for(h&&(T=l.domain)&&T.exit();I;){B=I.fn,I=I.next;try{B()}catch(J){throw I?c():D=void 0,J}}D=void 0,T&&T.enter()},c=h?function(){l.nextTick(o)}:t&&!s?(m=!0,P=document.createTextNode(""),new t(o).observe(P,{characterData:!0}),function(){P.data=m=!m}):$&&$.resolve?(a=$.resolve(void 0),n=a.then,function(){n.call(a,o)}):function(){d.call(r,o)}),X.exports=U||function(T){T={fn:T,next:void 0},D&&(D.next=T),I||(I=T,c()),D=T}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(i,X,p){i=i("../internals/global"),X.exports=i.Promise},{"../internals/global":60}],84:[function(i,X,p){i=i("../internals/fails"),X.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(i,X,p){var o=i("../internals/fails"),I=i("../internals/well-known-symbol"),D=i("../internals/is-pure"),c=I("iterator");X.exports=!o(function(){var m=new URL("b?a=1&b=2&c=3","http://a"),P=m.searchParams,a="";return m.pathname="c%20d",P.forEach(function(n,r){P.delete("b"),a+=r+n}),D&&!m.toJSON||!P.sort||m.href!=="http://a/c%20d?a=1&c=3"||P.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!P[c]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://\u0442\u0435\u0441\u0442").host!=="xn--e1aybc"||new URL("http://a#\u0431").hash!=="#%D0%B1"||a!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(o,X,p){var I=o("../internals/global"),o=o("../internals/inspect-source"),I=I.WeakMap;X.exports=typeof I=="function"&&/native code/.test(o(I))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(i,X,p){"use strict";function o(D){var c,m;this.promise=new D(function(P,a){if(c!==void 0||m!==void 0)throw TypeError("Bad Promise constructor");c=P,m=a}),this.resolve=I(c),this.reject=I(m)}var I=i("../internals/a-function");X.exports.f=function(D){return new o(D)}},{"../internals/a-function":5}],88:[function(i,X,p){var o=i("../internals/is-regexp");X.exports=function(I){if(o(I))throw TypeError("The method doesn't accept regular expressions");return I}},{"../internals/is-regexp":77}],89:[function(i,X,p){var o=i("../internals/global").isFinite;X.exports=Number.isFinite||function(I){return typeof I=="number"&&o(I)}},{"../internals/global":60}],90:[function(i,X,p){"use strict";var o=i("../internals/descriptors"),I=i("../internals/fails"),D=i("../internals/object-keys"),c=i("../internals/object-get-own-property-symbols"),m=i("../internals/object-property-is-enumerable"),P=i("../internals/to-object"),a=i("../internals/indexed-object"),n=Object.assign,r=Object.defineProperty;X.exports=!n||I(function(){var d,s,t,l;return!(!o||n({b:1},n(r({},"a",{enumerable:!0,get:function(){r(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(s={},l="abcdefghijklmnopqrst",(d={})[t=Symbol()]=7,l.split("").forEach(function($){s[$]=$}),n({},d)[t]!=7||D(n({},s)).join("")!=l)})?function(d,s){for(var t=P(d),l=arguments.length,$=1,h=c.f,L=m.f;$<l;)for(var U,T=a(arguments[$++]),B=h?D(T).concat(h(T)):D(T),J=B.length,S=0;S<J;)U=B[S++],o&&!L.call(T,U)||(t[U]=T[U]);return t}:n},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(r,X,p){function o(){}var I,D=r("../internals/an-object"),c=r("../internals/object-define-properties"),m=r("../internals/enum-bug-keys"),P=r("../internals/hidden-keys"),a=r("../internals/html"),n=r("../internals/document-create-element"),r=r("../internals/shared-key"),d="prototype",s="script",t=r("IE_PROTO"),l=function(h){return"<"+s+">"+h+"</"+s+">"},$=function(){try{I=document.domain&&new ActiveXObject("htmlfile")}catch{}$=I?((h=I).write(l("")),h.close(),L=h.parentWindow.Object,h=null,L):(h=n("iframe"),L="java"+s+":",h.style.display="none",a.appendChild(h),h.src=String(L),(L=h.contentWindow.document).open(),L.write(l("document.F=Object")),L.close(),L.F);for(var h,L,U=m.length;U--;)delete $[d][m[U]];return $()};P[t]=!0,X.exports=Object.create||function(h,L){var U;return h!==null?(o[d]=D(h),U=new o,o[d]=null,U[t]=h):U=$(),L===void 0?U:c(U,L)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(i,X,p){var o=i("../internals/descriptors"),I=i("../internals/object-define-property"),D=i("../internals/an-object"),c=i("../internals/object-keys");X.exports=o?Object.defineProperties:function(m,P){D(m);for(var a,n=c(P),r=n.length,d=0;d<r;)I.f(m,a=n[d++],P[a]);return m}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(i,X,p){var o=i("../internals/descriptors"),I=i("../internals/ie8-dom-define"),D=i("../internals/an-object"),c=i("../internals/to-primitive"),m=Object.defineProperty;p.f=o?m:function(P,a,n){if(D(P),a=c(a,!0),D(n),I)try{return m(P,a,n)}catch{}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(P[a]=n.value),P}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(i,X,p){var o=i("../internals/descriptors"),I=i("../internals/object-property-is-enumerable"),D=i("../internals/create-property-descriptor"),c=i("../internals/to-indexed-object"),m=i("../internals/to-primitive"),P=i("../internals/has"),a=i("../internals/ie8-dom-define"),n=Object.getOwnPropertyDescriptor;p.f=o?n:function(r,d){if(r=c(r),d=m(d,!0),a)try{return n(r,d)}catch{}if(P(r,d))return D(!I.f.call(r,d),r[d])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(i,X,p){var o=i("../internals/to-indexed-object"),I=i("../internals/object-get-own-property-names").f,D={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];X.exports.f=function(m){if(!c||D.call(m)!="[object Window]")return I(o(m));try{return I(m)}catch{return c.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(i,X,p){var o=i("../internals/object-keys-internal"),I=i("../internals/enum-bug-keys").concat("length","prototype");p.f=Object.getOwnPropertyNames||function(D){return o(D,I)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(i,X,p){p.f=Object.getOwnPropertySymbols},{}],98:[function(c,X,p){var o=c("../internals/has"),I=c("../internals/to-object"),D=c("../internals/shared-key"),c=c("../internals/correct-prototype-getter"),m=D("IE_PROTO"),P=Object.prototype;X.exports=c?Object.getPrototypeOf:function(a){return a=I(a),o(a,m)?a[m]:typeof a.constructor=="function"&&a instanceof a.constructor?a.constructor.prototype:a instanceof Object?P:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(i,X,p){var o=i("../internals/has"),I=i("../internals/to-indexed-object"),D=i("../internals/array-includes").indexOf,c=i("../internals/hidden-keys");X.exports=function(m,P){var a,n=I(m),r=0,d=[];for(a in n)!o(c,a)&&o(n,a)&&d.push(a);for(;P.length>r;)!o(n,a=P[r++])||~D(d,a)||d.push(a);return d}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(i,X,p){var o=i("../internals/object-keys-internal"),I=i("../internals/enum-bug-keys");X.exports=Object.keys||function(D){return o(D,I)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(i,X,p){"use strict";var o={}.propertyIsEnumerable,I=Object.getOwnPropertyDescriptor,D=I&&!o.call({1:2},1);p.f=D?function(c){return c=I(this,c),!!c&&c.enumerable}:o},{}],102:[function(i,X,p){var o=i("../internals/an-object"),I=i("../internals/a-possible-prototype");X.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var D,c=!1,m={};try{(D=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(m,[]),c=m instanceof Array}catch{}return function(P,a){return o(P),I(a),c?D.call(P,a):P.__proto__=a,P}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(i,X,p){function o(P){return function(a){for(var n,r=c(a),d=D(r),s=d.length,t=0,l=[];t<s;)n=d[t++],I&&!m.call(r,n)||l.push(P?[n,r[n]]:r[n]);return l}}var I=i("../internals/descriptors"),D=i("../internals/object-keys"),c=i("../internals/to-indexed-object"),m=i("../internals/object-property-is-enumerable").f;X.exports={entries:o(!0),values:o(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(i,X,p){"use strict";var o=i("../internals/to-string-tag-support"),I=i("../internals/classof");X.exports=o?{}.toString:function(){return"[object "+I(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(i,X,p){var o=i("../internals/get-built-in"),I=i("../internals/object-get-own-property-names"),D=i("../internals/object-get-own-property-symbols"),c=i("../internals/an-object");X.exports=o("Reflect","ownKeys")||function(m){var P=I.f(c(m)),a=D.f;return a?P.concat(a(m)):P}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(i,X,p){i=i("../internals/global"),X.exports=i},{"../internals/global":60}],107:[function(i,X,p){X.exports=function(o){try{return{error:!1,value:o()}}catch(I){return{error:!0,value:I}}}},{}],108:[function(i,X,p){var o=i("../internals/an-object"),I=i("../internals/is-object"),D=i("../internals/new-promise-capability");X.exports=function(c,m){return o(c),I(m)&&m.constructor===c?m:((0,(c=D.f(c)).resolve)(m),c.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(i,X,p){var o=i("../internals/redefine");X.exports=function(I,D,c){for(var m in D)o(I,m,D[m],c);return I}},{"../internals/redefine":110}],110:[function(P,X,p){var o=P("../internals/global"),I=P("../internals/create-non-enumerable-property"),D=P("../internals/has"),c=P("../internals/set-global"),m=P("../internals/inspect-source"),P=P("../internals/internal-state"),a=P.get,n=P.enforce,r=String(String).split("String");(X.exports=function(d,s,t,L){var $=!!L&&!!L.unsafe,h=!!L&&!!L.enumerable,L=!!L&&!!L.noTargetGet;typeof t=="function"&&(typeof s!="string"||D(t,"name")||I(t,"name",s),n(t).source=r.join(typeof s=="string"?s:"")),d===o?h?d[s]=t:c(s,t):($?!L&&d[s]&&(h=!0):delete d[s],h?d[s]=t:I(d,s,t))})(Function.prototype,"toString",function(){return typeof this=="function"&&a(this).source||m(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(i,X,p){var o=i("./classof-raw"),I=i("./regexp-exec");X.exports=function(D,c){var m=D.exec;if(typeof m=="function"){if(m=m.call(D,c),typeof m!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return m}if(o(D)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return I.call(D,c)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(c,X,p){"use strict";var o,I,D=c("./regexp-flags"),c=c("./regexp-sticky-helpers"),m=RegExp.prototype.exec,P=String.prototype.replace,a=m,n=(o=/a/,I=/b*/g,m.call(o,"a"),m.call(I,"a"),o.lastIndex!==0||I.lastIndex!==0),r=c.UNSUPPORTED_Y||c.BROKEN_CARET,d=/()??/.exec("")[1]!==void 0;X.exports=a=n||d||r?function(s){var t,l,$,h,L=this,U=r&&L.sticky,T=D.call(L),B=L.source,J=0,S=s;return U&&((T=T.replace("y","")).indexOf("g")===-1&&(T+="g"),S=String(s).slice(L.lastIndex),0<L.lastIndex&&(!L.multiline||L.multiline&&s[L.lastIndex-1]!==`
`)&&(B="(?: "+B+")",S=" "+S,J++),l=new RegExp("^(?:"+B+")",T)),d&&(l=new RegExp("^"+B+"$(?!\\s)",T)),n&&(t=L.lastIndex),$=m.call(U?l:L,S),U?$?($.input=$.input.slice(J),$[0]=$[0].slice(J),$.index=L.lastIndex,L.lastIndex+=$[0].length):L.lastIndex=0:n&&$&&(L.lastIndex=L.global?$.index+$[0].length:t),d&&$&&1<$.length&&P.call($[0],l,function(){for(h=1;h<arguments.length-2;h++)arguments[h]===void 0&&($[h]=void 0)}),$}:a},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(i,X,p){"use strict";var o=i("../internals/an-object");X.exports=function(){var I=o(this),D="";return I.global&&(D+="g"),I.ignoreCase&&(D+="i"),I.multiline&&(D+="m"),I.dotAll&&(D+="s"),I.unicode&&(D+="u"),I.sticky&&(D+="y"),D}},{"../internals/an-object":10}],114:[function(i,X,p){"use strict";i=i("./fails");function o(I,D){return RegExp(I,D)}p.UNSUPPORTED_Y=i(function(){var I=o("a","y");return I.lastIndex=2,I.exec("abcd")!=null}),p.BROKEN_CARET=i(function(){var I=o("^r","gy");return I.lastIndex=2,I.exec("str")!=null})},{"./fails":51}],115:[function(i,X,p){X.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},{}],116:[function(i,X,p){X.exports=Object.is||function(o,I){return o===I?o!==0||1/o==1/I:o!=o&&I!=I}},{}],117:[function(i,X,p){var o=i("../internals/global"),I=i("../internals/create-non-enumerable-property");X.exports=function(D,c){try{I(o,D,c)}catch{o[D]=c}return c}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(i,X,p){"use strict";var o=i("../internals/get-built-in"),I=i("../internals/object-define-property"),D=i("../internals/well-known-symbol"),c=i("../internals/descriptors"),m=D("species");X.exports=function(a){var a=o(a),n=I.f;c&&a&&!a[m]&&n(a,m,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(i,X,p){var o=i("../internals/object-define-property").f,I=i("../internals/has"),D=i("../internals/well-known-symbol")("toStringTag");X.exports=function(c,m,P){c&&!I(c=P?c:c.prototype,D)&&o(c,D,{configurable:!0,value:m})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(i,X,p){var o=i("../internals/shared"),I=i("../internals/uid"),D=o("keys");X.exports=function(c){return D[c]||(D[c]=I(c))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(o,X,p){var D=o("../internals/global"),o=o("../internals/set-global"),I="__core-js_shared__",D=D[I]||o(I,{});X.exports=D},{"../internals/global":60,"../internals/set-global":117}],122:[function(i,X,p){var o=i("../internals/is-pure"),I=i("../internals/shared-store");(X.exports=function(D,c){return I[D]||(I[D]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:"\xA9 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(i,X,p){var o=i("../internals/an-object"),I=i("../internals/a-function"),D=i("../internals/well-known-symbol")("species");X.exports=function(P,m){var P=o(P).constructor;return P===void 0||(P=o(P)[D])==null?m:I(P)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(i,X,p){var o=i("../internals/fails");X.exports=function(I){return o(function(){var D=""[I]('"');return D!==D.toLowerCase()||3<D.split('"').length})}},{"../internals/fails":51}],125:[function(i,X,p){function o(c){return function(n,r){var a,n=String(D(n)),r=I(r),d=n.length;return r<0||d<=r?c?"":void 0:(a=n.charCodeAt(r))<55296||56319<a||r+1===d||(d=n.charCodeAt(r+1))<56320||57343<d?c?n.charAt(r):a:c?n.slice(r,r+2):d-56320+(a-55296<<10)+65536}}var I=i("../internals/to-integer"),D=i("../internals/require-object-coercible");X.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(i,X,p){i=i("../internals/engine-user-agent"),X.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(i)},{"../internals/engine-user-agent":47}],127:[function(i,X,p){function o(P){return function(d,l,t){var d=String(c(d)),s=d.length,t=t===void 0?" ":String(t),l=I(l);return l<=s||t==""?d:((s=D.call(t,m((l=l-s)/t.length))).length>l&&(s=s.slice(0,l)),P?d+s:s+d)}}var I=i("../internals/to-length"),D=i("../internals/string-repeat"),c=i("../internals/require-object-coercible"),m=Math.ceil;X.exports={start:o(!1),end:o(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(i,X,p){"use strict";function o($){return $+22+75*($<26)}function I($){var h,L=[],U=($=function(N){for(var w=[],ce=0,F=N.length;ce<F;){var f,E=N.charCodeAt(ce++);55296<=E&&E<=56319&&ce<F?(64512&(f=N.charCodeAt(ce++)))==56320?w.push(((1023&E)<<10)+(1023&f)+65536):(w.push(E),ce--):w.push(E)}return w}($)).length,T=128,B=0,J=72;for(M=0;M<$.length;M++)(h=$[M])<128&&L.push(l(h));var S=L.length,A=S;for(S&&L.push("-");A<U;){for(var Q=D,M=0;M<$.length;M++)T<=(h=$[M])&&h<Q&&(Q=h);var k=A+1;if(Q-T>t((D-B)/k))throw RangeError(d);for(B+=(Q-T)*k,T=Q,M=0;M<$.length;M++){if((h=$[M])<T&&++B>D)throw RangeError(d);if(h==T){for(var C=B,j=c;;j+=c){var G=j<=J?1:J+m<=j?m:j-J;if(C<G)break;var y=C-G,g=c-G;L.push(l(o(G+y%g))),C=t(y/g)}L.push(l(o(C))),J=function(N,w,ce){var F=0;for(N=ce?t(N/a):N>>1,N+=t(N/w);s*m>>1<N;F+=c)N=t(N/s);return t(F+(s+1)*N/(N+P))}(B,k,A==S),B=0,++A}}++B,++T}return L.join("")}var D=2147483647,c=36,m=26,P=38,a=700,n=/[^\0-\u007E]/,r=/[.\u3002\uFF0E\uFF61]/g,d="Overflow: input needs wider integers to process",s=c-1,t=Math.floor,l=String.fromCharCode;X.exports=function($){for(var h,L=[],U=$.toLowerCase().replace(r,".").split("."),T=0;T<U.length;T++)h=U[T],L.push(n.test(h)?"xn--"+I(h):h);return L.join(".")}},{}],129:[function(i,X,p){"use strict";var o=i("../internals/to-integer"),I=i("../internals/require-object-coercible");X.exports="".repeat||function(D){var c=String(I(this)),m="",P=o(D);if(P<0||P==1/0)throw RangeError("Wrong number of repetitions");for(;0<P;(P>>>=1)&&(c+=c))1&P&&(m+=c);return m}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(i,X,p){var o=i("../internals/fails"),I=i("../internals/whitespaces");X.exports=function(D){return o(function(){return!!I[D]()||"\u200B\x85\u180E"[D]()!="\u200B\x85\u180E"||I[D].name!==D})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(D,X,p){function o(P){return function(a){return a=String(I(a)),1&P&&(a=a.replace(c,"")),a=2&P?a.replace(m,""):a}}var I=D("../internals/require-object-coercible"),D="["+D("../internals/whitespaces")+"]",c=RegExp("^"+D+D+"*"),m=RegExp(D+D+"*$");X.exports={start:o(1),end:o(2),trim:o(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(s,X,p){function o(A){return function(){S(A)}}function I(A){S(A.data)}function D(A){m.postMessage(A+"",t.protocol+"//"+t.host)}var c,m=s("../internals/global"),P=s("../internals/fails"),a=s("../internals/classof-raw"),n=s("../internals/function-bind-context"),r=s("../internals/html"),d=s("../internals/document-create-element"),s=s("../internals/engine-is-ios"),t=m.location,l=m.setImmediate,$=m.clearImmediate,h=m.process,L=m.MessageChannel,U=m.Dispatch,T=0,B={},J="onreadystatechange",S=function(A){var Q;B.hasOwnProperty(A)&&(Q=B[A],delete B[A],Q())};l&&$||(l=function(A){for(var Q=[],M=1;M<arguments.length;)Q.push(arguments[M++]);return B[++T]=function(){(typeof A=="function"?A:Function(A)).apply(void 0,Q)},c(T),T},$=function(A){delete B[A]},a(h)=="process"?c=function(A){h.nextTick(o(A))}:U&&U.now?c=function(A){U.now(o(A))}:L&&!s?(s=(a=new L).port2,a.port1.onmessage=I,c=n(s.postMessage,s,1)):!m.addEventListener||typeof postMessage!="function"||m.importScripts||P(D)||t.protocol==="file:"?c=J in d("script")?function(A){r.appendChild(d("script"))[J]=function(){r.removeChild(this),S(A)}}:function(A){setTimeout(o(A),0)}:(c=D,m.addEventListener("message",I,!1))),X.exports={set:l,clear:$}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(i,X,p){var o=i("../internals/classof-raw");X.exports=function(I){if(typeof I!="number"&&o(I)!="Number")throw TypeError("Incorrect invocation");return+I}},{"../internals/classof-raw":28}],134:[function(i,X,p){var o=i("../internals/to-integer"),I=Math.max,D=Math.min;X.exports=function(c,m){return c=o(c),c<0?I(c+m,0):D(c,m)}},{"../internals/to-integer":137}],135:[function(i,X,p){var o=i("../internals/to-integer"),I=i("../internals/to-length");X.exports=function(c){if(c===void 0)return 0;var c=o(c),m=I(c);if(c!==m)throw RangeError("Wrong length or index");return m}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(i,X,p){var o=i("../internals/indexed-object"),I=i("../internals/require-object-coercible");X.exports=function(D){return o(I(D))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(i,X,p){var o=Math.ceil,I=Math.floor;X.exports=function(D){return isNaN(D=+D)?0:(0<D?I:o)(D)}},{}],138:[function(i,X,p){var o=i("../internals/to-integer"),I=Math.min;X.exports=function(D){return 0<D?I(o(D),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(i,X,p){var o=i("../internals/require-object-coercible");X.exports=function(I){return Object(o(I))}},{"../internals/require-object-coercible":115}],140:[function(i,X,p){var o=i("../internals/to-positive-integer");X.exports=function(I,D){if(I=o(I),I%D)throw RangeError("Wrong offset");return I}},{"../internals/to-positive-integer":141}],141:[function(i,X,p){var o=i("../internals/to-integer");X.exports=function(I){if(I=o(I),I<0)throw RangeError("The argument can't be less than 0");return I}},{"../internals/to-integer":137}],142:[function(i,X,p){var o=i("../internals/is-object");X.exports=function(I,D){if(!o(I))return I;var c,m;if(D&&typeof(c=I.toString)=="function"&&!o(m=c.call(I))||typeof(c=I.valueOf)=="function"&&!o(m=c.call(I))||!D&&typeof(c=I.toString)=="function"&&!o(m=c.call(I)))return m;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(i,X,p){var o={};o[i("../internals/well-known-symbol")("toStringTag")]="z",X.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(i,X,p){"use strict";function o(Pe,me){for(var Re=0,je=me.length,be=new(z(Pe))(je);Re<je;)be[Re]=me[Re++];return be}function I(Pe,me){f(Pe,me,{get:function(){return ce(this)[me]}})}function D(Pe){return Pe instanceof ee||(Pe=S(Pe))=="ArrayBuffer"||Pe=="SharedArrayBuffer"}function c(Pe,me){return oe(Pe)&&typeof me!="symbol"&&me in Pe&&String(+me)==String(me)}function m(Pe,me){return c(Pe,me=B(me,!0))?$(2,Pe[me]):E(Pe,me)}function P(Pe,me,Re){return!(c(Pe,me=B(me,!0))&&A(Re)&&J(Re,"value"))||J(Re,"get")||J(Re,"set")||Re.configurable||J(Re,"writable")&&!Re.writable||J(Re,"enumerable")&&!Re.enumerable?f(Pe,me,Re):(Pe[me]=Re.value,Pe)}var a=i("../internals/export"),n=i("../internals/global"),r=i("../internals/descriptors"),d=i("../internals/typed-array-constructors-require-wrappers"),s=i("../internals/array-buffer-view-core"),t=i("../internals/array-buffer"),l=i("../internals/an-instance"),$=i("../internals/create-property-descriptor"),h=i("../internals/create-non-enumerable-property"),L=i("../internals/to-length"),U=i("../internals/to-index"),T=i("../internals/to-offset"),B=i("../internals/to-primitive"),J=i("../internals/has"),S=i("../internals/classof"),A=i("../internals/is-object"),Q=i("../internals/object-create"),M=i("../internals/object-set-prototype-of"),k=i("../internals/object-get-own-property-names").f,C=i("../internals/typed-array-from"),j=i("../internals/array-iteration").forEach,G=i("../internals/set-species"),y=i("../internals/object-define-property"),g=i("../internals/object-get-own-property-descriptor"),N=i("../internals/internal-state"),w=i("../internals/inherit-if-required"),ce=N.get,F=N.set,f=y.f,E=g.f,Z=Math.round,W=n.RangeError,ee=t.ArrayBuffer,De=t.DataView,$e=s.NATIVE_ARRAY_BUFFER_VIEWS,te=s.TYPED_ARRAY_TAG,de=s.TypedArray,ne=s.TypedArrayPrototype,z=s.aTypedArrayConstructor,oe=s.isTypedArray,he="BYTES_PER_ELEMENT",Je="Wrong length";r?($e||(g.f=m,y.f=P,I(ne,"buffer"),I(ne,"byteOffset"),I(ne,"byteLength"),I(ne,"length")),a({target:"Object",stat:!0,forced:!$e},{getOwnPropertyDescriptor:m,defineProperty:P}),X.exports=function(fe,me,Re){function je(Te,_){f(Te,_,{get:function(){var ae=this,x=_;return(ae=ce(ae)).view[Ve](x*be+ae.byteOffset,!0)},set:function(ae){var x=this,re=_;x=ce(x),Re&&(ae=(ae=Z(ae))<0?0:255<ae?255:255&ae),x.view[Ne](re*be+x.byteOffset,ae,!0)},enumerable:!0})}var be=fe.match(/\d+$/)[0]/8,We=fe+(Re?"Clamped":"")+"Array",Ve="get"+fe,Ne="set"+fe,ve=n[We],ye=ve,fe=ye&&ye.prototype,Fe={};$e?d&&(ye=me(function(Te,_,ae,x){return l(Te,ye,We),w(A(_)?D(_)?x!==void 0?new ve(_,T(ae,be),x):ae!==void 0?new ve(_,T(ae,be)):new ve(_):oe(_)?o(ye,_):C.call(ye,_):new ve(U(_)),Te,ye)}),M&&M(ye,de),j(k(ve),function(Te){Te in ye||h(ye,Te,ve[Te])}),ye.prototype=fe):(ye=me(function(Te,_,ae,x){l(Te,ye,We);var re,Le,Be=0,Qe=0;if(A(_)){if(!D(_))return oe(_)?o(ye,_):C.call(ye,_);var ke=_,Qe=T(ae,be),ae=_.byteLength;if(x===void 0){if(ae%be||(re=ae-Qe)<0)throw W(Je)}else if(ae<(re=L(x)*be)+Qe)throw W(Je);Le=re/be}else Le=U(_),ke=new ee(re=Le*be);for(F(Te,{buffer:ke,byteOffset:Qe,byteLength:re,length:Le,view:new De(ke)});Be<Le;)je(Te,Be++)}),M&&M(ye,de),fe=ye.prototype=Q(ne)),fe.constructor!==ye&&h(fe,"constructor",ye),te&&h(fe,te,We),Fe[We]=ye,a({global:!0,forced:ye!=ve,sham:!$e},Fe),he in ye||h(ye,he,be),he in fe||h(fe,he,be),G(We)}):X.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(c,X,p){var o=c("../internals/global"),I=c("../internals/fails"),D=c("../internals/check-correctness-of-iteration"),c=c("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,m=o.ArrayBuffer,P=o.Int8Array;X.exports=!c||!I(function(){P(1)})||!I(function(){new P(-1)})||!D(function(a){new P,new P(null),new P(1.5),new P(a)},!0)||I(function(){return new P(new m(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(i,X,p){var o=i("../internals/to-object"),I=i("../internals/to-length"),D=i("../internals/get-iterator-method"),c=i("../internals/is-array-iterator-method"),m=i("../internals/function-bind-context"),P=i("../internals/array-buffer-view-core").aTypedArrayConstructor;X.exports=function(a){var n,r,d,s,t,l,$=o(a),h=arguments.length,L=1<h?arguments[1]:void 0,U=L!==void 0,T=D($);if(T!=null&&!c(T))for(l=(t=T.call($)).next,$=[];!(s=l.call(t)).done;)$.push(s.value);for(U&&2<h&&(L=m(L,arguments[2],2)),r=I($.length),d=new(P(this))(r),n=0;n<r;n++)d[n]=U?L($[n],n):$[n];return d}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(i,X,p){var o=0,I=Math.random();X.exports=function(D){return"Symbol("+String(D===void 0?"":D)+")_"+(++o+I).toString(36)}},{}],148:[function(i,X,p){i=i("../internals/native-symbol"),X.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(i,X,p){i=i("../internals/well-known-symbol"),p.f=i},{"../internals/well-known-symbol":150}],150:[function(P,X,p){var o=P("../internals/global"),I=P("../internals/shared"),D=P("../internals/has"),c=P("../internals/uid"),m=P("../internals/native-symbol"),P=P("../internals/use-symbol-as-uid"),a=I("wks"),n=o.Symbol,r=P?n:n&&n.withoutSetter||c;X.exports=function(d){return D(a,d)||(m&&D(n,d)?a[d]=n[d]:a[d]=r("Symbol."+d)),a[d]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(i,X,p){X.exports=`	
\v\f\r \xA0\u1680\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF`},{}],152:[function(D,X,p){"use strict";var o=D("../internals/export"),I=D("../internals/global"),m=D("../internals/array-buffer"),D=D("../internals/set-species"),c="ArrayBuffer",m=m[c];o({global:!0,forced:I[c]!==m},{ArrayBuffer:m}),D(c)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function($,X,p){"use strict";var o=$("../internals/export"),I=$("../internals/fails"),D=$("../internals/is-array"),c=$("../internals/is-object"),m=$("../internals/to-object"),P=$("../internals/to-length"),a=$("../internals/create-property"),n=$("../internals/array-species-create"),r=$("../internals/array-method-has-species-support"),l=$("../internals/well-known-symbol"),$=$("../internals/engine-v8-version"),d=l("isConcatSpreadable"),s=9007199254740991,t="Maximum allowed index exceeded",l=51<=$||!I(function(){var h=[];return h[d]=!1,h.concat()[0]!==h}),$=r("concat");o({target:"Array",proto:!0,forced:!l||!$},{concat:function(h){for(var L,U,T,B,J,S=m(this),A=n(S,0),Q=0,M=-1,k=arguments.length;M<k;M++)if(J=void 0,!c(B=T=M===-1?S:arguments[M])||((J=B[d])!==void 0?!J:!D(B))){if(s<=Q)throw TypeError(t);a(A,Q++,T)}else{if(U=P(T.length),s<Q+U)throw TypeError(t);for(L=0;L<U;L++,Q++)L in T&&a(A,Q,T[L])}return A.length=Q,A}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(D,X,p){var o=D("../internals/export"),I=D("../internals/array-copy-within"),D=D("../internals/add-to-unscopables");o({target:"Array",proto:!0},{copyWithin:I}),D("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(c,X,p){"use strict";var o=c("../internals/export"),I=c("../internals/array-iteration").every,D=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),D=D("every"),c=c("every");o({target:"Array",proto:!0,forced:!D||!c},{every:function(m){return I(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(D,X,p){var o=D("../internals/export"),I=D("../internals/array-fill"),D=D("../internals/add-to-unscopables");o({target:"Array",proto:!0},{fill:I}),D("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(c,X,p){"use strict";var o=c("../internals/export"),I=c("../internals/array-iteration").filter,D=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),D=D("filter"),c=c("filter");o({target:"Array",proto:!0,forced:!D||!c},{filter:function(m){return I(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(P,X,p){"use strict";var o=P("../internals/export"),I=P("../internals/array-iteration").findIndex,D=P("../internals/add-to-unscopables"),P=P("../internals/array-method-uses-to-length"),c="findIndex",m=!0,P=P(c);c in[]&&Array(1)[c](function(){m=!1}),o({target:"Array",proto:!0,forced:m||!P},{findIndex:function(a){return I(this,a,1<arguments.length?arguments[1]:void 0)}}),D(c)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(i,X,p){"use strict";var o=i("../internals/export"),I=i("../internals/flatten-into-array"),D=i("../internals/to-object"),c=i("../internals/to-length"),m=i("../internals/a-function"),P=i("../internals/array-species-create");o({target:"Array",proto:!0},{flatMap:function(a){var n,r=D(this),d=c(r.length);return m(a),(n=P(r,0)).length=I(n,r,r,d,0,1,a,1<arguments.length?arguments[1]:void 0),n}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(i,X,p){"use strict";var o=i("../internals/export"),I=i("../internals/flatten-into-array"),D=i("../internals/to-object"),c=i("../internals/to-length"),m=i("../internals/to-integer"),P=i("../internals/array-species-create");o({target:"Array",proto:!0},{flat:function(){var a=arguments.length?arguments[0]:void 0,n=D(this),r=c(n.length),d=P(n,0);return d.length=I(d,n,n,r,0,a===void 0?1:m(a)),d}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(I,X,p){"use strict";var o=I("../internals/export"),I=I("../internals/array-for-each");o({target:"Array",proto:!0,forced:[].forEach!=I},{forEach:I})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(i,X,p){var o=i("../internals/export"),I=i("../internals/array-from");o({target:"Array",stat:!0,forced:!i("../internals/check-correctness-of-iteration")(function(D){Array.from(D)})},{from:I})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(i,X,p){"use strict";var o=i("../internals/export"),I=i("../internals/array-includes").includes,D=i("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:!i("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(c){return I(this,c,1<arguments.length?arguments[1]:void 0)}}),D("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(P,X,p){"use strict";var o=P("../internals/export"),I=P("../internals/array-includes").indexOf,m=P("../internals/array-method-is-strict"),P=P("../internals/array-method-uses-to-length"),D=[].indexOf,c=!!D&&1/[1].indexOf(1,-0)<0,m=m("indexOf"),P=P("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:c||!m||!P},{indexOf:function(a){return c?D.apply(this,arguments)||0:I(this,a,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(m,X,p){"use strict";var o=m("../internals/to-indexed-object"),I=m("../internals/add-to-unscopables"),D=m("../internals/iterators"),c=m("../internals/internal-state"),m=m("../internals/define-iterator"),P="Array Iterator",a=c.set,n=c.getterFor(P);X.exports=m(Array,"Array",function(r,d){a(this,{type:P,target:o(r),index:0,kind:d})},function(){var r=n(this),d=r.target,s=r.kind,t=r.index++;return!d||t>=d.length?{value:r.target=void 0,done:!0}:s=="keys"?{value:t,done:!1}:s=="values"?{value:d[t],done:!1}:{value:[t,d[t]],done:!1}},"values"),D.Arguments=D.Array,I("keys"),I("values"),I("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(m,X,p){"use strict";var o=m("../internals/export"),c=m("../internals/indexed-object"),I=m("../internals/to-indexed-object"),m=m("../internals/array-method-is-strict"),D=[].join,c=c!=Object,m=m("join",",");o({target:"Array",proto:!0,forced:c||!m},{join:function(P){return D.call(I(this),P===void 0?",":P)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(I,X,p){var o=I("../internals/export"),I=I("../internals/array-last-index-of");o({target:"Array",proto:!0,forced:I!==[].lastIndexOf},{lastIndexOf:I})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(c,X,p){"use strict";var o=c("../internals/export"),I=c("../internals/array-iteration").map,D=c("../internals/array-method-has-species-support"),c=c("../internals/array-method-uses-to-length"),D=D("map"),c=c("map");o({target:"Array",proto:!0,forced:!D||!c},{map:function(m){return I(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(d,X,p){"use strict";var o=d("../internals/export"),I=d("../internals/is-object"),D=d("../internals/is-array"),c=d("../internals/to-absolute-index"),m=d("../internals/to-length"),P=d("../internals/to-indexed-object"),a=d("../internals/create-property"),n=d("../internals/well-known-symbol"),r=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),r=r("slice"),d=d("slice",{ACCESSORS:!0,0:0,1:2}),s=n("species"),t=[].slice,l=Math.max;o({target:"Array",proto:!0,forced:!r||!d},{slice:function($,h){var L,U,T,B=P(this),J=m(B.length),S=c($,J),A=c(h===void 0?J:h,J);if(D(B)&&((L=typeof(L=B.constructor)=="function"&&(L===Array||D(L.prototype))||I(L)&&(L=L[s])===null?void 0:L)===Array||L===void 0))return t.call(B,S,A);for(U=new(L===void 0?Array:L)(l(A-S,0)),T=0;S<A;S++,T++)S in B&&a(U,T,B[S]);return U.length=T,U}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(c,X,p){"use strict";var o=c("../internals/export"),I=c("../internals/array-iteration").some,D=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),D=D("some"),c=c("some");o({target:"Array",proto:!0,forced:!D||!c},{some:function(m){return I(this,m,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(r,X,p){"use strict";var o=r("../internals/export"),I=r("../internals/to-absolute-index"),D=r("../internals/to-integer"),c=r("../internals/to-length"),m=r("../internals/to-object"),P=r("../internals/array-species-create"),a=r("../internals/create-property"),n=r("../internals/array-method-has-species-support"),r=r("../internals/array-method-uses-to-length"),n=n("splice"),r=r("splice",{ACCESSORS:!0,0:0,1:2}),d=Math.max,s=Math.min;o({target:"Array",proto:!0,forced:!n||!r},{splice:function(Q,l){var $,h,L,U,T,B,J=m(this),S=c(J.length),A=I(Q,S),Q=arguments.length;if(Q===0?$=h=0:h=Q===1?($=0,S-A):($=Q-2,s(d(D(l),0),S-A)),9007199254740991<S+$-h)throw TypeError("Maximum allowed length exceeded");for(L=P(J,h),U=0;U<h;U++)(T=A+U)in J&&a(L,U,J[T]);if($<(L.length=h)){for(U=A;U<S-h;U++)B=U+$,(T=U+h)in J?J[B]=J[T]:delete J[B];for(U=S;S-h+$<U;U--)delete J[U-1]}else if(h<$)for(U=S-h;A<U;U--)B=U+$-1,(T=U+h-1)in J?J[B]=J[T]:delete J[B];for(U=0;U<$;U++)J[U+A]=arguments[U+2];return J.length=S-h+$,L}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(i,X,p){i("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(i,X,p){i("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(I,X,p){var o=I("../internals/descriptors"),I=I("../internals/object-define-property").f,D=Function.prototype,c=D.toString,m=/^\s*function ([^ (]*)/;!o||"name"in D||I(D,"name",{configurable:!0,get:function(){try{return c.call(this).match(m)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(I,X,p){"use strict";var o=I("../internals/collection"),I=I("../internals/collection-strong");X.exports=o("Map",function(D){return function(){return D(this,arguments.length?arguments[0]:void 0)}},I)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(o,X,p){var o=o("../internals/export"),I=Math.hypot,D=Math.abs,c=Math.sqrt;o({target:"Math",stat:!0,forced:!!I&&I(1/0,NaN)!==1/0},{hypot:function(m,P){for(var a,n,r=0,d=0,s=arguments.length,t=0;d<s;)t<(a=D(arguments[d++]))?(r=r*(n=t/a)*n+1,t=a):r+=0<a?(n=a/t)*n:a;return t===1/0?1/0:t*c(r)}})},{"../internals/export":50}],177:[function(o,X,p){var o=o("../internals/export"),I=Math.log,D=Math.LN2;o({target:"Math",stat:!0},{log2:function(c){return I(c)/D}})},{"../internals/export":50}],178:[function(i,X,p){i("../internals/export")({target:"Math",stat:!0},{sign:i("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(i,X,p){"use strict";function o(M){var k,C,j,G,y,g,N,w=r(M,!1);if(typeof w=="string"&&2<w.length){if((M=(w=h(w)).charCodeAt(0))===43||M===45){if((k=w.charCodeAt(2))===88||k===120)return NaN}else if(M===48){switch(w.charCodeAt(1)){case 66:case 98:C=2,j=49;break;case 79:case 111:C=8,j=55;break;default:return+w}for(y=(G=w.slice(2)).length,g=0;g<y;g++)if((N=G.charCodeAt(g))<48||j<N)return NaN;return parseInt(G,C)}}return+w}var I=i("../internals/descriptors"),D=i("../internals/global"),c=i("../internals/is-forced"),m=i("../internals/redefine"),P=i("../internals/has"),a=i("../internals/classof-raw"),n=i("../internals/inherit-if-required"),r=i("../internals/to-primitive"),d=i("../internals/fails"),s=i("../internals/object-create"),t=i("../internals/object-get-own-property-names").f,l=i("../internals/object-get-own-property-descriptor").f,$=i("../internals/object-define-property").f,h=i("../internals/string-trim").trim,L="Number",U=D[L],T=U.prototype,B=a(s(T))==L;if(c(L,!U(" 0o1")||!U("0b1")||U("+0x1"))){for(var J,S=function(k){var k=arguments.length<1?0:k,C=this;return C instanceof S&&(B?d(function(){T.valueOf.call(C)}):a(C)!=L)?n(new U(o(k)),C,S):o(k)},A=I?t(U):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),Q=0;A.length>Q;Q++)P(U,J=A[Q])&&!P(S,J)&&$(S,J,l(U,J));(S.prototype=T).constructor=S,m(D,L,S)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(i,X,p){i("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(i,X,p){i("../internals/export")({target:"Number",stat:!0},{isFinite:i("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(P,X,p){"use strict";function o(r,d,s){return d===0?s:d%2==1?o(r,d-1,s*r):o(r*r,d/2,s)}var I=P("../internals/export"),D=P("../internals/to-integer"),c=P("../internals/this-number-value"),m=P("../internals/string-repeat"),P=P("../internals/fails"),a=1 .toFixed,n=Math.floor;I({target:"Number",proto:!0,forced:a&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!P(function(){a.call({})})},{toFixed:function(L){function d(J,S){for(var A=-1,Q=S;++A<6;)Q+=J*U[A],U[A]=Q%1e7,Q=n(Q/1e7)}function s(J){for(var S=6,A=0;0<=--S;)A+=U[S],U[S]=n(A/J),A=A%J*1e7}function t(){for(var J,S=6,A="";0<=--S;)A===""&&S!==0&&U[S]===0||(J=String(U[S]),A=A===""?J:A+m.call("0",7-J.length)+J);return A}var l,$,h=c(this),L=D(L),U=[0,0,0,0,0,0],T="",B="0";if(L<0||20<L)throw RangeError("Incorrect fraction digits");if(h!=h)return"NaN";if(h<=-1e21||1e21<=h)return String(h);if(h<0&&(T="-",h=-h),1e-21<h)if(h=(l=function(J){for(var S=0,A=J;4096<=A;)S+=12,A/=4096;for(;2<=A;)S+=1,A/=2;return S}(h*o(2,69,1))-69)<0?h*o(2,-l,1):h/o(2,l,1),h*=4503599627370496,0<(l=52-l)){for(d(0,h),$=L;7<=$;)d(1e7,0),$-=7;for(d(o(10,$,1),0),$=l-1;23<=$;)s(1<<23),$-=23;s(1<<$),d(1,1),s(2),B=t()}else d(0,h),d(1<<-l,0),B=t()+m.call("0",L);return B=0<L?T+((h=B.length)<=L?"0."+m.call("0",L-h)+B:B.slice(0,h-L)+"."+B.slice(h-L)):T+B}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(I,X,p){var o=I("../internals/export"),I=I("../internals/object-assign");o({target:"Object",stat:!0,forced:Object.assign!==I},{assign:I})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(i,X,p){var o=i("../internals/export"),I=i("../internals/object-to-array").entries;o({target:"Object",stat:!0},{entries:function(D){return I(D)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(i,X,p){var o=i("../internals/export"),I=i("../internals/iterate"),D=i("../internals/create-property");o({target:"Object",stat:!0},{fromEntries:function(c){var m={};return I(c,function(P,a){D(m,P,a)},void 0,!0),m}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(c,X,p){var o=c("../internals/export"),m=c("../internals/fails"),I=c("../internals/to-indexed-object"),D=c("../internals/object-get-own-property-descriptor").f,c=c("../internals/descriptors"),m=m(function(){D(1)});o({target:"Object",stat:!0,forced:!c||m,sham:!c},{getOwnPropertyDescriptor:function(P,a){return D(I(P),a)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(D,X,p){var o=D("../internals/export"),I=D("../internals/fails"),D=D("../internals/object-get-own-property-names-external").f;o({target:"Object",stat:!0,forced:I(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:D})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(m,X,p){var o=m("../internals/export"),I=m("../internals/fails"),D=m("../internals/to-object"),c=m("../internals/object-get-prototype-of"),m=m("../internals/correct-prototype-getter");o({target:"Object",stat:!0,forced:I(function(){c(1)}),sham:!m},{getPrototypeOf:function(P){return c(D(P))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(i,X,p){var o=i("../internals/export"),I=i("../internals/to-object"),D=i("../internals/object-keys");o({target:"Object",stat:!0,forced:i("../internals/fails")(function(){D(1)})},{keys:function(c){return D(I(c))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(D,X,p){var o=D("../internals/to-string-tag-support"),I=D("../internals/redefine"),D=D("../internals/object-to-string");o||I(Object.prototype,"toString",D,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(Re,X,p){"use strict";var o,I,D,c,m=Re("../internals/export"),P=Re("../internals/is-pure"),a=Re("../internals/global"),n=Re("../internals/get-built-in"),r=Re("../internals/native-promise-constructor"),d=Re("../internals/redefine"),s=Re("../internals/redefine-all"),t=Re("../internals/set-to-string-tag"),l=Re("../internals/set-species"),$=Re("../internals/is-object"),h=Re("../internals/a-function"),L=Re("../internals/an-instance"),U=Re("../internals/classof-raw"),T=Re("../internals/inspect-source"),B=Re("../internals/iterate"),J=Re("../internals/check-correctness-of-iteration"),S=Re("../internals/species-constructor"),A=Re("../internals/task").set,Q=Re("../internals/microtask"),M=Re("../internals/promise-resolve"),k=Re("../internals/host-report-errors"),C=Re("../internals/new-promise-capability"),j=Re("../internals/perform"),G=Re("../internals/internal-state"),y=Re("../internals/is-forced"),je=Re("../internals/well-known-symbol"),g=Re("../internals/engine-v8-version"),N=je("species"),w="Promise",ce=G.get,F=G.set,f=G.getterFor(w),E=r,Z=a.TypeError,W=a.document,ee=a.process,De=n("fetch"),$e=C.f,te=$e,de=U(ee)=="process",ne=!!(W&&W.createEvent&&a.dispatchEvent),z="unhandledrejection",oe="rejectionhandled",he=1,Je=2,Pe=1,me=2,Re=y(w,function(){var Fe,Te;return T(E)===String(E)&&(g===66||!de&&typeof PromiseRejectionEvent!="function")?!0:!(!P||E.prototype.finally)||!(51<=g&&/native code/.test(E))&&(Te=function(_){_(function(){},function(){})},((Fe=E.resolve(1)).constructor={})[N]=Te,!(Fe.then(function(){})instanceof Te))}),je=Re||!J(function(Fe){E.all(Fe).catch(function(){})}),be=function(Fe){var Te;return!(!$(Fe)||typeof(Te=Fe.then)!="function")&&Te},We=function(Fe,Te,_){var ae;Te.notified||(Te.notified=!0,ae=Te.reactions,Q(function(){for(var x,re,Le=Te.value,Be=Te.state==he,Qe=0;ae.length>Qe;){var ke,ge,Ze,qe=ae[Qe++],di=Be?qe.ok:qe.fail,ti=qe.resolve,ze=qe.reject,ri=qe.domain;try{di?(Be||(Te.rejection===me&&function(Di,ui){A.call(a,function(){de?ee.emit("rejectionHandled",Di):Ve(oe,Di,ui.value)})}(Fe,Te),Te.rejection=Pe),di===!0?ke=Le:(ri&&ri.enter(),ke=di(Le),ri&&(ri.exit(),Ze=!0)),ke===qe.promise?ze(Z("Promise-chain cycle")):(ge=be(ke))?ge.call(ke,ti,ze):ti(ke)):ze(Le)}catch(Di){ri&&!Ze&&ri.exit(),ze(Di)}}Te.reactions=[],Te.notified=!1,_&&!Te.rejection&&(x=Fe,re=Te,A.call(a,function(){var Di=re.value,ui=Ne(re);if(ui&&(ui=j(function(){de?ee.emit("unhandledRejection",Di,x):Ve(z,x,Di)}),re.rejection=de||Ne(re)?me:Pe,ui.error))throw ui.value}))}))},Ve=function(Fe,Te,_){var ae;ne?((ae=W.createEvent("Event")).promise=Te,ae.reason=_,ae.initEvent(Fe,!1,!0),a.dispatchEvent(ae)):ae={promise:Te,reason:_},(Te=a["on"+Fe])?Te(ae):Fe===z&&k("Unhandled promise rejection",_)},Ne=function(Fe){return Fe.rejection!==Pe&&!Fe.parent},ve=function(Fe,Te,_,ae){return function(x){Fe(Te,_,x,ae)}},ye=function(Fe,Te,_,ae){Te.done||(Te.done=!0,(Te=ae||Te).value=_,Te.state=Je,We(Fe,Te,!0))},fe=function(Fe,Te,_,ae){if(!Te.done){Te.done=!0,ae&&(Te=ae);try{if(Fe===_)throw Z("Promise can't be resolved itself");var x=be(_);x?Q(function(){var re={done:!1};try{x.call(_,ve(fe,Fe,re,Te),ve(ye,Fe,re,Te))}catch(Le){ye(Fe,re,Le,Te)}}):(Te.value=_,Te.state=he,We(Fe,Te,!1))}catch(re){ye(Fe,{done:!1},re,Te)}}};Re&&(E=function(Fe){L(this,E,w),h(Fe),o.call(this);var Te=ce(this);try{Fe(ve(fe,this,Te),ve(ye,this,Te))}catch(_){ye(this,Te,_)}},(o=function(Fe){F(this,{type:w,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=s(E.prototype,{then:function(Fe,Te){var _=f(this),ae=$e(S(this,E));return ae.ok=typeof Fe!="function"||Fe,ae.fail=typeof Te=="function"&&Te,ae.domain=de?ee.domain:void 0,_.parent=!0,_.reactions.push(ae),_.state!=0&&We(this,_,!1),ae.promise},catch:function(Fe){return this.then(void 0,Fe)}}),I=function(){var Fe=new o,Te=ce(Fe);this.promise=Fe,this.resolve=ve(fe,Fe,Te),this.reject=ve(ye,Fe,Te)},C.f=$e=function(Fe){return Fe===E||Fe===D?new I:te(Fe)},P||typeof r!="function"||(c=r.prototype.then,d(r.prototype,"then",function(Fe,Te){var _=this;return new E(function(ae,x){c.call(_,ae,x)}).then(Fe,Te)},{unsafe:!0}),typeof De=="function"&&m({global:!0,enumerable:!0,forced:!0},{fetch:function(Fe){return M(E,De.apply(a,arguments))}}))),m({global:!0,wrap:!0,forced:Re},{Promise:E}),t(E,w,!1,!0),l(w),D=n(w),m({target:w,stat:!0,forced:Re},{reject:function(Fe){var Te=$e(this);return Te.reject.call(void 0,Fe),Te.promise}}),m({target:w,stat:!0,forced:P||Re},{resolve:function(Fe){return M(P&&this===D?E:this,Fe)}}),m({target:w,stat:!0,forced:je},{all:function(Fe){var Te=this,_=$e(Te),ae=_.resolve,x=_.reject,re=j(function(){var Le=h(Te.resolve),Be=[],Qe=0,ke=1;B(Fe,function(ge){var Ze=Qe++,qe=!1;Be.push(void 0),ke++,Le.call(Te,ge).then(function(di){qe||(qe=!0,Be[Ze]=di,--ke||ae(Be))},x)}),--ke||ae(Be)});return re.error&&x(re.value),_.promise},race:function(Fe){var Te=this,_=$e(Te),ae=_.reject,x=j(function(){var re=h(Te.resolve);B(Fe,function(Le){re.call(Te,Le).then(_.resolve,ae)})});return x.error&&ae(x.value),_.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(a,X,p){var o=a("../internals/export"),s=a("../internals/get-built-in"),I=a("../internals/a-function"),D=a("../internals/an-object"),c=a("../internals/is-object"),m=a("../internals/object-create"),P=a("../internals/function-bind"),a=a("../internals/fails"),n=s("Reflect","construct"),r=a(function(){function t(){}return!(n(function(){},[],t)instanceof t)}),d=!a(function(){n(function(){})}),s=r||d;o({target:"Reflect",stat:!0,forced:s,sham:s},{construct:function(t,l){I(t),D(l);var $=arguments.length<3?t:I(arguments[2]);if(d&&!r)return n(t,l,$);if(t==$){switch(l.length){case 0:return new t;case 1:return new t(l[0]);case 2:return new t(l[0],l[1]);case 3:return new t(l[0],l[1],l[2]);case 4:return new t(l[0],l[1],l[2],l[3])}var h=[null];return h.push.apply(h,l),new(P.apply(t,h))}return h=$.prototype,$=m(c(h)?h:Object.prototype),h=Function.apply.call(t,$,l),c(h)?h:$}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(i,X,p){var o=i("../internals/export"),I=i("../internals/is-object"),D=i("../internals/an-object"),c=i("../internals/has"),m=i("../internals/object-get-own-property-descriptor"),P=i("../internals/object-get-prototype-of");o({target:"Reflect",stat:!0},{get:function a(n,r){var d,s=arguments.length<3?n:arguments[2];return D(n)===s?n[r]:(d=m.f(n,r))?c(d,"value")?d.value:d.get===void 0?void 0:d.get.call(s):I(d=P(n))?a(d,r,s):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(i,X,p){var o=i("../internals/descriptors"),I=i("../internals/global"),D=i("../internals/is-forced"),c=i("../internals/inherit-if-required"),m=i("../internals/object-define-property").f,P=i("../internals/object-get-own-property-names").f,a=i("../internals/is-regexp"),n=i("../internals/regexp-flags"),r=i("../internals/regexp-sticky-helpers"),d=i("../internals/redefine"),s=i("../internals/fails"),t=i("../internals/internal-state").set,l=i("../internals/set-species"),$=i("../internals/well-known-symbol")("match"),h=I.RegExp,L=h.prototype,U=/a/g,T=/a/g,B=new h(U)!==U,J=r.UNSUPPORTED_Y;if(o&&D("RegExp",!B||J||s(function(){return T[$]=!1,h(U)!=U||h(T)==T||h(U,"i")!="/a/i"}))){for(var S=function(M,k){var C,j=this instanceof S,G=a(M),y=k===void 0;return!j&&G&&M.constructor===S&&y?M:(B?G&&!y&&(M=M.source):M instanceof S&&(y&&(k=n.call(M)),M=M.source),J&&(C=!!k&&-1<k.indexOf("y"))&&(k=k.replace(/y/g,"")),G=c(B?new h(M,k):h(M,k),j?this:L,S),J&&C&&t(G,{sticky:C}),G)},A=P(h),Q=0;A.length>Q;)(function(M){M in S||m(S,M,{configurable:!0,get:function(){return h[M]},set:function(k){h[M]=k}})})(A[Q++]);(L.constructor=S).prototype=L,d(I,"RegExp",S)}l("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(I,X,p){"use strict";var o=I("../internals/export"),I=I("../internals/regexp-exec");o({target:"RegExp",proto:!0,forced:/./.exec!==I},{exec:I})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(c,X,p){"use strict";var o=c("../internals/redefine"),I=c("../internals/an-object"),a=c("../internals/fails"),D=c("../internals/regexp-flags"),c="toString",m=RegExp.prototype,P=m[c],a=a(function(){return P.call({source:"a",flags:"b"})!="/a/b"}),n=P.name!=c;(a||n)&&o(RegExp.prototype,c,function(){var r=I(this),d=String(r.source),s=r.flags;return"/"+d+"/"+String(s===void 0&&r instanceof RegExp&&!("flags"in m)?D.call(r):s)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(I,X,p){"use strict";var o=I("../internals/collection"),I=I("../internals/collection-strong");X.exports=o("Set",function(D){return function(){return D(this,arguments.length?arguments[0]:void 0)}},I)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(P,X,p){"use strict";var o=P("../internals/export"),I=P("../internals/object-get-own-property-descriptor").f,D=P("../internals/to-length"),c=P("../internals/not-a-regexp"),m=P("../internals/require-object-coercible"),r=P("../internals/correct-is-regexp-logic"),P=P("../internals/is-pure"),a="".endsWith,n=Math.min,r=r("endsWith");o({target:"String",proto:!0,forced:!!(P||r||!(o=I(String.prototype,"endsWith"))||o.writable)&&!r},{endsWith:function(d){var s=String(m(this)),t=(c(d),1<arguments.length?arguments[1]:void 0),l=D(s.length),t=t===void 0?l:n(D(t),l),l=String(d);return a?a.call(s,l,t):s.slice(t-l.length,t)===l}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(i,X,p){"use strict";var o=i("../internals/export"),I=i("../internals/not-a-regexp"),D=i("../internals/require-object-coercible");o({target:"String",proto:!0,forced:!i("../internals/correct-is-regexp-logic")("includes")},{includes:function(c){return!!~String(D(this)).indexOf(I(c),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(D,X,p){"use strict";var o=D("../internals/string-multibyte").charAt,I=D("../internals/internal-state"),D=D("../internals/define-iterator"),c="String Iterator",m=I.set,P=I.getterFor(c);D(String,"String",function(a){m(this,{type:c,string:String(a),index:0})},function(){var a=P(this),n=a.string,r=a.index;return r>=n.length?{value:void 0,done:!0}:(n=o(n,r),a.index+=n.length,{value:n,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(i,X,p){"use strict";var o=i("../internals/fix-regexp-well-known-symbol-logic"),I=i("../internals/an-object"),D=i("../internals/to-length"),c=i("../internals/require-object-coercible"),m=i("../internals/advance-string-index"),P=i("../internals/regexp-exec-abstract");o("match",1,function(a,n,r){return[function(d){var s=c(this),t=d?.[a];return t!==void 0?t.call(d,s):new RegExp(d)[a](String(s))},function(d){var s=r(n,d,this);if(s.done)return s.value;var t=I(d),l=String(this);if(!t.global)return P(t,l);for(var $=t.unicode,h=[],L=t.lastIndex=0;(U=P(t,l))!==null;){var U=String(U[0]);(h[L]=U)===""&&(t.lastIndex=m(l,D(t.lastIndex),$)),L++}return L===0?null:h}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(i,X,p){"use strict";var o=i("../internals/export"),I=i("../internals/string-pad").start;o({target:"String",proto:!0,forced:i("../internals/string-pad-webkit-bug")},{padStart:function(D){return I(this,D,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(i,X,p){i("../internals/export")({target:"String",proto:!0},{repeat:i("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(i,X,p){"use strict";var o=i("../internals/fix-regexp-well-known-symbol-logic"),I=i("../internals/an-object"),D=i("../internals/to-object"),c=i("../internals/to-length"),m=i("../internals/to-integer"),P=i("../internals/require-object-coercible"),a=i("../internals/advance-string-index"),n=i("../internals/regexp-exec-abstract"),r=Math.max,d=Math.min,s=Math.floor,t=/\$([$&'`]|\d\d?|<[^>]*>)/g,l=/\$([$&'`]|\d\d?)/g;o("replace",2,function($,h,L,U){var T=U.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,B=U.REPLACE_KEEPS_$0,J=T?"$":"$0";return[function(S,A){var Q=P(this),M=S?.[$];return M!==void 0?M.call(S,Q,A):h.call(String(Q),S,A)},function(S,A){if(!T&&B||typeof A=="string"&&A.indexOf(J)===-1){var Q=L(h,S,this,A);if(Q.done)return Q.value}for(var M,k=I(S),C=String(this),j=typeof A=="function",G=(j||(A=String(A)),k.global),y=(G&&(M=k.unicode,k.lastIndex=0),[]);(F=n(k,C))!==null&&(y.push(F),G);)String(F[0])===""&&(k.lastIndex=a(C,c(k.lastIndex),M));for(var g,N="",w=0,ce=0;ce<y.length;ce++){for(var F=y[ce],f=String(F[0]),E=r(d(m(F.index),C.length),0),Z=[],W=1;W<F.length;W++)Z.push((g=F[W])===void 0?g:String(g));var ee=F.groups,De=j?(De=[f].concat(Z,E,C),ee!==void 0&&De.push(ee),String(A.apply(void 0,De))):function($e,te,de,ne,z,oe){var he=de+$e.length,Je=ne.length,Pe=l;return z!==void 0&&(z=D(z),Pe=t),h.call(oe,Pe,function(me,Re){var je;switch(Re.charAt(0)){case"$":return"$";case"&":return $e;case"`":return te.slice(0,de);case"'":return te.slice(he);case"<":je=z[Re.slice(1,-1)];break;default:var be,We=+Re;if(We==0)return me;if(Je<We)return(be=s(We/10))!==0&&be<=Je?ne[be-1]===void 0?Re.charAt(1):ne[be-1]+Re.charAt(1):me;je=ne[We-1]}return je===void 0?"":je})}(f,C,E,Z,ee,A);w<=E&&(N+=C.slice(w,E)+De,w=E+f.length)}return N+C.slice(w)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(i,X,p){"use strict";var o=i("../internals/fix-regexp-well-known-symbol-logic"),I=i("../internals/an-object"),D=i("../internals/require-object-coercible"),c=i("../internals/same-value"),m=i("../internals/regexp-exec-abstract");o("search",1,function(P,a,n){return[function(r){var d=D(this),s=r?.[P];return s!==void 0?s.call(r,d):new RegExp(r)[P](String(d))},function(r){var d,s=n(a,r,this);return s.done?s.value:(s=I(r),r=String(this),d=s.lastIndex,c(d,0)||(s.lastIndex=0),r=m(s,r),c(s.lastIndex,d)||(s.lastIndex=d),r===null?-1:r.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(d,X,p){"use strict";var o=d("../internals/fix-regexp-well-known-symbol-logic"),I=d("../internals/is-regexp"),D=d("../internals/an-object"),c=d("../internals/require-object-coercible"),m=d("../internals/species-constructor"),P=d("../internals/advance-string-index"),a=d("../internals/to-length"),n=d("../internals/regexp-exec-abstract"),r=d("../internals/regexp-exec"),d=d("../internals/fails"),s=[].push,t=Math.min,l=4294967295,$=!d(function(){return!RegExp(l,"y")});o("split",2,function(h,L,U){var T="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(B,J){var S=String(c(this)),A=J===void 0?l:J>>>0;if(A==0)return[];if(B===void 0)return[S];if(!I(B))return L.call(S,B,A);for(var Q,M,k,C=[],J=(B.ignoreCase?"i":"")+(B.multiline?"m":"")+(B.unicode?"u":"")+(B.sticky?"y":""),j=0,G=new RegExp(B.source,J+"g");(Q=r.call(G,S))&&!(j<(M=G.lastIndex)&&(C.push(S.slice(j,Q.index)),1<Q.length&&Q.index<S.length&&s.apply(C,Q.slice(1)),k=Q[0].length,j=M,C.length>=A));)G.lastIndex===Q.index&&G.lastIndex++;return j===S.length?!k&&G.test("")||C.push(""):C.push(S.slice(j)),C.length>A?C.slice(0,A):C}:"0".split(void 0,0).length?function(B,J){return B===void 0&&J===0?[]:L.call(this,B,J)}:L;return[function(B,J){var S=c(this),A=B?.[h];return A!==void 0?A.call(B,S,J):T.call(String(S),B,J)},function(Q,J){var S=U(T,Q,this,J,T!==L);if(S.done)return S.value;var S=D(Q),A=String(this),Q=m(S,RegExp),M=S.unicode,k=(S.ignoreCase?"i":"")+(S.multiline?"m":"")+(S.unicode?"u":"")+($?"y":"g"),C=new Q($?S:"^(?:"+S.source+")",k),j=J===void 0?l:J>>>0;if(j==0)return[];if(A.length===0)return n(C,A)===null?[A]:[];for(var G=0,y=0,g=[];y<A.length;){C.lastIndex=$?y:0;var N,w=n(C,$?A:A.slice(y));if(w===null||(N=t(a(C.lastIndex+($?0:y)),A.length))===G)y=P(A,y,M);else{if(g.push(A.slice(G,y)),g.length===j)return g;for(var ce=1;ce<=w.length-1;ce++)if(g.push(w[ce]),g.length===j)return g;y=G=N}}return g.push(A.slice(G)),g}]},!$)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(P,X,p){"use strict";var o=P("../internals/export"),I=P("../internals/object-get-own-property-descriptor").f,D=P("../internals/to-length"),c=P("../internals/not-a-regexp"),m=P("../internals/require-object-coercible"),r=P("../internals/correct-is-regexp-logic"),P=P("../internals/is-pure"),a="".startsWith,n=Math.min,r=r("startsWith");o({target:"String",proto:!0,forced:!!(P||r||!(o=I(String.prototype,"startsWith"))||o.writable)&&!r},{startsWith:function(l){var s=String(m(this)),t=(c(l),D(n(1<arguments.length?arguments[1]:void 0,s.length))),l=String(l);return a?a.call(s,l,t):s.slice(t,t+l.length)===l}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(i,X,p){"use strict";var o=i("../internals/export"),I=i("../internals/create-html");o({target:"String",proto:!0,forced:i("../internals/string-html-forced")("sub")},{sub:function(){return I(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(i,X,p){"use strict";var o=i("../internals/export"),I=i("../internals/string-trim").trim;o({target:"String",proto:!0,forced:i("../internals/string-trim-forced")("trim")},{trim:function(){return I(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(t,X,p){"use strict";var o,I,D,c,m,P=t("../internals/export"),a=t("../internals/descriptors"),n=t("../internals/global"),r=t("../internals/has"),d=t("../internals/is-object"),s=t("../internals/object-define-property").f,t=t("../internals/copy-constructor-properties"),l=n.Symbol;!a||typeof l!="function"||"description"in l.prototype&&l().description===void 0||(o={},t(I=function(){var $=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),h=this instanceof I?new l($):$===void 0?l():l($);return $===""&&(o[h]=!0),h},l),(n=I.prototype=l.prototype).constructor=I,D=n.toString,c=String(l("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/,s(n,"description",{configurable:!0,get:function(){var $=d(this)?this.valueOf():this,h=D.call($);return r(o,$)?"":($=c?h.slice(7,-1):h.replace(m,"$1"))===""?void 0:$}}),P({global:!0,forced:!0},{Symbol:I}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(i,X,p){i("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(te,X,p){"use strict";function o(x,re){var Le=je[x]=S(oe[$e]);return de(Le,{type:De,tag:x,description:re}),r||(Le.description=re),Le}function I(x,Be){L(x);var Le=T(Be),Be=A(Le).concat(ae(Le));return W(Be,function(Qe){r&&!_.call(Le,Qe)||Te(x,Qe,Le[Qe])}),x}function D(Be,Qe){var Le,Be=T(Be),Qe=B(Qe,!0);if(Be!==z||!l(je,Qe)||l(be,Qe))return!(Le=Je(Be,Qe))||!l(je,Qe)||l(Be,ee)&&Be[ee][Qe]||(Le.enumerable=!0),Le}function c(re){var re=me(T(re)),Le=[];return W(re,function(Be){l(je,Be)||l(w,Be)||Le.push(Be)}),Le}var m=te("../internals/export"),P=te("../internals/global"),a=te("../internals/get-built-in"),n=te("../internals/is-pure"),r=te("../internals/descriptors"),d=te("../internals/native-symbol"),s=te("../internals/use-symbol-as-uid"),t=te("../internals/fails"),l=te("../internals/has"),$=te("../internals/is-array"),h=te("../internals/is-object"),L=te("../internals/an-object"),U=te("../internals/to-object"),T=te("../internals/to-indexed-object"),B=te("../internals/to-primitive"),J=te("../internals/create-property-descriptor"),S=te("../internals/object-create"),A=te("../internals/object-keys"),Q=te("../internals/object-get-own-property-names"),M=te("../internals/object-get-own-property-names-external"),k=te("../internals/object-get-own-property-symbols"),C=te("../internals/object-get-own-property-descriptor"),j=te("../internals/object-define-property"),G=te("../internals/object-property-is-enumerable"),y=te("../internals/create-non-enumerable-property"),g=te("../internals/redefine"),N=te("../internals/shared"),Ne=te("../internals/shared-key"),w=te("../internals/hidden-keys"),ce=te("../internals/uid"),F=te("../internals/well-known-symbol"),f=te("../internals/well-known-symbol-wrapped"),E=te("../internals/define-well-known-symbol"),Z=te("../internals/set-to-string-tag"),ve=te("../internals/internal-state"),W=te("../internals/array-iteration").forEach,ee=Ne("hidden"),De="Symbol",$e="prototype",te=F("toPrimitive"),de=ve.set,ne=ve.getterFor(De),z=Object[$e],oe=P.Symbol,he=a("JSON","stringify"),Je=C.f,Pe=j.f,me=M.f,Re=G.f,je=N("symbols"),be=N("op-symbols"),We=N("string-to-symbol-registry"),Ve=N("symbol-to-string-registry"),Ne=N("wks"),ve=P.QObject,ye=!ve||!ve[$e]||!ve[$e].findChild,fe=r&&t(function(){return S(Pe({},"a",{get:function(){return Pe(this,"a",{value:7}).a}})).a!=7})?function(x,re,Le){var Be=Je(z,re);Be&&delete z[re],Pe(x,re,Le),Be&&x!==z&&Pe(z,re,Be)}:Pe,Fe=s?function(x){return typeof x=="symbol"}:function(x){return Object(x)instanceof oe},Te=function(x,re,Le){return x===z&&Te(be,re,Le),L(x),re=B(re,!0),L(Le),(l(je,re)?(Le.enumerable?(l(x,ee)&&x[ee][re]&&(x[ee][re]=!1),Le=S(Le,{enumerable:J(0,!1)})):(l(x,ee)||Pe(x,ee,J(1,{})),x[ee][re]=!0),fe):Pe)(x,re,Le)},_=function(re){var re=B(re,!0),Le=Re.call(this,re);return!(this===z&&l(je,re)&&!l(be,re))&&(!(Le||!l(this,re)||!l(je,re)||l(this,ee)&&this[ee][re])||Le)},ae=function(Le){var re=Le===z,Le=me(re?be:T(Le)),Be=[];return W(Le,function(Qe){!l(je,Qe)||re&&!l(z,Qe)||Be.push(je[Qe])}),Be};d||(g((oe=function(){if(this instanceof oe)throw TypeError("Symbol is not a constructor");var x=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,re=ce(x),Le=function(Be){this===z&&Le.call(be,Be),l(this,ee)&&l(this[ee],re)&&(this[ee][re]=!1),fe(this,re,J(1,Be))};return r&&ye&&fe(z,re,{configurable:!0,set:Le}),o(re,x)})[$e],"toString",function(){return ne(this).tag}),g(oe,"withoutSetter",function(x){return o(ce(x),x)}),G.f=_,j.f=Te,C.f=D,Q.f=M.f=c,k.f=ae,f.f=function(x){return o(F(x),x)},r&&(Pe(oe[$e],"description",{configurable:!0,get:function(){return ne(this).description}}),n||g(z,"propertyIsEnumerable",_,{unsafe:!0}))),m({global:!0,wrap:!0,forced:!d,sham:!d},{Symbol:oe}),W(A(Ne),function(x){E(x)}),m({target:De,stat:!0,forced:!d},{for:function(Le){var re,Le=String(Le);return l(We,Le)?We[Le]:(re=oe(Le),We[Le]=re,Ve[re]=Le,re)},keyFor:function(x){if(!Fe(x))throw TypeError(x+" is not a symbol");if(l(Ve,x))return Ve[x]},useSetter:function(){ye=!0},useSimple:function(){ye=!1}}),m({target:"Object",stat:!0,forced:!d,sham:!r},{create:function(x,re){return re===void 0?S(x):I(S(x),re)},defineProperty:Te,defineProperties:I,getOwnPropertyDescriptor:D}),m({target:"Object",stat:!0,forced:!d},{getOwnPropertyNames:c,getOwnPropertySymbols:ae}),m({target:"Object",stat:!0,forced:t(function(){k.f(1)})},{getOwnPropertySymbols:function(x){return k.f(U(x))}}),he&&m({target:"JSON",stat:!0,forced:!d||t(function(){var x=oe();return he([x])!="[null]"||he({a:x})!="{}"||he(Object(x))!="{}"})},{stringify:function(x,re,Le){for(var Be,Qe=[x],ke=1;ke<arguments.length;)Qe.push(arguments[ke++]);if((h(Be=re)||x!==void 0)&&!Fe(x))return $(re)||(re=function(ge,Ze){if(typeof Be=="function"&&(Ze=Be.call(this,ge,Ze)),!Fe(Ze))return Ze}),Qe[1]=re,he.apply(null,Qe)}}),oe[$e][te]||y(oe[$e],te,oe[$e].valueOf),Z(oe,De),w[ee]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-copy-within"),D=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",function(c,m){return I.call(D(this),c,m,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-iteration").every,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",function(c){return I(D(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-fill"),D=o.aTypedArray;(0,o.exportTypedArrayMethod)("fill",function(c){return I.apply(D(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-iteration").filter,D=i("../internals/species-constructor"),c=o.aTypedArray,m=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("filter",function(P){for(var a=I(c(this),P,1<arguments.length?arguments[1]:void 0),P=D(this,this.constructor),n=0,r=a.length,d=new(m(P))(r);n<r;)d[n]=a[n++];return d})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-iteration").findIndex,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",function(c){return I(D(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-iteration").find,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",function(c){return I(D(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(i,X,p){i("../internals/typed-array-constructor")("Float32",function(o){return function(I,D,c){return o(this,I,D,c)}})},{"../internals/typed-array-constructor":144}],220:[function(i,X,p){i("../internals/typed-array-constructor")("Float64",function(o){return function(I,D,c){return o(this,I,D,c)}})},{"../internals/typed-array-constructor":144}],221:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-iteration").forEach,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",function(c){I(D(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-includes").includes,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",function(c){return I(D(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-includes").indexOf,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",function(c){return I(D(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(i,X,p){i("../internals/typed-array-constructor")("Int16",function(o){return function(I,D,c){return o(this,I,D,c)}})},{"../internals/typed-array-constructor":144}],225:[function(i,X,p){i("../internals/typed-array-constructor")("Int32",function(o){return function(I,D,c){return o(this,I,D,c)}})},{"../internals/typed-array-constructor":144}],226:[function(I,X,p){"use strict";function o(){return D.call(P(this))}var r=I("../internals/global"),n=I("../internals/array-buffer-view-core"),a=I("../modules/es.array.iterator"),I=I("../internals/well-known-symbol")("iterator"),r=r.Uint8Array,D=a.values,c=a.keys,m=a.entries,P=n.aTypedArray,a=n.exportTypedArrayMethod,n=r&&r.prototype[I],r=!!n&&(n.name=="values"||n.name==null);a("entries",function(){return m.call(P(this))}),a("keys",function(){return c.call(P(this))}),a("values",o,!r),a(I,o,!r)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(I,X,p){"use strict";var I=I("../internals/array-buffer-view-core"),o=I.aTypedArray,I=I.exportTypedArrayMethod,D=[].join;I("join",function(c){return D.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-last-index-of"),D=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",function(c){return I.apply(D(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-iteration").map,D=i("../internals/species-constructor"),c=o.aTypedArray,m=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("map",function(P){return I(c(this),P,1<arguments.length?arguments[1]:void 0,function(a,n){return new(m(D(a,a.constructor)))(n)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-reduce").right,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",function(c){return I(D(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-reduce").left,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",function(c){return I(D(this),c,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(I,X,p){"use strict";var I=I("../internals/array-buffer-view-core"),o=I.aTypedArray,I=I.exportTypedArrayMethod,D=Math.floor;I("reverse",function(){for(var c,m=o(this).length,P=D(m/2),a=0;a<P;)c=this[a],this[a++]=this[--m],this[m]=c;return this})},{"../internals/array-buffer-view-core":12}],233:[function(m,X,p){"use strict";var o=m("../internals/array-buffer-view-core"),I=m("../internals/to-length"),D=m("../internals/to-offset"),c=m("../internals/to-object"),m=m("../internals/fails"),P=o.aTypedArray;(0,o.exportTypedArrayMethod)("set",function(a){P(this);var n=D(1<arguments.length?arguments[1]:void 0,1),r=this.length,d=c(a),s=I(d.length),t=0;if(r<s+n)throw RangeError("Wrong length");for(;t<s;)this[n+t]=d[t++]},m(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(I,X,p){"use strict";var m=I("../internals/array-buffer-view-core"),o=I("../internals/species-constructor"),I=I("../internals/fails"),D=m.aTypedArray,c=m.aTypedArrayConstructor,m=m.exportTypedArrayMethod,P=[].slice;m("slice",function(a,n){for(var r=P.call(D(this),a,n),a=o(this,this.constructor),d=0,s=r.length,t=new(c(a))(s);d<s;)t[d]=r[d++];return t},I(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/array-iteration").some,D=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",function(c){return I(D(this),c,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(I,X,p){"use strict";var I=I("../internals/array-buffer-view-core"),o=I.aTypedArray,I=I.exportTypedArrayMethod,D=[].sort;I("sort",function(c){return D.call(o(this),c)})},{"../internals/array-buffer-view-core":12}],237:[function(i,X,p){"use strict";var o=i("../internals/array-buffer-view-core"),I=i("../internals/to-length"),D=i("../internals/to-absolute-index"),c=i("../internals/species-constructor"),m=o.aTypedArray;(0,o.exportTypedArrayMethod)("subarray",function(d,a){var n=m(this),r=n.length,d=D(d,r);return new(c(n,n.constructor))(n.buffer,n.byteOffset+d*n.BYTES_PER_ELEMENT,I((a===void 0?r:D(a,r))-d))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(I,X,p){"use strict";var m=I("../internals/global"),o=I("../internals/array-buffer-view-core"),I=I("../internals/fails"),D=m.Int8Array,c=o.aTypedArray,m=o.exportTypedArrayMethod,P=[].toLocaleString,a=[].slice,n=!!D&&I(function(){P.call(new D(1))});m("toLocaleString",function(){return P.apply(n?a.call(c(this)):c(this),arguments)},I(function(){return[1,2].toLocaleString()!=new D([1,2]).toLocaleString()})||!I(function(){D.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(I,X,p){"use strict";var o=I("../internals/array-buffer-view-core").exportTypedArrayMethod,m=I("../internals/fails"),I=I("../internals/global").Uint8Array,I=I&&I.prototype||{},D=[].toString,c=[].join,m=(m(function(){D.call({})})&&(D=function(){return c.call(this)}),I.toString!=D);o("toString",D,m)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(i,X,p){i("../internals/typed-array-constructor")("Uint16",function(o){return function(I,D,c){return o(this,I,D,c)}})},{"../internals/typed-array-constructor":144}],241:[function(i,X,p){i("../internals/typed-array-constructor")("Uint32",function(o){return function(I,D,c){return o(this,I,D,c)}})},{"../internals/typed-array-constructor":144}],242:[function(i,X,p){i("../internals/typed-array-constructor")("Uint8",function(o){return function(I,D,c){return o(this,I,D,c)}})},{"../internals/typed-array-constructor":144}],243:[function(i,X,p){i("../internals/typed-array-constructor")("Uint8",function(o){return function(I,D,c){return o(this,I,D,c)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(l,L,p){"use strict";function o(U){return function(){return U(this,arguments.length?arguments[0]:void 0)}}var I,D,c,m,P,$=l("../internals/global"),a=l("../internals/redefine-all"),n=l("../internals/internal-metadata"),r=l("../internals/collection"),d=l("../internals/collection-weak"),s=l("../internals/is-object"),t=l("../internals/internal-state").enforce,l=l("../internals/native-weak-map"),$=!$.ActiveXObject&&"ActiveXObject"in $,h=Object.isExtensible,L=L.exports=r("WeakMap",o,d);l&&$&&(I=d.getConstructor(o,"WeakMap",!0),n.REQUIRED=!0,r=L.prototype,D=r.delete,c=r.has,m=r.get,P=r.set,a(r,{delete:function(U){var T;return s(U)&&!h(U)?((T=t(this)).frozen||(T.frozen=new I),D.call(this,U)||T.frozen.delete(U)):D.call(this,U)},has:function(U){var T;return s(U)&&!h(U)?((T=t(this)).frozen||(T.frozen=new I),c.call(this,U)||T.frozen.has(U)):c.call(this,U)},get:function(U){var T;return!s(U)||h(U)||((T=t(this)).frozen||(T.frozen=new I),c.call(this,U))?m.call(this,U):T.frozen.get(U)},set:function(U,T){var B;return!s(U)||h(U)||((B=t(this)).frozen||(B.frozen=new I),c.call(this,U))?P.call(this,U,T):B.frozen.set(U,T),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(i,X,p){var o,I=i("../internals/global"),D=i("../internals/dom-iterables"),c=i("../internals/array-for-each"),m=i("../internals/create-non-enumerable-property");for(o in D){var P=I[o],P=P&&P.prototype;if(P&&P.forEach!==c)try{m(P,"forEach",c)}catch{P.forEach=c}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(P,X,p){var o,I=P("../internals/global"),D=P("../internals/dom-iterables"),c=P("../modules/es.array.iterator"),m=P("../internals/create-non-enumerable-property"),P=P("../internals/well-known-symbol"),a=P("iterator"),n=P("toStringTag"),r=c.values;for(o in D){var d=I[o],s=d&&d.prototype;if(s){if(s[a]!==r)try{m(s,a,r)}catch{s[a]=r}if(s[n]||m(s,n,o),D[o]){for(var t in c)if(s[t]!==c[t])try{m(s,t,c[t])}catch{s[t]=c[t]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(ee,X,p){"use strict";ee("../modules/es.array.iterator");function o(De){try{return decodeURIComponent(De)}catch{return De}}function I(De){return E[De]}function D(De){return encodeURIComponent(De).replace(f,I)}function c(De){this.entries.length=0,Z(this.entries,De)}function m(De,$e){if(De<$e)throw TypeError("Not enough arguments")}function P(){$(this,P,j);var De,$e,te,de,ne,z,oe,he,Je=0<arguments.length?arguments[0]:void 0,Pe=[];if(y(this,{type:j,entries:Pe,updateURL:function(){},updateSearchParams:c}),Je!==void 0)if(B(Je))if(typeof(De=Q(Je))=="function")for(te=($e=De.call(Je)).next;!(de=te.call($e)).done;){if((z=(ne=(de=A(T(de.value))).next).call(de)).done||(oe=ne.call(de)).done||!ne.call(de).done)throw TypeError("Expected sequence with length 2");Pe.push({key:z.value+"",value:oe.value+""})}else for(he in Je)h(Je,he)&&Pe.push({key:he,value:Je[he]+""});else Z(Pe,typeof Je=="string"?Je.charAt(0)==="?"?Je.slice(1):Je:Je+"")}var a=ee("../internals/export"),C=ee("../internals/get-built-in"),n=ee("../internals/native-url"),r=ee("../internals/redefine"),d=ee("../internals/redefine-all"),s=ee("../internals/set-to-string-tag"),t=ee("../internals/create-iterator-constructor"),l=ee("../internals/internal-state"),$=ee("../internals/an-instance"),h=ee("../internals/has"),L=ee("../internals/function-bind-context"),U=ee("../internals/classof"),T=ee("../internals/an-object"),B=ee("../internals/is-object"),J=ee("../internals/object-create"),S=ee("../internals/create-property-descriptor"),A=ee("../internals/get-iterator"),Q=ee("../internals/get-iterator-method"),ee=ee("../internals/well-known-symbol"),M=C("fetch"),k=C("Headers"),C=ee("iterator"),j="URLSearchParams",G=j+"Iterator",y=l.set,g=l.getterFor(j),N=l.getterFor(G),w=/\+/g,ce=Array(4),F=function(De){var $e,te=De.replace(w," "),de=4;try{return decodeURIComponent(te)}catch{for(;de;)te=te.replace(($e=de--,ce[$e-1]||(ce[$e-1]=RegExp("((?:%[\\da-f]{2}){"+$e+"})","gi"))),o);return te}},f=/[!'()~]|%20/g,E={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Z=function(De,$e){if($e)for(var te,de=$e.split("&"),ne=0;ne<de.length;)(te=de[ne++]).length&&(te=te.split("="),De.push({key:F(te.shift()),value:F(te.join("="))}))},W=t(function(De,$e){y(this,{type:G,iterator:A(g(De).entries),kind:$e})},"Iterator",function(){var $e=N(this),De=$e.kind,$e=$e.iterator.next(),te=$e.value;return $e.done||($e.value=De==="keys"?te.key:De==="values"?te.value:[te.key,te.value]),$e}),ee=P.prototype;d(ee,{append:function(De,$e){m(arguments.length,2);var te=g(this);te.entries.push({key:De+"",value:$e+""}),te.updateURL()},delete:function(De){m(arguments.length,1);for(var $e=g(this),te=$e.entries,de=De+"",ne=0;ne<te.length;)te[ne].key===de?te.splice(ne,1):ne++;$e.updateURL()},get:function(De){m(arguments.length,1);for(var $e=g(this).entries,te=De+"",de=0;de<$e.length;de++)if($e[de].key===te)return $e[de].value;return null},getAll:function(De){m(arguments.length,1);for(var $e=g(this).entries,te=De+"",de=[],ne=0;ne<$e.length;ne++)$e[ne].key===te&&de.push($e[ne].value);return de},has:function(De){m(arguments.length,1);for(var $e=g(this).entries,te=De+"",de=0;de<$e.length;)if($e[de++].key===te)return!0;return!1},set:function(De,$e){m(arguments.length,1);for(var te,de=g(this),ne=de.entries,z=!1,oe=De+"",he=$e+"",Je=0;Je<ne.length;Je++)(te=ne[Je]).key===oe&&(z?ne.splice(Je--,1):(z=!0,te.value=he));z||ne.push({key:oe,value:he}),de.updateURL()},sort:function(){for(var De,$e,te=g(this),de=te.entries,ne=de.slice(),z=de.length=0;z<ne.length;z++){for(De=ne[z],$e=0;$e<z;$e++)if(de[$e].key>De.key){de.splice($e,0,De);break}$e===z&&de.push(De)}te.updateURL()},forEach:function(De){for(var $e,te=g(this).entries,de=L(De,1<arguments.length?arguments[1]:void 0,3),ne=0;ne<te.length;)de(($e=te[ne++]).value,$e.key,this)},keys:function(){return new W(this,"keys")},values:function(){return new W(this,"values")},entries:function(){return new W(this,"entries")}},{enumerable:!0}),r(ee,C,ee.entries),r(ee,"toString",function(){for(var De,$e=g(this).entries,te=[],de=0;de<$e.length;)De=$e[de++],te.push(D(De.key)+"="+D(De.value));return te.join("&")},{enumerable:!0}),s(P,j),a({global:!0,forced:!n},{URLSearchParams:P}),n||typeof M!="function"||typeof k!="function"||a({global:!0,enumerable:!0,forced:!0},{fetch:function(ne){var $e,te,de,ne=[ne];return 1<arguments.length&&(B($e=arguments[1])&&(te=$e.body,U(te)===j&&((de=$e.headers?new k($e.headers):new k).has("content-type")||de.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),$e=J($e,{body:S(0,String(te)),headers:S(0,de)}))),ne.push($e)),M.apply(this,ne)}}),X.exports={URLSearchParams:P,getState:g}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(A,X,p){"use strict";A("../modules/es.string.iterator");function o(He){var Ye,xe,Ke,$i;if(typeof He=="number"){for(Ye=[],xe=0;xe<4;xe++)Ye.unshift(He%256),He=G(He/256);return Ye.join(".")}if(typeof He!="object")return He;for(Ye="",Ke=oe(He),xe=0;xe<8;xe++)$i&&He[xe]===0||($i=$i&&!1,Ke===xe?(Ye+=xe?":":"::",$i=!0):(Ye+=He[xe].toString(16),xe<7&&(Ye+=":")));return"["+Ye+"]"}function I(He){return!He.host||He.cannotBeABaseURL||He.scheme=="file"}function D(He,Ye,xe,Ke){var $i,Ce,oi,Ge=xe||Fe,li=0,Oe="",ji=!1,ki=!1,Qi=!1;for(xe||(He.scheme="",He.username="",He.password="",He.host=null,He.port=null,He.path=[],He.query=null,He.fragment=null,He.cannotBeABaseURL=!1,Ye=Ye.replace(de,"")),Ye=Ye.replace(ne,""),$i=U(Ye);li<=$i.length;){switch(Ce=$i[li],Ge){case Fe:if(!Ce||!F.test(Ce)){if(xe)return N;Ge=_;continue}Oe+=Ce.toLowerCase(),Ge=Te;break;case Te:if(Ce&&(f.test(Ce)||Ce=="+"||Ce=="-"||Ce=="."))Oe+=Ce.toLowerCase();else{if(Ce!=":"){if(xe)return N;Oe="",Ge=_,li=0;continue}if(xe&&(be(He)!=h(je,Oe)||Oe=="file"&&(We(He)||He.port!==null)||He.scheme=="file"&&!He.host))return;if(He.scheme=Oe,xe)return void(be(He)&&je[He.scheme]==He.port&&(He.port=null));Oe="",He.scheme=="file"?Ge=di:be(He)&&Ke&&Ke.scheme==He.scheme?Ge=ae:be(He)?Ge=Be:$i[li+1]=="/"?(Ge=x,li++):(He.cannotBeABaseURL=!0,He.path.push(""),Ge=ui)}break;case _:if(!Ke||Ke.cannotBeABaseURL&&Ce!="#")return N;if(Ke.cannotBeABaseURL&&Ce=="#"){He.scheme=Ke.scheme,He.path=Ke.path.slice(),He.query=Ke.query,He.fragment="",He.cannotBeABaseURL=!0,Ge=Ei;break}Ge=Ke.scheme=="file"?di:re;continue;case ae:if(Ce!="/"||$i[li+1]!="/"){Ge=re;continue}Ge=Qe,li++;break;case x:if(Ce=="/"){Ge=ke;break}Ge=Di;continue;case re:if(He.scheme=Ke.scheme,Ce==P)He.username=Ke.username,He.password=Ke.password,He.host=Ke.host,He.port=Ke.port,He.path=Ke.path.slice(),He.query=Ke.query;else if(Ce=="/"||Ce=="\\"&&be(He))Ge=Le;else if(Ce=="?")He.username=Ke.username,He.password=Ke.password,He.host=Ke.host,He.port=Ke.port,He.path=Ke.path.slice(),He.query="",Ge=Wi;else{if(Ce!="#"){He.username=Ke.username,He.password=Ke.password,He.host=Ke.host,He.port=Ke.port,He.path=Ke.path.slice(),He.path.pop(),Ge=Di;continue}He.username=Ke.username,He.password=Ke.password,He.host=Ke.host,He.port=Ke.port,He.path=Ke.path.slice(),He.query=Ke.query,He.fragment="",Ge=Ei}break;case Le:if(!be(He)||Ce!="/"&&Ce!="\\"){if(Ce!="/"){He.username=Ke.username,He.password=Ke.password,He.host=Ke.host,He.port=Ke.port,Ge=Di;continue}Ge=ke}else Ge=Qe;break;case Be:if(Ge=Qe,Ce!="/"||Oe.charAt(li+1)!="/")continue;li++;break;case Qe:if(Ce=="/"||Ce=="\\")break;Ge=ke;continue;case ke:if(Ce=="@"){ji&&(Oe="%40"+Oe);for(var ji=!0,Zi=U(Oe),Ia=0;Ia<Zi.length;Ia++){var aa=Zi[Ia];aa!=":"||Qi?(aa=Re(aa,me),Qi?He.password+=aa:He.username+=aa):Qi=!0}Oe=""}else if(Ce==P||Ce=="/"||Ce=="?"||Ce=="#"||Ce=="\\"&&be(He)){if(ji&&Oe=="")return g;li-=U(Oe).length+1,Oe="",Ge=ge}else Oe+=Ce;break;case ge:case Ze:if(xe&&He.scheme=="file"){Ge=ze;continue}if(Ce!=":"||ki){if(Ce==P||Ce=="/"||Ce=="?"||Ce=="#"||Ce=="\\"&&be(He)){if(be(He)&&Oe=="")return w;if(xe&&Oe==""&&(We(He)||He.port!==null))return;if(oi=z(He,Oe))return oi;if(Oe="",Ge=ri,xe)return;continue}Ce=="["?ki=!0:Ce=="]"&&(ki=!1),Oe+=Ce}else{if(Oe=="")return w;if(oi=z(He,Oe))return oi;if(Oe="",Ge=qe,xe==Ze)return}break;case qe:if(!E.test(Ce)){if(Ce==P||Ce=="/"||Ce=="?"||Ce=="#"||Ce=="\\"&&be(He)||xe){if(Oe!=""){var ha=parseInt(Oe,10);if(65535<ha)return ce;He.port=be(He)&&ha===je[He.scheme]?null:ha,Oe=""}if(xe)return;Ge=ri;continue}return ce}Oe+=Ce;break;case di:if(He.scheme="file",Ce=="/"||Ce=="\\")Ge=ti;else{if(!Ke||Ke.scheme!="file"){Ge=Di;continue}if(Ce==P)He.host=Ke.host,He.path=Ke.path.slice(),He.query=Ke.query;else if(Ce=="?")He.host=Ke.host,He.path=Ke.path.slice(),He.query="",Ge=Wi;else{if(Ce!="#"){Ne($i.slice(li).join(""))||(He.host=Ke.host,He.path=Ke.path.slice(),ve(He)),Ge=Di;continue}He.host=Ke.host,He.path=Ke.path.slice(),He.query=Ke.query,He.fragment="",Ge=Ei}}break;case ti:if(Ce=="/"||Ce=="\\"){Ge=ze;break}Ke&&Ke.scheme=="file"&&!Ne($i.slice(li).join(""))&&(Ve(Ke.path[0],!0)?He.path.push(Ke.path[0]):He.host=Ke.host),Ge=Di;continue;case ze:if(Ce==P||Ce=="/"||Ce=="\\"||Ce=="?"||Ce=="#"){if(!xe&&Ve(Oe))Ge=Di;else{if(Oe==""){if(He.host="",xe)return}else{if(oi=z(He,Oe))return oi;if(He.host=="localhost"&&(He.host=""),xe)return;Oe=""}Ge=ri}continue}Oe+=Ce;break;case ri:if(be(He)){if(Ge=Di,Ce!="/"&&Ce!="\\")continue}else if(xe||Ce!="?")if(xe||Ce!="#"){if(Ce!=P&&(Ge=Di,Ce!="/"))continue}else He.fragment="",Ge=Ei;else He.query="",Ge=Wi;break;case Di:if(Ce==P||Ce=="/"||Ce=="\\"&&be(He)||!xe&&(Ce=="?"||Ce=="#")){if(fe(Oe)?(ve(He),Ce=="/"||Ce=="\\"&&be(He)||He.path.push("")):ye(Oe)?Ce=="/"||Ce=="\\"&&be(He)||He.path.push(""):(He.scheme=="file"&&!He.path.length&&Ve(Oe)&&(He.host&&(He.host=""),Oe=Oe.charAt(0)+":"),He.path.push(Oe)),Oe="",He.scheme=="file"&&(Ce==P||Ce=="?"||Ce=="#"))for(;1<He.path.length&&He.path[0]==="";)He.path.shift();Ce=="?"?(He.query="",Ge=Wi):Ce=="#"&&(He.fragment="",Ge=Ei)}else Oe+=Re(Ce,Pe);break;case ui:Ce=="?"?(He.query="",Ge=Wi):Ce=="#"?(He.fragment="",Ge=Ei):Ce!=P&&(He.path[0]+=Re(Ce,he));break;case Wi:xe||Ce!="#"?Ce!=P&&(Ce=="'"&&be(He)?He.query+="%27":He.query+=Ce=="#"?"%23":Re(Ce,he)):(He.fragment="",Ge=Ei);break;case Ei:Ce!=P&&(He.fragment+=Re(Ce,Je))}li++}}function c(Ce){var Ye,xe,Ke=$(this,c,"URL"),$i=1<arguments.length?arguments[1]:void 0,Ce=String(Ce),oi=C(Ke,{type:"URL"});if($i!==void 0){if($i instanceof c)Ye=j($i);else if(xe=D(Ye={},String($i)))throw TypeError(xe)}if(xe=D(oi,Ce,null,Ye))throw TypeError(xe);var Ge=oi.searchParams=new M;($i=k(Ge)).updateSearchParams(oi.query),$i.updateURL=function(){oi.query=String(Ge)||null},d||(Ke.href=pi.call(Ke),Ke.origin=ci.call(Ke),Ke.protocol=qi.call(Ke),Ke.username=gi.call(Ke),Ke.password=Pi.call(Ke),Ke.host=vi.call(Ke),Ke.hostname=ya.call(Ke),Ke.port=qa.call(Ke),Ke.pathname=va.call(Ke),Ke.search=ut.call(Ke),Ke.searchParams=Ga.call(Ke),Ke.hash=Oa.call(Ke))}function m(He,Ye){return{get:He,set:Ye,configurable:!0,enumerable:!0}}var P,a,n,r=A("../internals/export"),d=A("../internals/descriptors"),s=A("../internals/native-url"),hi=A("../internals/global"),t=A("../internals/object-define-properties"),l=A("../internals/redefine"),$=A("../internals/an-instance"),h=A("../internals/has"),L=A("../internals/object-assign"),U=A("../internals/array-from"),T=A("../internals/string-multibyte").codeAt,B=A("../internals/string-punycode-to-ascii"),J=A("../internals/set-to-string-tag"),S=A("../modules/web.url-search-params"),A=A("../internals/internal-state"),Q=hi.URL,M=S.URLSearchParams,k=S.getState,C=A.set,j=A.getterFor("URL"),G=Math.floor,y=Math.pow,g="Invalid authority",N="Invalid scheme",w="Invalid host",ce="Invalid port",F=/[A-Za-z]/,f=/[\d+-.A-Za-z]/,E=/\d/,Z=/^(0x|0X)/,W=/^[0-7]+$/,ee=/^\d+$/,De=/^[\dA-Fa-f]+$/,$e=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,te=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,de=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,ne=/[\u0009\u000A\u000D]/g,z=function(He,Ye){var xe,Ke,$i;if(Ye.charAt(0)=="[")return Ye.charAt(Ye.length-1)=="]"&&(xe=function(Ce){var oi=[0,0,0,0,0,0,0,0],Ge=0,li=null,Oe=0,ji,ki,Qi,Zi,Ia,aa,ha,Vi=function(){return Ce.charAt(Oe)};if(Vi()==":"){if(Ce.charAt(1)!=":")return;Oe+=2,Ge++,li=Ge}for(;Vi();){if(Ge==8)return;if(Vi()==":"){if(li!==null)return;Oe++,Ge++,li=Ge;continue}for(ji=ki=0;ki<4&&De.test(Vi());)ji=ji*16+parseInt(Vi(),16),Oe++,ki++;if(Vi()=="."){if(ki==0||(Oe-=ki,Ge>6))return;for(Qi=0;Vi();){if(Zi=null,Qi>0)if(Vi()=="."&&Qi<4)Oe++;else return;if(!E.test(Vi()))return;for(;E.test(Vi());){if(Ia=parseInt(Vi(),10),Zi===null)Zi=Ia;else{if(Zi==0)return;Zi=Zi*10+Ia}if(Zi>255)return;Oe++}oi[Ge]=oi[Ge]*256+Zi,Qi++,(Qi==2||Qi==4)&&Ge++}if(Qi!=4)return;break}else if(Vi()==":"){if(Oe++,!Vi())return}else if(Vi())return;oi[Ge++]=ji}if(li!==null)for(aa=Ge-li,Ge=7;Ge!=0&&aa>0;)ha=oi[Ge],oi[Ge--]=oi[li+aa-1],oi[li+--aa]=ha;else if(Ge!=8)return;return oi}(Ye.slice(1,-1)))?void(He.host=xe):w;if(be(He))return Ye=B(Ye),$e.test(Ye)||(xe=function(Ce){var oi=Ce.split("."),Ge,li,Oe,ji,ki,Qi,Zi;if(oi.length&&oi[oi.length-1]==""&&oi.pop(),(Ge=oi.length)>4)return Ce;for(li=[],Oe=0;Oe<Ge;Oe++){if(ji=oi[Oe],ji=="")return Ce;if(ki=10,ji.length>1&&ji.charAt(0)=="0"&&(ki=Z.test(ji)?16:8,ji=ji.slice(ki==8?1:2)),ji==="")Qi=0;else{if(!(ki==10?ee:ki==8?W:De).test(ji))return Ce;Qi=parseInt(ji,ki)}li.push(Qi)}for(Oe=0;Oe<Ge;Oe++)if(Qi=li[Oe],Oe==Ge-1){if(Qi>=y(256,5-Ge))return null}else if(Qi>255)return null;for(Zi=li.pop(),Oe=0;Oe<li.length;Oe++)Zi+=li[Oe]*y(256,3-Oe);return Zi}(Ye))===null?w:void(He.host=xe);if(te.test(Ye))return w;for(xe="",Ke=U(Ye),$i=0;$i<Ke.length;$i++)xe+=Re(Ke[$i],he);He.host=xe},oe=function(He){for(var Ye=null,xe=1,Ke=null,$i=0,Ce=0;Ce<8;Ce++)He[Ce]!==0?(xe<$i&&(Ye=Ke,xe=$i),Ke=null,$i=0):(Ke===null&&(Ke=Ce),++$i);return xe<$i&&(Ye=Ke,xe=$i),Ye},he={},Je=L({},he,{" ":1,'"':1,"<":1,">":1,"`":1}),Pe=L({},Je,{"#":1,"?":1,"{":1,"}":1}),me=L({},Pe,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),Re=function(He,Ye){var xe=T(He,0);return 32<xe&&xe<127&&!h(Ye,He)?He:encodeURIComponent(He)},je={ftp:21,file:null,http:80,https:443,ws:80,wss:443},be=function(He){return h(je,He.scheme)},We=function(He){return He.username!=""||He.password!=""},Ve=function(He,Ye){return He.length==2&&F.test(He.charAt(0))&&((He=He.charAt(1))==":"||!Ye&&He=="|")},Ne=function(He){return 1<He.length&&Ve(He.slice(0,2))&&(He.length==2||(He=He.charAt(2))==="/"||He==="\\"||He==="?"||He==="#")},ve=function(He){var Ye=He.path,xe=Ye.length;!xe||He.scheme=="file"&&xe==1&&Ve(Ye[0],!0)||Ye.pop()},ye=function(He){return He==="."||He.toLowerCase()==="%2e"},fe=function(He){return(He=He.toLowerCase())===".."||He==="%2e."||He===".%2e"||He==="%2e%2e"},Fe={},Te={},_={},ae={},x={},re={},Le={},Be={},Qe={},ke={},ge={},Ze={},qe={},di={},ti={},ze={},ri={},Di={},ui={},Wi={},Ei={},hi=c.prototype,pi=function(){var He=j(this),Ye=He.scheme,xe=He.username,Ke=He.password,$i=He.host,Ce=He.port,oi=He.path,Ge=He.query,li=He.fragment,Oe=Ye+":";return $i!==null?(Oe+="//",We(He)&&(Oe+=xe+(Ke?":"+Ke:"")+"@"),Oe+=o($i),Ce!==null&&(Oe+=":"+Ce)):Ye=="file"&&(Oe+="//"),Oe+=He.cannotBeABaseURL?oi[0]:oi.length?"/"+oi.join("/"):"",Ge!==null&&(Oe+="?"+Ge),li!==null&&(Oe+="#"+li),Oe},ci=function(){var He=j(this),Ye=He.scheme,xe=He.port;if(Ye=="blob")try{return new URL(Ye.path[0]).origin}catch{return"null"}return Ye!="file"&&be(He)?Ye+"://"+o(He.host)+(xe!==null?":"+xe:""):"null"},qi=function(){return j(this).scheme+":"},gi=function(){return j(this).username},Pi=function(){return j(this).password},vi=function(){var Ye=j(this),He=Ye.host,Ye=Ye.port;return He===null?"":Ye===null?o(He):o(He)+":"+Ye},ya=function(){var He=j(this).host;return He===null?"":o(He)},qa=function(){var He=j(this).port;return He===null?"":String(He)},va=function(){var He=j(this),Ye=He.path;return He.cannotBeABaseURL?Ye[0]:Ye.length?"/"+Ye.join("/"):""},ut=function(){var He=j(this).query;return He?"?"+He:""},Ga=function(){return j(this).searchParams},Oa=function(){var He=j(this).fragment;return He?"#"+He:""};d&&t(hi,{href:m(pi,function(xe){var Ye=j(this),xe=String(xe),xe=D(Ye,xe);if(xe)throw TypeError(xe);k(Ye.searchParams).updateSearchParams(Ye.query)}),origin:m(ci),protocol:m(qi,function(He){var Ye=j(this);D(Ye,String(He)+":",Fe)}),username:m(gi,function(He){var Ye=j(this),xe=U(String(He));if(!I(Ye)){Ye.username="";for(var Ke=0;Ke<xe.length;Ke++)Ye.username+=Re(xe[Ke],me)}}),password:m(Pi,function(He){var Ye=j(this),xe=U(String(He));if(!I(Ye)){Ye.password="";for(var Ke=0;Ke<xe.length;Ke++)Ye.password+=Re(xe[Ke],me)}}),host:m(vi,function(He){var Ye=j(this);Ye.cannotBeABaseURL||D(Ye,String(He),ge)}),hostname:m(ya,function(He){var Ye=j(this);Ye.cannotBeABaseURL||D(Ye,String(He),Ze)}),port:m(qa,function(He){var Ye=j(this);I(Ye)||((He=String(He))==""?Ye.port=null:D(Ye,He,qe))}),pathname:m(va,function(He){var Ye=j(this);Ye.cannotBeABaseURL||(Ye.path=[],D(Ye,He+"",ri))}),search:m(ut,function(He){var Ye=j(this);(He=String(He))==""?Ye.query=null:(He.charAt(0)=="?"&&(He=He.slice(1)),Ye.query="",D(Ye,He,Wi)),k(Ye.searchParams).updateSearchParams(Ye.query)}),searchParams:m(Ga),hash:m(Oa,function(He){var Ye=j(this);(He=String(He))==""?Ye.fragment=null:(He.charAt(0)=="#"&&(He=He.slice(1)),Ye.fragment="",D(Ye,He,Ei))})}),l(hi,"toJSON",function(){return pi.call(this)},{enumerable:!0}),l(hi,"toString",function(){return pi.call(this)},{enumerable:!0}),Q&&(a=Q.createObjectURL,n=Q.revokeObjectURL,a&&l(c,"createObjectURL",function(He){return a.apply(Q,arguments)}),n&&l(c,"revokeObjectURL",function(He){return n.apply(Q,arguments)})),J(c,"URL"),r({global:!0,forced:!s,sham:!d},{URL:c})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(i,X,p){"use strict";X.exports=i("./").polyfill()},{"./":250}],250:[function(i,X,p){(function(o,I){var D,c;D=this,c=function(){"use strict";function m(z){return typeof z=="function"}var P=Array.isArray||function(z){return Object.prototype.toString.call(z)==="[object Array]"},a=0,n=void 0,r=void 0,d=function(z,oe){L[a]=z,L[a+1]=oe,(a+=2)===2&&(r?r(U):M())},s=typeof window<"u"?window:void 0,t=s||{},t=t.MutationObserver||t.WebKitMutationObserver,l=typeof self>"u"&&o!==void 0&&{}.toString.call(o)==="[object process]",$=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function h(){var z=setTimeout;return function(){return z(U,1)}}var L=new Array(1e3);function U(){for(var z=0;z<a;z+=2)(0,L[z])(L[z+1]),L[z]=void 0,L[z+1]=void 0;a=0}function T(){try{var z=Function("return this")().require("vertx");return(n=z.runOnLoop||z.runOnContext)!==void 0?function(){n(U)}:h()}catch{return h()}}var B,J,S,M=void 0;function A(z,oe){var he,Je=this,Pe=new this.constructor(C),me=(Pe[k]===void 0&&De(Pe),Je._state);return me?(he=arguments[me-1],d(function(){return W(me,Pe,he,Je._result)})):E(Je,Pe,z,oe),Pe}function Q(z){var oe;return z&&typeof z=="object"&&z.constructor===this?z:(w(oe=new this(C),z),oe)}var M=l?function(){return o.nextTick(U)}:t?(J=0,l=new t(U),S=document.createTextNode(""),l.observe(S,{characterData:!0}),function(){S.data=J=++J%2}):$?((B=new MessageChannel).port1.onmessage=U,function(){return B.port2.postMessage(0)}):(s===void 0&&typeof i=="function"?T:h)(),k=Math.random().toString(36).substring(2);function C(){}var j=void 0,G=1,y=2;function g(z,oe,he){d(function(Je){var Pe=!1,me=function(Re,je,be,We){try{Re.call(je,be,We)}catch(Ve){return Ve}}(he,oe,function(Re){Pe||(Pe=!0,(oe!==Re?w:F)(Je,Re))},function(Re){Pe||(Pe=!0,f(Je,Re))},Je._label);!Pe&&me&&(Pe=!0,f(Je,me))},z)}function N(z,oe,he){var Je,Pe;oe.constructor===z.constructor&&he===A&&oe.constructor.resolve===Q?(Je=z,(Pe=oe)._state===G?F(Je,Pe._result):Pe._state===y?f(Je,Pe._result):E(Pe,void 0,function(me){return w(Je,me)},function(me){return f(Je,me)})):he!==void 0&&m(he)?g(z,oe,he):F(z,oe)}function w(z,oe){if(z===oe)f(z,new TypeError("You cannot resolve a promise with itself"));else if(he=typeof oe,oe===null||he!="object"&&he!="function")F(z,oe);else{he=void 0;try{he=oe.then}catch(Je){return void f(z,Je)}N(z,oe,he)}var he}function ce(z){z._onerror&&z._onerror(z._result),Z(z)}function F(z,oe){z._state===j&&(z._result=oe,z._state=G,z._subscribers.length!==0&&d(Z,z))}function f(z,oe){z._state===j&&(z._state=y,z._result=oe,d(ce,z))}function E(z,oe,he,Je){var Pe=z._subscribers,me=Pe.length;z._onerror=null,Pe[me]=oe,Pe[me+G]=he,Pe[me+y]=Je,me===0&&z._state&&d(Z,z)}function Z(z){var oe=z._subscribers,he=z._state;if(oe.length!==0){for(var Je,Pe=void 0,me=z._result,Re=0;Re<oe.length;Re+=3)Je=oe[Re],Pe=oe[Re+he],Je?W(he,Je,Pe,me):Pe(me);z._subscribers.length=0}}function W(z,oe,he,Je){var Pe=m(he),me=void 0,Re=void 0,je=!0;if(Pe){try{me=he(Je)}catch(be){je=!1,Re=be}if(oe===me)return void f(oe,new TypeError("A promises callback cannot return that same promise."))}else me=Je;oe._state===j&&(Pe&&je?w(oe,me):je===!1?f(oe,Re):z===G?F(oe,me):z===y&&f(oe,me))}var ee=0;function De(z){z[k]=ee++,z._state=void 0,z._result=void 0,z._subscribers=[]}te.prototype._enumerate=function(z){for(var oe=0;this._state===j&&oe<z.length;oe++)this._eachEntry(z[oe],oe)},te.prototype._eachEntry=function(z,oe){var he=this._instanceConstructor,Je=he.resolve;if(Je===Q){var Pe,me=void 0,Re=void 0,je=!1;try{me=z.then}catch(be){je=!0,Re=be}me===A&&z._state!==j?this._settledAt(z._state,oe,z._result):typeof me!="function"?(this._remaining--,this._result[oe]=z):he===de?(Pe=new he(C),je?f(Pe,Re):N(Pe,z,me),this._willSettleAt(Pe,oe)):this._willSettleAt(new he(function(be){return be(z)}),oe)}else this._willSettleAt(Je(z),oe)},te.prototype._settledAt=function(z,oe,he){var Je=this.promise;Je._state===j&&(this._remaining--,z===y?f(Je,he):this._result[oe]=he),this._remaining===0&&F(Je,this._result)},te.prototype._willSettleAt=function(z,oe){var he=this;E(z,void 0,function(Je){return he._settledAt(G,oe,Je)},function(Je){return he._settledAt(y,oe,Je)})};var $e=te;function te(z,oe){this._instanceConstructor=z,this.promise=new z(C),this.promise[k]||De(this.promise),P(oe)?(this.length=oe.length,this._remaining=oe.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(oe),this._remaining!==0)||F(this.promise,this._result)):f(this.promise,new Error("Array Methods must be provided an Array"))}ne.prototype.catch=function(z){return this.then(null,z)},ne.prototype.finally=function(z){var oe=this.constructor;return m(z)?this.then(function(he){return oe.resolve(z()).then(function(){return he})},function(he){return oe.resolve(z()).then(function(){throw he})}):this.then(z,z)};var de=ne;function ne(z){if(this[k]=ee++,this._result=this._state=void 0,this._subscribers=[],C!==z){if(typeof z!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof ne))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var oe=this;try{z(function(he){w(oe,he)},function(he){f(oe,he)})}catch(he){f(oe,he)}}}return de.prototype.then=A,de.all=function(z){return new $e(this,z).promise},de.race=function(z){var oe=this;return P(z)?new oe(function(he,Je){for(var Pe=z.length,me=0;me<Pe;me++)oe.resolve(z[me]).then(he,Je)}):new oe(function(he,Je){return Je(new TypeError("You must pass an array to race."))})},de.resolve=Q,de.reject=function(z){var oe=new this(C);return f(oe,z),oe},de._setScheduler=function(z){r=z},de._setAsap=function(z){d=z},de._asap=d,de.polyfill=function(){var z=void 0;if(I!==void 0)z=I;else if(typeof self<"u")z=self;else try{z=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var oe=z.Promise;if(oe){var he=null;try{he=Object.prototype.toString.call(oe.resolve())}catch{}if(he==="[object Promise]"&&!oe.cast)return}z.Promise=de},de.Promise=de},typeof p=="object"&&X!==void 0?X.exports=c():typeof Y=="function"&&Y.amd?Y(c):D.ES6Promise=c()}).call(this,i("_process"),typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(i,X,p){var o,I;o=this,I=function(D,c){"use strict";var m=5e3,P="callback";function a(r){try{delete window[r]}catch{window[r]=void 0}}function n(r){r=document.getElementById(r),r&&document.getElementsByTagName("head")[0].removeChild(r)}c.exports=function(r){var d=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],s=r,t=d.timeout||m,l=d.jsonpCallback||P,$=void 0;return new Promise(function(h,L){var U=d.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),T=l+"_"+U,B=(window[U]=function(J){h({ok:!0,json:function(){return Promise.resolve(J)}}),$&&clearTimeout($),n(T),a(U)},s+=s.indexOf("?")===-1?"?":"&",document.createElement("script"));B.setAttribute("src",""+s+l+"="+U),d.charset&&B.setAttribute("charset",d.charset),B.id=T,document.getElementsByTagName("head")[0].appendChild(B),$=setTimeout(function(){L(new Error("JSONP request to "+r+" timed out")),a(U),n(T),window[U]=function(){a(U)}},t),B.onerror=function(){L(new Error("JSONP request to "+r+" failed")),a(U),n(T),$&&clearTimeout($)}})}},typeof Y=="function"&&Y.amd?Y(["exports","module"],I):p!==void 0&&X!==void 0?I(0,X):(I(I={exports:{}},I),o.fetchJsonp=I.exports)},{}],252:[function(i,X,p){var o=function(I){"use strict";var D,c,m,P,a,n,r,d,s,t,l;if(!(I===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return l=I.document,D=function(){return I.URL||I.webkitURL||I},c=l.createElementNS("http://www.w3.org/1999/xhtml","a"),m="download"in c,P=/constructor/i.test(I.HTMLElement)||I.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),n=function($){(I.setImmediate||I.setTimeout)(function(){throw $},0)},r=4e4,d=function($){setTimeout(function(){typeof $=="string"?D().revokeObjectURL($):$.remove()},r)},s=function($){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test($.type)?new Blob(["\uFEFF",$],{type:$.type}):$},l=(t=function($,h,J){J||($=s($));var U,T,B=this,J=$.type==="application/octet-stream",S=function(){for(var A=B,Q="writestart progress write writeend".split(" "),M=void 0,k=(Q=[].concat(Q)).length;k--;){var C=A["on"+Q[k]];if(typeof C=="function")try{C.call(A,M||A)}catch(j){n(j)}}};B.readyState=B.INIT,m?(U=D().createObjectURL($),setTimeout(function(){var A,Q;c.href=U,c.download=h,A=c,Q=new MouseEvent("click"),A.dispatchEvent(Q),S(),d(U),B.readyState=B.DONE})):(a||J&&P)&&I.FileReader?((T=new FileReader).onloadend=function(){var A=a?T.result:T.result.replace(/^data:[^;]*;/,"data:attachment/file;");I.open(A,"_blank")||(I.location.href=A),A=void 0,B.readyState=B.DONE,S()},T.readAsDataURL($),B.readyState=B.INIT):(U=U||D().createObjectURL($),!J&&I.open(U,"_blank")||(I.location.href=U),B.readyState=B.DONE,S(),d(U))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function($,h,L){return h=h||$.name||"download",L||($=s($)),navigator.msSaveOrOpenBlob($,h)}:(l.abort=function(){},l.readyState=l.INIT=0,l.WRITING=1,l.DONE=2,l.error=l.onwritestart=l.onprogress=l.onwrite=l.onabort=l.onerror=l.onwriteend=null,function($,h,L){return new t($,h||$.name||"download",L)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);X!==void 0&&X.exports?X.exports.saveAs=o:Y!=null&&Y.amd!==null&&Y("FileSaver.js",function(){return o})},{}],253:[function(i,X,p){var o,I=Object.defineProperty,D=(I(p,"__esModule",{value:!0}),p),c={GIFEncoder:()=>S,applyPalette:()=>function(j,G,y="rgb565"){if(!j||!j.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(j instanceof Uint8Array||j instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<G.length)throw new Error("applyPalette() only works with 256 colors or less");let g=new Uint32Array(j.buffer),N=g.length,w=y==="rgb444"?4096:65536,ce=new Uint8Array(N),F=new Array(w);if(y==="rgba4444")for(let ne=0;ne<N;ne++){var W=g[ne],f=W>>24&255,E=W>>16&255,Z=W>>8&255,W=255&W,ee=d(W,Z,E,f),ee=ee in F?F[ee]:F[ee]=function(z,oe,he,Je,Pe){let me=0,Re=1e100;for(let Ve=0;Ve<Pe.length;Ve++){var je,be=Pe[Ve],We=T(be[3]-Je);We>Re||(je=be[0],(We+=T(je-z))>Re||(je=be[1],(We+=T(je-oe))>Re||(je=be[2],(We+=T(je-he))>Re||(Re=We,me=Ve))))}return me}(W,Z,E,f,G);ce[ne]=ee}else{let ne=y==="rgb444"?s:r;for(let z=0;z<N;z++){var te=g[z],De=te>>16&255,$e=te>>8&255,te=255&te,de=ne(te,$e,De),de=de in F?F[de]:F[de]=function(oe,he,Je,Pe){let me=0,Re=1e100;for(let Ve=0;Ve<Pe.length;Ve++){var je,be=Pe[Ve],We=T(be[0]-oe);We>Re||(je=be[1],(We+=T(je-he))>Re||(je=be[2],(We+=T(je-Je))>Re||(Re=We,me=Ve)))}return me}(te,$e,De,G);ce[z]=de}}return ce},default:()=>C,nearestColor:()=>function(j,G,y=L){return j[B(j,G,y)]},nearestColorIndex:()=>B,nearestColorIndexWithDistance:()=>J,prequantize:()=>function(j,{roundRGB:G=5,roundAlpha:y=10,oneBitAlpha:g=null}={}){let N=new Uint32Array(j.buffer);for(let E=0;E<N.length;E++){var f=N[E];let Z=f>>24&255;var w,ce=f>>16&255,F=f>>8&255,f=255&f;Z=U(Z,y),g&&(w=typeof g=="number"?g:127,Z=Z<=w?0:255),f=U(f,G),F=U(F,G),ce=U(ce,G),N[E]=Z<<24|ce<<16|F<<8|f<<0}},quantize:()=>function(j,G,y={}){var{format:g="rgb565",clearAlpha:N=!0,clearAlphaColor:w=0,clearAlphaThreshold:ce=0,oneBitAlpha:F=!1}=y;if(!j||!j.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(j instanceof Uint8Array||j instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");j=new Uint32Array(j.buffer);let f=y.useSqrt!==!1,E=g==="rgba4444",Z=function(Ne,ve){let ye=ve==="rgb444"?4096:65536,fe=new Array(ye),Fe=Ne.length;if(ve==="rgba4444")for(let ti=0;ti<Fe;++ti){var x=Ne[ti],Te=x>>24&255,_=x>>16&255,ae=x>>8&255,x=255&x,re=d(x,ae,_,Te);let ze=re in fe?fe[re]:fe[re]=h();ze.rc+=x,ze.gc+=ae,ze.bc+=_,ze.ac+=Te,ze.cnt++}else if(ve==="rgb444")for(let ti=0;ti<Fe;++ti){var Qe=Ne[ti],Le=Qe>>16&255,Be=Qe>>8&255,Qe=255&Qe,ke=s(Qe,Be,Le);let ze=ke in fe?fe[ke]:fe[ke]=h();ze.rc+=Qe,ze.gc+=Be,ze.bc+=Le,ze.cnt++}else for(let ti=0;ti<Fe;++ti){var qe=Ne[ti],ge=qe>>16&255,Ze=qe>>8&255,qe=255&qe,di=r(qe,Ze,ge);let ze=di in fe?fe[di]:fe[di]=h();ze.rc+=qe,ze.gc+=Ze,ze.bc+=ge,ze.cnt++}return fe}(j,g),W=Z.length,ee=W-1,De=new Uint32Array(W+1);for(var $e=0,te=0;te<W;++te){let Ne=Z[te];Ne!=null&&(be=1/Ne.cnt,E&&(Ne.ac*=be),Ne.rc*=be,Ne.gc*=be,Ne.bc*=be,Z[$e++]=Ne)}l(G)/$e<.022&&(f=!1);for(var de,ne,z,te=0;te<$e-1;++te)Z[te].fw=te+1,Z[te+1].bk=te,f&&(Z[te].cnt=Math.sqrt(Z[te].cnt));for(f&&(Z[te].cnt=Math.sqrt(Z[te].cnt)),te=0;te<$e;++te){$(Z,te,!1);var oe=Z[te].err;for(ne=++De[0];1<ne&&(z=ne>>1,!(Z[de=De[z]].err<=oe));ne=z)De[ne]=de;De[ne]=te}var he,Je=$e-G;for(te=0;te<Je;){for(;;){var Pe=De[1];if((he=Z[Pe]).tm>=he.mtm&&Z[he.nn].mtm<=he.tm)break;for(he.mtm==ee?Pe=De[1]=De[De[0]--]:($(Z,Pe,!1),he.tm=te),oe=Z[Pe].err,ne=1;(z=ne+ne)<=De[0]&&(z<De[0]&&Z[De[z]].err>Z[De[z+1]].err&&z++,!(oe<=Z[de=De[z]].err));ne=z)De[ne]=de;De[ne]=Pe}var me=Z[he.nn],Re=he.cnt,je=me.cnt,be=1/(Re+je);E&&(he.ac=be*(Re*he.ac+je*me.ac)),he.rc=be*(Re*he.rc+je*me.rc),he.gc=be*(Re*he.gc+je*me.gc),he.bc=be*(Re*he.bc+je*me.bc),he.cnt+=me.cnt,he.mtm=++te,Z[me.bk].fw=me.fw,Z[me.fw].bk=me.bk,me.mtm=ee}let We=[];for(te=0;;0){let Ne=t(Math.round(Z[te].rc),0,255),ve=t(Math.round(Z[te].gc),0,255),ye=t(Math.round(Z[te].bc),0,255),fe=255;E&&(fe=t(Math.round(Z[te].ac),0,255),F&&(Ve=typeof F=="number"?F:127,fe=fe<=Ve?0:255),N&&fe<=ce&&(Ne=ve=ye=w,fe=0));var Ve=E?[Ne,ve,ye,fe]:[Ne,ve,ye];if(function(Fe,Te){for(let x=0;x<Fe.length;x++){var ae=Fe[x],_=ae[0]===Te[0]&&ae[1]===Te[1]&&ae[2]===Te[2],ae=!(4<=ae.length&&4<=Te.length)||ae[3]===Te[3];if(_&&ae)return!0}return!1}(We,Ve)||We.push(Ve),(te=Z[te].fw)==0)break}return We},snapColorsToPalette:()=>function(j,G,y=5){if(j.length&&G.length){var g=j.map(f=>f.slice(0,3)),N=y*y,w=j[0].length;for(let f=0;f<G.length;f++){let E=G[f];E=E.length<w?[E[0],E[1],E[2],255]:E.length>w?E.slice(0,3):E.slice();var F=J(g,E.slice(0,3),L),ce=F[0],F=F[1];0<F&&F<=N&&(j[ce]=E)}}}};for(o in c)I(D,o,{get:c[o],enumerable:!0});var m={signature:"GIF",version:"89a",trailer:59,extensionIntroducer:33,applicationExtensionLabel:255,graphicControlExtensionLabel:249,imageSeparator:44,signatureSize:3,versionSize:3,globalColorTableFlagMask:128,colorResolutionMask:112,sortFlagMask:8,globalColorTableSizeMask:7,applicationIdentifierSize:8,applicationAuthCodeSize:3,disposalMethodMask:28,userInputFlagMask:2,transparentColorFlagMask:1,localColorTableFlagMask:128,interlaceFlagMask:64,idSortFlagMask:32,localColorTableSizeMask:7};function P(j=256){let G=0,y=new Uint8Array(j);return{get buffer(){return y.buffer},reset(){G=0},bytesView(){return y.subarray(0,G)},bytes(){return y.slice(0,G)},writeByte(N){g(G+1),y[G]=N,G++},writeBytes(N,w=0,ce=N.length){g(G+ce);for(let F=0;F<ce;F++)y[G++]=N[F+w]},writeBytesView(N,w=0,ce=N.byteLength){g(G+ce),y.set(N.subarray(w,w+ce),G),G+=ce}};function g(N){var w=y.length;if(!(N<=w)){N=Math.max(N,w*(w<1048576?2:1.125)>>>0),w!=0&&(N=Math.max(N,256));let ce=y;y=new Uint8Array(N),0<G&&y.set(ce.subarray(0,G),0)}}}var a=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],n=function(j,G,y,E,N=P(512),w=new Uint8Array(256),ce=new Int32Array(5003),F=new Int32Array(5003)){var f=ce.length,E=Math.max(2,E);w.fill(0),F.fill(0),ce.fill(-1);let Z=0,W=0;var ee=E+1;let De=ee,$e=!1,te=De,de=(1<<te)-1;var ne=1<<ee-1;let z=1+ne,oe=2+ne,he=0,Je=y[0],Pe=0;for(let Ve=f;Ve<65536;Ve*=2)++Pe;Pe=8-Pe,N.writeByte(E),We(ne);var me=y.length;for(let Ve=1;Ve<me;Ve++)e:{var Re=y[Ve],je=(Re<<12)+Je;let Ne=Re<<Pe^Je;if(ce[Ne]===je)Je=F[Ne];else{for(var be=Ne===0?1:f-Ne;0<=ce[Ne];)if((Ne-=be)<0&&(Ne+=f),ce[Ne]===je){Je=F[Ne];break e}We(Je),Je=Re,oe<4096?(F[Ne]=oe++,ce[Ne]=je):(ce.fill(-1),oe=2+ne,$e=!0,We(ne))}}return We(Je),We(z),N.writeByte(0),N.bytesView();function We(Ve){for(Z&=a[W],0<W?Z|=Ve<<W:Z=Ve,W+=te;8<=W;)w[he++]=255&Z,254<=he&&(N.writeByte(he),N.writeBytesView(w,0,he),he=0),Z>>=8,W-=8;if((oe>de||$e)&&($e?(te=De,de=(1<<te)-1,$e=!1):(++te,de=te===12?1<<te:(1<<te)-1)),Ve==z){for(;0<W;)w[he++]=255&Z,254<=he&&(N.writeByte(he),N.writeBytesView(w,0,he),he=0),Z>>=8,W-=8;0<he&&(N.writeByte(he),N.writeBytesView(w,0,he),he=0)}}};function r(j,G,y){return j<<8&63488|G<<2&992|y>>3}function d(j,G,y,g){return j>>4|240&G|(240&y)<<4|(240&g)<<8}function s(j,G,y){return j>>4<<8|240&G|y>>4}function t(j,G,y){return j<G?G:y<j?y:j}function l(j){return j*j}function $(j,G,y){var g=0,N=1e100;let w=j[G];for(var ce=w.cnt,F=w.ac,f=w.rc,E=w.gc,Z=w.bc,W=w.fw;W!=0;W=j[W].fw){var ee,De=j[W],$e=De.cnt,$e=ce*$e/(ce+$e);N<=$e||(ee=0,y&&N<=(ee+=$e*l(De.ac-F))||N<=(ee+=$e*l(De.rc-f))||N<=(ee+=$e*l(De.gc-E))||N<=(ee+=$e*l(De.bc-Z))||(N=ee,g=W))}w.err=N,w.nn=g}function h(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function L(j,G){for(var y=0,g=0;g<j.length;g++){var N=j[g]-G[g];y+=N*N}return y}function U(j,G){return 1<G?Math.round(j/G)*G:j}function T(j){return j*j}function B(j,G,y=L){let g=1/0,N=-1;for(let ce=0;ce<j.length;ce++){var w=y(G,j[ce]);w<g&&(g=w,N=ce)}return N}function J(j,G,y=L){let g=1/0,N=-1;for(let ce=0;ce<j.length;ce++){var w=y(G,j[ce]);w<g&&(g=w,N=ce)}return[N,g]}function S(j={}){let{initialCapacity:G=4096,auto:y=!0}=j,g=P(G),N=new Uint8Array(256),w=new Int32Array(5003),ce=new Int32Array(5003),F=!1;return{reset(){g.reset(),F=!1},finish(){g.writeByte(m.trailer)},bytes(){return g.bytes()},bytesView(){return g.bytesView()},get buffer(){return g.buffer},get stream(){return g},writeHeader:f,writeFrame(E,Z,W,Je={}){var{transparent:De=!1,transparentIndex:$e=0,delay:be=0,palette:te=null,repeat:me=0,colorDepth:de=8,dispose:ne=-1}=Je;let z=!1;if(y?F||(z=!0,f(),F=!0):z=!!Je.first,Z=Math.max(0,Math.floor(Z)),W=Math.max(0,Math.floor(W)),z){if(!te)throw new Error("First frame must include a { palette } option");var[Je,Re,he,je,Pe=8]=[g,Z,W,te,de];je=k(je.length)-1,Pe=128|Pe-1<<4|je,Q(Je,Re),Q(Je,he),Je.writeBytes([Pe,0,0]),A(g,te),0<=me&&(je=g,Re=me,je.writeByte(33),je.writeByte(255),je.writeByte(11),M(je,"NETSCAPE2.0"),je.writeByte(3),je.writeByte(1),Q(je,Re),je.writeByte(0))}var oe,he=Math.round(be/10),Je=g,Pe=ne,me=he,Re=De,je=$e,be=(Je.writeByte(33),Je.writeByte(249),Je.writeByte(4),je<0&&(je=0,Re=!1),Re=Re?(oe=1,2):oe=0,0<=Pe&&(Re=7&Pe),Re<<=2,Je.writeByte(0|Re|oe),Q(Je,me),Je.writeByte(je||0),Je.writeByte(0),!!te&&!z);ne=g,De=Z,$e=W,oe=be?te:null,ne.writeByte(44),Q(ne,0),Q(ne,0),Q(ne,De),Q(ne,$e),oe?(De=k(oe.length)-1,ne.writeByte(128|De)):ne.writeByte(0),be&&A(g,te),[me,Je,$e,De,ne=8,be,te,E]=[g,E,Z,W,de,N,w,ce],n($e,De,Je,ne,me,be,te,E)}};function f(){M(g,"GIF89a")}}function A(j,G){var y=1<<k(G.length);for(let g=0;g<y;g++){let N=[0,0,0];g<G.length&&(N=G[g]),j.writeByte(N[0]),j.writeByte(N[1]),j.writeByte(N[2])}}function Q(j,G){j.writeByte(255&G),j.writeByte(G>>8&255)}function M(j,G){for(var y=0;y<G.length;y++)j.writeByte(G.charCodeAt(y))}function k(j){return Math.max(Math.ceil(Math.log2(j)),1)}var C=S},{}],254:[function(i,X,p){p.read=function(o,I,D,c,$){var P,a,n=8*$-c-1,r=(1<<n)-1,d=r>>1,s=-7,t=D?$-1:0,l=D?-1:1,$=o[I+t];for(t+=l,P=$&(1<<-s)-1,$>>=-s,s+=n;0<s;P=256*P+o[I+t],t+=l,s-=8);for(a=P&(1<<-s)-1,P>>=-s,s+=c;0<s;a=256*a+o[I+t],t+=l,s-=8);if(P===0)P=1-d;else{if(P===r)return a?NaN:1/0*($?-1:1);a+=Math.pow(2,c),P-=d}return($?-1:1)*a*Math.pow(2,P-c)},p.write=function(o,I,D,c,m,h){var a,n,r=8*h-m-1,d=(1<<r)-1,s=d>>1,t=m===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=c?0:h-1,$=c?1:-1,h=I<0||I===0&&1/I<0?1:0;for(I=Math.abs(I),isNaN(I)||I===1/0?(n=isNaN(I)?1:0,a=d):(a=Math.floor(Math.log(I)/Math.LN2),I*(c=Math.pow(2,-a))<1&&(a--,c*=2),2<=(I+=1<=a+s?t/c:t*Math.pow(2,1-s))*c&&(a++,c/=2),d<=a+s?(n=0,a=d):1<=a+s?(n=(I*c-1)*Math.pow(2,m),a+=s):(n=I*Math.pow(2,s-1)*Math.pow(2,m),a=0));8<=m;o[D+l]=255&n,l+=$,n/=256,m-=8);for(a=a<<m|n,r+=m;0<r;o[D+l]=255&a,l+=$,a/=256,r-=8);o[D+l-$]|=128*h}},{}],255:[function(i,X,p){"use strict";var o;function I(_,ae){return _.b===ae.b&&_.a===ae.a}function D(_,ae){return _.b<ae.b||_.b===ae.b&&_.a<=ae.a}function c(_,ae,x){var re=ae.b-_.b,Le=x.b-ae.b;return 0<re+Le?re<Le?ae.a-_.a+re/(re+Le)*(_.a-x.a):ae.a-x.a+Le/(re+Le)*(x.a-_.a):0}function m(_,ae,x){var re=ae.b-_.b,Le=x.b-ae.b;return 0<re+Le?(ae.a-x.a)*re+(ae.a-_.a)*Le:0}function P(_,ae){return _.a<ae.a||_.a===ae.a&&_.b<=ae.b}function a(_,ae,x){var re=ae.a-_.a,Le=x.a-ae.a;return 0<re+Le?re<Le?ae.b-_.b+re/(re+Le)*(_.b-x.b):ae.b-x.b+Le/(re+Le)*(x.b-_.b):0}function n(_,ae,x){var re=ae.a-_.a,Le=x.a-ae.a;return 0<re+Le?(ae.b-x.b)*re+(ae.b-_.b)*Le:0}function r(_,ae,x,re){return(_=_<0?0:_)<=(x=x<0?0:x)?x===0?(ae+re)/2:ae+_/(_+x)*(re-ae):re+x/(_+x)*(ae-re)}function d(_){var ae=h(_.b);return U(ae,_.c),U(ae.b,_.c),T(ae,_.a),ae}function s(_,ae){var x=!1,re=!1;_!==ae&&(ae.a!==_.a&&(re=!0,J(ae.a,_.a)),ae.d!==_.d&&(x=!0,S(ae.d,_.d)),L(ae,_),re||(U(ae,_.a),_.a.c=_),x||(T(ae,_.d),_.d.a=_))}function t(_){var ae=_.b,x=!1;_.d!==_.b.d&&(x=!0,S(_.d,_.b.d)),_.c===_?J(_.a,null):(_.b.d.a=_.b.e,_.a.c=_.c,L(_,_.b.e),x||T(_,_.d)),ae.c===ae?(J(ae.a,null),S(ae.d,null)):(_.d.a=ae.b.e,ae.a.c=ae.c,L(ae,ae.b.e)),B(_)}function l(_){var ae=h(_),x=ae.b;return L(ae,_.e),ae.a=_.b.a,U(x,ae.a),ae.d=x.d=_.d,ae=ae.b,L(_.b,_.b.b.e),L(_.b,ae),_.b.a=ae.a,ae.b.a.c=ae.b,ae.b.d=_.b.d,ae.f=_.f,ae.b.f=_.b.f,ae}function $(_,ae){var x=!1,re=h(_),Le=re.b;return ae.d!==_.d&&(x=!0,S(ae.d,_.d)),L(re,_.e),L(Le,ae),re.a=_.b.a,Le.a=ae.a,re.d=Le.d=_.d,_.d.a=Le,x||T(re,_.d),re}function h(_){var ae=new he,x=new he,re=_.b.h;return(((x.h=re).b.h=ae).h=_).b.h=x,ae.b=x,((ae.c=ae).e=x).b=ae,(x.c=x).e=ae}function L(_,ae){var x=_.c,re=ae.c;x.b.e=ae,(re.b.e=_).c=re,ae.c=x}function U(_,ae){var x=ae.f,re=new Pe(ae,x);for(x.e=re,x=(ae.f=re).c=_;x.a=re,(x=x.c)!==_;);}function T(_,ae){var x=ae.d,re=new oe(ae,x);for(x.b=re,(ae.d=re).a=_,re.c=ae.c,x=_;x.d=re,(x=x.e)!==_;);}function B(_){var ae=_.h;_=_.b.h,(ae.b.h=_).b.h=ae}function J(_,ae){for(var x=_.c,re=x;re.a=ae,(re=re.c)!==x;);x=_.f,((re=_.e).f=x).e=re}function S(_,ae){for(var x=_.a,re=x;re.d=ae,(re=re.e)!==x;);x=_.d,((re=_.b).d=x).b=re}function A(_){var ae=0;return Math.abs(_[1])>Math.abs(_[0])&&(ae=1),ae=Math.abs(_[2])>Math.abs(_[ae])?2:ae}function Q(_,ae){_.f+=ae.f,_.b.f+=ae.b.f}function M(_,ae,x){return _=_.a,ae=ae.a,x=x.a,ae.b.a===_?x.b.a===_?D(ae.a,x.a)?m(x.b.a,ae.a,x.a)<=0:0<=m(ae.b.a,x.a,ae.a):m(x.b.a,_,x.a)<=0:x.b.a===_?0<=m(ae.b.a,_,ae.a):(ae=c(ae.b.a,_,ae.a),(_=c(x.b.a,_,x.a))<=ae)}function k(_){_.a.i=null;var ae=_.e;ae.a.c=ae.c,ae.c.a=ae.a,_.e=null}function C(_,ae){t(_.a),_.c=!1,(_.a=ae).i=_}function j(_){for(var ae=_.a.a;(_=Te(_)).a.a===ae;);return _.c&&(C(_,ae=$(Fe(_).a.b,_.a.e)),_=Te(_)),_}function G(_,ae,x){var re=new fe;return re.a=x,re.e=$e(_.f,ae.e,re),x.i=re}function y(_,ae){switch(_.s){case 100130:return(1&ae)!=0;case 100131:return ae!==0;case 100132:return 0<ae;case 100133:return ae<0;case 100134:return 2<=ae||ae<=-2}return!1}function g(_){var ae=_.a,x=ae.d;x.c=_.d,x.a=ae,k(_)}function N(_,ae,x){for(ae=(_=ae).a;_!==x;){_.c=!1;var re=Fe(_),Le=re.a;if(Le.a!==ae.a){if(!re.c){g(_);break}C(re,Le=$(ae.c.b,Le.b))}ae.c!==Le&&(s(Le.b.e,Le),s(ae,Le)),g(_),ae=re.a,_=re}return ae}function w(_,ae,x,re,Le,Be){for(var Qe=!0;G(_,ae,x.b),(x=x.c)!==re;);for(Le===null&&(Le=Fe(ae).a.b.c);(x=(re=Fe(ae)).a.b).a===Le.a;)x.c!==Le&&(s(x.b.e,x),s(Le.b.e,x)),re.f=ae.f-x.f,re.d=y(_,re.f),ae.b=!0,!Qe&&E(_,ae)&&(Q(x,Le),k(ae),t(Le)),Qe=!1,ae=re,Le=x;ae.b=!0,Be&&W(_,ae)}function ce(_,ae,x,re,Le){var Be=[ae.g[0],ae.g[1],ae.g[2]];ae.d=null,ae.d=_.o&&_.o(Be,x,re,_.c)||null,ae.d===null&&(Le?_.n||(z(_,100156),_.n=!0):ae.d=x[0])}function F(_,ae,x){var re=[null,null,null,null];re[0]=ae.a.d,re[1]=x.a.d,ce(_,ae.a,re,[.5,.5,0,0],!1),s(ae,x)}function f(_,ae,x,re,Le){var Be=Math.abs(ae.b-_.b)+Math.abs(ae.a-_.a),Qe=Math.abs(x.b-_.b)+Math.abs(x.a-_.a),ke=Le+1;re[Le]=.5*Qe/(Be+Qe),re[ke]=.5*Be/(Be+Qe),_.g[0]+=re[Le]*ae.g[0]+re[ke]*x.g[0],_.g[1]+=re[Le]*ae.g[1]+re[ke]*x.g[1],_.g[2]+=re[Le]*ae.g[2]+re[ke]*x.g[2]}function E(_,ae){var x=Fe(ae),re=ae.a,Le=x.a;if(D(re.a,Le.a)){if(0<m(Le.b.a,re.a,Le.a))return;if(I(re.a,Le.a)){if(re.a!==Le.a){var x=_.e,Be=re.a.h;if(0<=Be){var Qe=(x=x.b).d,ke=x.e,ge=x.c,Ze=ge[Be];Qe[Ze]=Qe[x.a],(ge[Qe[Ze]]=Ze)<=--x.a&&(Ze<=1||D(ke[Qe[Ze>>1]],ke[Qe[Ze]])?ve:ye)(x,Ze),ke[Be]=null,ge[Be]=x.b,x.b=Be}else for(x.c[-(Be+1)]=null;0<x.a&&x.c[x.d[x.a-1]]===null;)--x.a;F(_,Le.b.e,re)}}else l(Le.b),s(re,Le.b.e),ae.b=x.b=!0}else{if(m(re.b.a,Le.a,re.a)<0)return;Te(ae).b=ae.b=!0,l(re.b),s(Le.b.e,re)}return 1}function Z(_,ae){var x=Fe(ae),re=ae.a,Le=x.a,Be=re.a,Qe=Le.a,ke=re.b.a,ge=Le.b.a,Ze=new Pe;if(m(ke,_.a,Be),m(ge,_.a,Qe),!(Be===Qe||Math.min(Be.a,ke.a)>Math.max(Qe.a,ge.a))){if(D(Be,Qe)){if(0<m(ge,Be,Qe))return}else if(m(ke,Qe,Be)<0)return;var qe,di,ti=ke,ze=Be,ri=ge,Di=Qe;if(D(ti,ze)||(qe=ti,ti=ze,ze=qe),D(ri,Di)||(qe=ri,ri=Di,Di=qe),D(ti,ri)||(qe=ti,ti=ri,ri=qe,qe=ze,ze=Di,Di=qe),D(ri,ze)?D(ze,Di)?((qe=c(ti,ri,ze))+(di=c(ri,ze,Di))<0&&(qe=-qe,di=-di),Ze.b=r(qe,ri.b,di,ze.b)):((qe=m(ti,ri,ze))+(di=-m(ti,Di,ze))<0&&(qe=-qe,di=-di),Ze.b=r(qe,ri.b,di,Di.b)):Ze.b=(ri.b+ze.b)/2,P(ti,ze)||(qe=ti,ti=ze,ze=qe),P(ri,Di)||(qe=ri,ri=Di,Di=qe),P(ti,ri)||(qe=ti,ti=ri,ri=qe,qe=ze,ze=Di,Di=qe),P(ri,ze)?P(ze,Di)?((qe=a(ti,ri,ze))+(di=a(ri,ze,Di))<0&&(qe=-qe,di=-di),Ze.a=r(qe,ri.a,di,ze.a)):((qe=n(ti,ri,ze))+(di=-n(ti,Di,ze))<0&&(qe=-qe,di=-di),Ze.a=r(qe,ri.a,di,Di.a)):Ze.a=(ri.a+ze.a)/2,D(Ze,_.a)&&(Ze.b=_.a.b,Ze.a=_.a.a),ti=D(Be,Qe)?Be:Qe,D(ti,Ze)&&(Ze.b=ti.b,Ze.a=ti.a),I(Ze,Be)||I(Ze,Qe))return E(_,ae),0;if(!I(ke,_.a)&&0<=m(ke,_.a,Ze)||!I(ge,_.a)&&m(ge,_.a,Ze)<=0){if(ge===_.a)l(re.b),s(Le.b,re),re=Fe(ae=j(ae)).a,N(_,Fe(ae),x),w(_,ae,re.b.e,re,re,!0);else{if(ke!==_.a)return 0<=m(ke,_.a,Ze)&&(Te(ae).b=ae.b=!0,l(re.b),re.a.b=_.a.b,re.a.a=_.a.a),void(m(ge,_.a,Ze)<=0&&(ae.b=x.b=!0,l(Le.b),Le.a.b=_.a.b,Le.a.a=_.a.a));for(l(Le.b),s(re.e,Le.b.e),Qe=(Be=x=ae).a.b.a;(Be=Te(Be)).a.b.a===Qe;);Be=Fe(ae=Be).a.b.c,x.a=Le.b.e,w(_,ae,(Le=N(_,x,null)).c,re.b.c,Be,!0)}return 1}l(re.b),l(Le.b),s(Le.b.e,re),re.a.b=Ze.b,re.a.a=Ze.a,re.a.h=Re(_.e,re.a),re=re.a,Le=[0,0,0,0],Ze=[Be.d,ke.d,Qe.d,ge.d],re.g[0]=re.g[1]=re.g[2]=0,f(re,Be,ke,Le,0),f(re,Qe,ge,Le,2),ce(_,re,Ze,Le,!0),Te(ae).b=ae.b=x.b=!0}}function W(_,ae){for(var x=Fe(ae);;){for(;x.b;)x=Fe(ae=x);if(!ae.b&&((ae=Te(x=ae))===null||!ae.b))break;ae.b=!1;var re=ae.a,Le=x.a;if(Be=re.b.a!==Le.b.a)e:{var Be,Qe=Fe(Be=ae),ke=Be.a,ge=Qe.a,Ze=void 0;if(D(ke.b.a,ge.b.a)){if(m(ke.b.a,ge.b.a,ke.a)<0){Be=!1;break e}Te(Be).b=Be.b=!0,Ze=l(ke),s(ge.b,Ze),Ze.d.c=Be.d}else{if(0<m(ge.b.a,ke.b.a,ge.a)){Be=!1;break e}Be.b=Qe.b=!0,Ze=l(ge),s(ke.e,ge.b),Ze.b.d.c=Be.d}Be=!0}if(Be&&(x.c?(k(x),t(Le),Le=(x=Fe(ae)).a):ae.c&&(k(ae),t(re),re=(ae=Te(x)).a)),re.a!==Le.a){if(re.b.a===Le.b.a||ae.c||x.c||re.b.a!==_.a&&Le.b.a!==_.a)E(_,ae);else if(Z(_,ae))break}re.a===Le.a&&re.b.a===Le.b.a&&(Q(Le,re),k(ae),t(re),ae=Te(x))}}function ee(_,ae){var x=new fe,re=d(_.b);re.a.b=4e150,re.a.a=ae,re.b.a.b=-4e150,re.b.a.a=ae,_.a=re.b.a,x.a=re,x.f=0,x.d=!1,x.c=!1,x.h=!0,x.b=!1,re=$e(re=_.f,re.a,x),x.e=re}function De(_){this.a=new te,this.b=_,this.c=M}function $e(_,ae,x){for(;(ae=ae.c).b!==null&&!_.c(_.b,ae.b,x););return _=new te(x,ae.a,ae),ae.a.c=_,ae.a=_}function te(_,ae,x){this.b=_||null,this.a=ae||this,this.c=x||this}function de(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function ne(_,ae){if(_.d!==ae)for(;_.d!==ae;)if(_.d<ae)switch(_.d){case 0:z(_,100151),_.u(null);break;case 1:z(_,100152),_.t()}else switch(_.d){case 2:z(_,100154),_.v();break;case 1:z(_,100153),_.w()}}function z(_,ae){_.p&&_.p(ae,_.c)}function oe(_,ae){this.b=_||this,this.d=ae||this,this.a=null,this.c=!1}function he(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function Je(){this.c=new Pe,this.a=new oe,this.b=new he,this.d=new he,this.b.b=this.d,this.d.b=this.b}function Pe(_,ae){this.e=_||this,this.f=ae||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function me(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new be}function Re(_,ae){var x,re,Le;return _.e?(2*(re=++(x=_.b).a)>x.f&&(x.f*=2,x.c=We(x.c,x.f+1)),x.b===0?Le=re:(Le=x.b,x.b=x.c[x.b]),x.e[Le]=ae,x.c[Le]=re,x.d[re]=Le,x.h&&ye(x,re),Le):(x=_.a++,_.c[x]=ae,-(x+1))}function je(_){if(_.a===0)return Ne(_.b);var ae=_.c[_.d[_.a-1]];if(_.b.a!==0&&D(Ve(_.b),ae))return Ne(_.b);for(;--_.a,0<_.a&&_.c[_.d[_.a-1]]===null;);return ae}function be(){this.d=We([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function We(_,ae){for(var x=Array(ae),re=0;re<_.length;re++)x[re]=_[re];for(;re<ae;re++)x[re]=0;return x}function Ve(_){return _.e[_.d[1]]}function Ne(_){var ae=_.d,x=_.e,re=_.c,Le=ae[1],Be=x[Le];return 0<_.a&&(ae[1]=ae[_.a],re[ae[1]]=1,x[Le]=null,re[Le]=_.b,_.b=Le,0<--_.a&&ve(_,1)),Be}function ve(_,ae){for(var x=_.d,re=_.e,Le=_.c,Be=ae,Qe=x[Be];;){var ke=Be<<1,ge=(ke<_.a&&D(re[x[ke+1]],re[x[ke]])&&(ke+=1),x[ke]);if(ke>_.a||D(re[Qe],re[ge])){Le[x[Be]=Qe]=Be;break}Le[x[Be]=ge]=Be,Be=ke}}function ye(_,ae){for(var x=_.d,re=_.e,Le=_.c,Be=ae,Qe=x[Be];;){var ke=Be>>1,ge=x[ke];if(ke==0||D(re[ge],re[Qe])){Le[x[Be]=Qe]=Be;break}Le[x[Be]=ge]=Be,Be=ke}}function fe(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Fe(_){return _.e.c.b}function Te(_){return _.e.a.b}(o=de.prototype).x=function(){ne(this,0)},o.B=function(_,ae){switch(_){case 100142:return;case 100140:switch(ae){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ae)}break;case 100141:return void(this.m=!!ae);default:return void z(this,100900)}z(this,100901)},o.y=function(_){switch(_){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:z(this,100900)}return!1},o.A=function(_,ae,x){this.j[0]=_,this.j[1]=ae,this.j[2]=x},o.z=function(_,ae){var x=ae||null;switch(_){case 100100:case 100106:this.h=x;break;case 100104:case 100110:this.l=x;break;case 100101:case 100107:this.k=x;break;case 100102:case 100108:this.i=x;break;case 100103:case 100109:this.p=x;break;case 100105:case 100111:this.o=x;break;case 100112:this.r=x;break;default:z(this,100900)}},o.C=function(_,ae){var x=!1,re=[0,0,0];ne(this,2);for(var Le=0;Le<3;++Le){var Be=_[Le];Be<-1e150&&(Be=-1e150,x=!0),1e150<Be&&(Be=1e150,x=!0),re[Le]=Be}x&&z(this,100155),(x=this.q)===null?s(x=d(this.b),x.b):(l(x),x=x.e),x.a.d=ae,x.a.g[0]=re[0],x.a.g[1]=re[1],x.a.g[2]=re[2],x.f=1,x.b.f=-1,this.q=x},o.u=function(_){ne(this,0),this.d=1,this.b=new Je,this.c=_},o.t=function(){ne(this,1),this.d=2,this.q=null},o.v=function(){ne(this,2),this.d=1},o.w=function(){ne(this,1),this.d=0;var _,ae,x=this.j[0],re=this.j[1],Le=this.j[2],Be=!1,Qe=[x,re,Le];if(x===0&&re===0&&Le===0){for(var re=[-2e150,-2e150,-2e150],ke=[2e150,2e150,2e150],Le=[],ge=[],x=(Be=this.b.c).e;x!==Be;x=x.e)for(var Ze=0;Ze<3;++Ze){var qe=x.g[Ze];qe<ke[Ze]&&(ke[Ze]=qe,ge[Ze]=x),qe>re[Ze]&&(re[Ze]=qe,Le[Ze]=x)}if(re[1]-ke[1]>re[x=0]-ke[0]&&(x=1),ke[x=re[2]-ke[2]>re[x]-ke[x]?2:x]>=re[x])Qe[0]=0,Qe[1]=0,Qe[2]=1;else{for(ke=ge[x],Le=Le[x],ge=[re=0,0,0],ke=[ke.g[0]-Le.g[0],ke.g[1]-Le.g[1],ke.g[2]-Le.g[2]],Ze=[0,0,0],x=Be.e;x!==Be;x=x.e)Ze[0]=x.g[0]-Le.g[0],Ze[1]=x.g[1]-Le.g[1],Ze[2]=x.g[2]-Le.g[2],ge[0]=ke[1]*Ze[2]-ke[2]*Ze[1],ge[1]=ke[2]*Ze[0]-ke[0]*Ze[2],ge[2]=ke[0]*Ze[1]-ke[1]*Ze[0],re<(qe=ge[0]*ge[0]+ge[1]*ge[1]+ge[2]*ge[2])&&(re=qe,Qe[0]=ge[0],Qe[1]=ge[1],Qe[2]=ge[2]);re<=0&&(Qe[0]=Qe[1]=Qe[2]=0,Qe[A(ke)]=1)}Be=!0}for(ge=A(Qe),x=this.b.c,re=(ge+1)%3,Le=(ge+2)%3,ge=0<Qe[ge]?1:-1,Qe=x.e;Qe!==x;Qe=Qe.e)Qe.b=Qe.g[re],Qe.a=ge*Qe.g[Le];if(Be){for(Qe=0,x=(Be=this.b.a).b;x!==Be;x=x.b)if(!((re=x.a).f<=0))for(;Qe+=(re.a.b-re.b.a.b)*(re.a.a+re.b.a.a),(re=re.e)!==x.a;);if(Qe<0)for(Be=(Qe=this.b.c).e;Be!==Qe;Be=Be.e)Be.a=-Be.a}for(this.n=!1,Qe=this.b.b,x=Qe.h;x!==Qe;x=Be)Be=x.h,re=x.e,I(x.a,x.b.a)&&x.e.e!==x&&(F(this,re,x),t(x),re=(x=re).e),re.e===x&&(re!==x&&(re!==Be&&re!==Be.b||(Be=Be.h),t(re)),x!==Be&&x!==Be.b||(Be=Be.h),t(x));for(this.e=Qe=new me,Be=this.b.c,x=Be.e;x!==Be;x=x.e)x.h=Re(Qe,x);var di=Qe;di.d=[];for(var ti=0;ti<di.a;ti++)di.d[ti]=ti;di.d.sort(function(Di){return function(ui,Wi){return D(Di[ui],Di[Wi])?1:-1}}(di.c)),di.e=!0;for(var ze=di.b,ri=ze.a;1<=ri;--ri)ve(ze,ri);for(ze.h=!0,this.f=new De(this),ee(this,-4e150),ee(this,4e150);(Qe=je(this.e))!==null;){for(;;){e:if((x=this.e).a===0)Be=Ve(x.b);else if(Be=x.c[x.d[x.a-1]],x.b.a!==0&&D(x=Ve(x.b),Be)){Be=x;break e}if(Be===null||!I(Be,Qe))break;Be=je(this.e),F(this,Qe.c,Be.c)}(function Di(ui,Wi){for(var Ei,hi=(ui.a=Wi).c;hi.i===null;)if((hi=hi.c)===Wi.c){var hi=ui,pi=Wi;(Pi=new fe).a=pi.c.b;for(var vi=(ci=hi.f).a;(vi=vi.a).b!==null&&!ci.c(ci.b,Pi,vi.b););var ci,qi,gi=Fe(ci=vi.b),Pi=ci.a,vi=gi.a;return void(m(Pi.b.a,pi,Pi.a)===0?I((Pi=ci.a).a,pi)||I(Pi.b.a,pi)||(l(Pi.b),ci.c&&(t(Pi.c),ci.c=!1),s(pi.c,Pi),Di(hi,pi)):(qi=D(vi.b.a,Pi.b.a)?ci:gi,gi=void 0,ci.d||qi.c?(gi=qi===ci?$(pi.c.b,Pi.e):$(vi.b.c.b,pi.c).b,qi.c?C(qi,gi):((ci=G(Pi=hi,ci,gi)).f=Te(ci).f+ci.a.f,ci.d=y(Pi,ci.f)),Di(hi,pi)):w(hi,ci,pi.c,pi.c,null,!0)))}ci=(Pi=Fe(hi=j(hi.i))).a,(Pi=N(ui,Pi,null)).c===ci?(Pi=(ci=Pi).c,vi=Fe(hi),gi=hi.a,qi=vi.a,Ei=!1,gi.b.a!==qi.b.a&&Z(ui,hi),I(gi.a,ui.a)&&(s(Pi.b.e,gi),Pi=Fe(hi=j(hi)).a,N(ui,Fe(hi),vi),Ei=!0),I(qi.a,ui.a)&&(s(ci,qi.b.e),ci=N(ui,vi,null),Ei=!0),Ei?w(ui,hi,ci.c,Pi,Pi,!0):(pi=D(qi.a,gi.a)?qi.b.e:gi,w(ui,hi,pi=$(ci.c.b,pi),pi.c,pi.c,!1),pi.b.i.c=!0,W(ui,hi))):w(ui,hi,Pi.c,ci,ci,!0)})(this,Qe)}for(this.a=this.f.a.a.b.a.a,Qe=0;(Be=this.f.a.a.b)!==null;)Be.h||++Qe,k(Be);for(this.f=null,(Qe=this.e).b=null,Qe.d=null,this.e=Qe.c=null,Qe=this.b,x=Qe.a.b;x!==Qe.a;x=Be)Be=x.b,(x=x.a).e.e===x&&(Q(x.c,x),t(x));if(!this.n){if(Qe=this.b,this.m)for(x=Qe.b.h;x!==Qe.b;x=Be)Be=x.h,x.b.d.c!==x.d.c?x.f=x.d.c?1:-1:t(x);else for(x=Qe.a.b;x!==Qe.a;x=Be)if(Be=x.b,x.c){for(x=x.a;D(x.b.a,x.a);x=x.c.b);for(;D(x.a,x.b.a);x=x.e);for(re=x.c.b,Le=void 0;x.e!==re;)if(D(x.b.a,re.a)){for(;re.e!==x&&(D((ae=re.e).b.a,ae.a)||m(re.a,re.b.a,re.e.b.a)<=0);)re=(Le=$(re.e,re)).b;re=re.c.b}else{for(;re.e!==x&&(D((_=x.c.b).a,_.b.a)||0<=m(x.b.a,x.a,x.c.b.a));)x=(Le=$(x,x.c.b)).b;x=x.e}for(;re.e.e!==x;)Le=$(re.e,re),re=Le.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Be=(Qe=this.b).a.b;Be!==Qe.a;Be=Be.b)if(Be.c){for(this.h&&this.h(2,this.c),x=Be.a;this.k&&this.k(x.a.d,this.c),(x=x.e)!==Be.a;);this.i&&this.i(this.c)}}else{for(Qe=this.b,Be=!!this.l,x=!1,re=-1,Le=Qe.a.d;Le!==Qe.a;Le=Le.d)if(Le.c)for(x||(this.h&&this.h(4,this.c),x=!0),ge=Le.a;Be&&(ke=ge.b.d.c?0:1,re!==ke&&(re=ke,this.l&&this.l(!!re,this.c))),this.k&&this.k(ge.a.d,this.c),(ge=ge.e)!==Le.a;);x&&this.i&&this.i(this.c)}if(this.r){for(Qe=this.b,x=Qe.a.b;x!==Qe.a;x=Be)if(Be=x.b,!x.c){for(Le=(re=x.a).e,ge=void 0;Le=(ge=Le).e,(ge.d=null)===ge.b.d&&(ge.c===ge?J(ge.a,null):(ge.a.c=ge.c,L(ge,ge.b.e)),(ke=ge.b).c===ke?J(ke.a,null):(ke.a.c=ke.c,L(ke,ke.b.e)),B(ge)),ge!==re;);re=x.d,((x=x.b).d=re).b=x}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:de,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},de.prototype.gluDeleteTess=de.prototype.x,de.prototype.gluTessProperty=de.prototype.B,de.prototype.gluGetTessProperty=de.prototype.y,de.prototype.gluTessNormal=de.prototype.A,de.prototype.gluTessCallback=de.prototype.z,de.prototype.gluTessVertex=de.prototype.C,de.prototype.gluTessBeginPolygon=de.prototype.u,de.prototype.gluTessBeginContour=de.prototype.t,de.prototype.gluTessEndContour=de.prototype.v,de.prototype.gluTessEndPolygon=de.prototype.w,X!==void 0&&(X.exports=this.libtess)},{}],256:[function(i,X,p){"use strict";function o(D,c,m,P){var a=0,n=(P=P===void 0?{}:P).loop===void 0?null:P.loop,r=P.palette===void 0?null:P.palette;if(c<=0||m<=0||65535<c||65535<m)throw new Error("Width/Height invalid.");function d(T){if(T=T.length,T<2||256<T||T&T-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return T}D[a++]=71,D[a++]=73,D[a++]=70,D[a++]=56,D[a++]=57,D[a++]=97;var s=0,t=0;if(r!==null){for(var l=d(r);l>>=1;)++s;if(l=1<<s,--s,P.background!==void 0){if(l<=(t=P.background))throw new Error("Background index out of range.");if(t===0)throw new Error("Background index explicitly passed as 0.")}}if(D[a++]=255&c,D[a++]=c>>8&255,D[a++]=255&m,D[a++]=m>>8&255,D[a++]=(r!==null?128:0)|s,D[a++]=t,D[a++]=0,r!==null)for(var $=0,h=r.length;$<h;++$){var L=r[$];D[a++]=L>>16&255,D[a++]=L>>8&255,D[a++]=255&L}if(n!==null){if(n<0||65535<n)throw new Error("Loop count invalid.");D[a++]=33,D[a++]=255,D[a++]=11,D[a++]=78,D[a++]=69,D[a++]=84,D[a++]=83,D[a++]=67,D[a++]=65,D[a++]=80,D[a++]=69,D[a++]=50,D[a++]=46,D[a++]=48,D[a++]=3,D[a++]=1,D[a++]=255&n,D[a++]=n>>8&255,D[a++]=0}var U=!1;this.addFrame=function(T,B,J,S,A,Q){if(U===!0&&(--a,U=!1),Q=Q===void 0?{}:Q,T<0||B<0||65535<T||65535<B)throw new Error("x/y invalid.");if(J<=0||S<=0||65535<J||65535<S)throw new Error("Width/Height invalid.");if(A.length<J*S)throw new Error("Not enough pixels for the frame size.");var M=!0,k=Q.palette;if(k==null&&(M=!1,k=r),k==null)throw new Error("Must supply either a local or global palette.");for(var j=d(k),C=0;j>>=1;)++C;var j=1<<C,G=Q.delay===void 0?0:Q.delay,y=Q.disposal===void 0?0:Q.disposal;if(y<0||3<y)throw new Error("Disposal out of range.");var g=!1,N=0;if(Q.transparent!==void 0&&Q.transparent!==null&&(g=!0,(N=Q.transparent)<0||j<=N))throw new Error("Transparent color index.");if(y===0&&!g&&G===0||(D[a++]=33,D[a++]=249,D[a++]=4,D[a++]=y<<2|(g===!0?1:0),D[a++]=255&G,D[a++]=G>>8&255,D[a++]=N,D[a++]=0),D[a++]=44,D[a++]=255&T,D[a++]=T>>8&255,D[a++]=255&B,D[a++]=B>>8&255,D[a++]=255&J,D[a++]=J>>8&255,D[a++]=255&S,D[a++]=S>>8&255,D[a++]=M===!0?128|C-1:0,M===!0)for(var w=0,ce=k.length;w<ce;++w){var F=k[w];D[a++]=F>>16&255,D[a++]=F>>8&255,D[a++]=255&F}return a=function(f,E,Z,W){f[E++]=Z;var ee=E++,De=1<<Z,$e=De-1,te=1+De,de=1+te,ne=Z+1,z=0,oe=0;function he(Ne){for(;Ne<=z;)f[E++]=255&oe,oe>>=8,z-=8,E===ee+256&&(f[ee]=255,ee=E++)}function Je(Ne){oe|=Ne<<z,z+=ne,he(8)}var Pe=W[0]&$e,me={};Je(De);for(var Re=1,je=W.length;Re<je;++Re){var be=W[Re]&$e,We=Pe<<8|be,Ve=me[We];if(Ve===void 0){for(oe|=Pe<<z,z+=ne;8<=z;)f[E++]=255&oe,oe>>=8,z-=8,E===ee+256&&(f[ee]=255,ee=E++);de===4096?(Je(De),de=1+te,ne=Z+1,me={}):(1<<ne<=de&&++ne,me[We]=de++),Pe=be}else Pe=Ve}return Je(Pe),Je(te),he(1),ee+1===E?f[ee]=0:(f[ee]=E-ee-1,f[E++]=0),E}(D,a,C<2?2:C,A)},this.end=function(){return U===!1&&(D[a++]=59,U=!0),a},this.getOutputBuffer=function(){return D},this.setOutputBuffer=function(T){D=T},this.getOutputBufferPosition=function(){return a},this.setOutputBufferPosition=function(T){a=T}}function I(D,c,m,P){for(var a=D[c++],n=1<<a,r=1+n,d=1+r,s=a+1,t=(1<<s)-1,l=0,$=0,h=0,L=D[c++],U=new Int32Array(4096),T=null;;){for(;l<16&&L!==0;)$|=D[c++]<<l,l+=8,L===1?L=D[c++]:--L;if(l<s)break;var B=$&t;if($>>=s,l-=s,B==n)d=1+r,t=(1<<(s=a+1))-1,T=null;else{if(B==r)break;for(var J=B<d?B:T,S=0,A=J;n<A;)A=U[A]>>8,++S;var Q=A;if(P<h+S+(J!==B?1:0))return void console.log("Warning, gif stream longer than expected.");m[h++]=Q;var M=h+=S;for(J!==B&&(m[h++]=Q),A=J;S--;)A=U[A],m[--M]=255&A,A>>=8;T!==null&&d<4096&&(U[d++]=T<<8|Q,t+1<=d&&s<12&&(++s,t=t<<1|1)),T=B}}h!==P&&console.log("Warning, gif stream shorter than expected.")}try{p.GifWriter=o,p.GifReader=function(D){var c=0;if(D[c++]!==71||D[c++]!==73||D[c++]!==70||D[c++]!==56||(D[c++]+1&253)!=56||D[c++]!==97)throw new Error("Invalid GIF 87a/89a header.");var m=D[c++]|D[c++]<<8,P=D[c++]|D[c++]<<8,a=D[c++],n=1<<1+(7&a),r=(D[c++],D[c++],null),d=null,s=(a>>7&&(r=c,c+=3*(d=n)),!0),t=[],l=0,$=null,h=0,L=null;for(this.width=m,this.height=P;s&&c<D.length;)switch(D[c++]){case 33:switch(D[c++]){case 255:if(D[c]!==11||D[c+1]==78&&D[c+2]==69&&D[c+3]==84&&D[c+4]==83&&D[c+5]==67&&D[c+6]==65&&D[c+7]==80&&D[c+8]==69&&D[c+9]==50&&D[c+10]==46&&D[c+11]==48&&D[c+12]==3&&D[c+13]==1&&D[c+16]==0)c+=14,L=D[c++]|D[c++]<<8,c++;else for(c+=12;;){if(!(0<=(T=D[c++])))throw Error("Invalid block size");if(T===0)break;c+=T}break;case 249:if(D[c++]!==4||D[c+4]!==0)throw new Error("Invalid graphics extension block.");var U=D[c++],l=D[c++]|D[c++]<<8,$=D[c++];!(1&U)&&($=null),h=U>>2&7,c++;break;case 254:for(;;){if(!(0<=(T=D[c++])))throw Error("Invalid block size");if(T===0)break;c+=T}break;default:throw new Error("Unknown graphic control label: 0x"+D[c-1].toString(16))}break;case 44:var T,B=D[c++]|D[c++]<<8,J=D[c++]|D[c++]<<8,S=D[c++]|D[c++]<<8,A=D[c++]|D[c++]<<8,G=D[c++],Q=G>>6&1,M=1<<1+(7&G),k=r,C=d,j=!1,G=(G>>7&&(j=!0,k=c,c+=3*(C=M)),c);for(c++;;){if(!(0<=(T=D[c++])))throw Error("Invalid block size");if(T===0)break;c+=T}t.push({x:B,y:J,width:S,height:A,has_local_palette:j,palette_offset:k,palette_size:C,data_offset:G,data_length:c-G,transparent_index:$,interlaced:!!Q,delay:l,disposal:h});break;case 59:s=!1;break;default:throw new Error("Unknown gif block: 0x"+D[c-1].toString(16))}this.numFrames=function(){return t.length},this.loopCount=function(){return L},this.frameInfo=function(y){if(y<0||y>=t.length)throw new Error("Frame index out of range.");return t[y]},this.decodeAndBlitFrameBGRA=function(y,g){for(var y=this.frameInfo(y),N=y.width*y.height,w=new Uint8Array(N),ce=(I(D,y.data_offset,w,N),y.palette_offset),F=y.transparent_index,f=(F===null&&(F=256),y.width),E=m-f,Z=f,W=4*(y.y*m+y.x),ee=4*((y.y+y.height)*m+y.x),De=W,$e=4*E,te=(y.interlaced===!0&&($e+=4*m*7),8),de=0,ne=w.length;de<ne;++de){var z,oe,he=w[de];Z===0&&(Z=f,ee<=(De+=$e)&&($e=4*E+4*m*(te-1),De=W+(f+E)*(te<<1),te>>=1)),he===F?De+=4:(z=D[ce+3*he],oe=D[ce+3*he+1],he=D[ce+3*he+2],g[De++]=he,g[De++]=oe,g[De++]=z,g[De++]=255),--Z}},this.decodeAndBlitFrameRGBA=function(y,g){for(var y=this.frameInfo(y),N=y.width*y.height,w=new Uint8Array(N),ce=(I(D,y.data_offset,w,N),y.palette_offset),F=y.transparent_index,f=(F===null&&(F=256),y.width),E=m-f,Z=f,W=4*(y.y*m+y.x),ee=4*((y.y+y.height)*m+y.x),De=W,$e=4*E,te=(y.interlaced===!0&&($e+=4*m*7),8),de=0,ne=w.length;de<ne;++de){var z,oe,he=w[de];Z===0&&(Z=f,ee<=(De+=$e)&&($e=4*E+4*m*(te-1),De=W+(f+E)*(te<<1),te>>=1)),he===F?De+=4:(z=D[ce+3*he],oe=D[ce+3*he+1],he=D[ce+3*he+2],g[De++]=z,g[De++]=oe,g[De++]=he,g[De++]=255),--Z}}}}catch{}},{}],257:[function(i,X,p){(function(o){var I,D;I=this,D=function(c){"use strict";function m(K){if(this==null)throw TypeError();var u,R=String(this),b=R.length,K=K?Number(K):0;if(!((K=K!=K?0:K)<0||b<=K))return 55296<=(u=R.charCodeAt(K))&&u<=56319&&K+1<b&&56320<=(b=R.charCodeAt(K+1))&&b<=57343?1024*(u-55296)+b-56320+65536:u}String.prototype.codePointAt||((P=function(){try{var H={},u=Object.defineProperty,R=u(H,H,H)&&u}catch{}return R}())?P(String.prototype,"codePointAt",{value:m,configurable:!0,writable:!0}):String.prototype.codePointAt=m);var P,a=0,n=-3;function r(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function d(H,u){this.source=H,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=u,this.destLen=0,this.ltree=new r,this.dtree=new r}var s=new r,t=new r,l=new Uint8Array(30),$=new Uint16Array(30),h=new Uint8Array(30),L=new Uint16Array(30),U=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),T=new r,B=new Uint8Array(320);function J(H,u,R,b){for(var K,V=0;V<R;++V)H[V]=0;for(V=0;V<30-R;++V)H[V+R]=V/R|0;for(K=b,V=0;V<30;++V)u[V]=K,K+=1<<H[V]}var S=new Uint16Array(16);function A(H,u,R,b){for(var K,V=0;V<16;++V)H.table[V]=0;for(V=0;V<b;++V)H.table[u[R+V]]++;for(V=K=H.table[0]=0;V<16;++V)S[V]=K,K+=H.table[V];for(V=0;V<b;++V)u[R+V]&&(H.trans[S[u[R+V]]++]=V)}function Q(H,u,R){if(!u)return R;for(;H.bitcount<24;)H.tag|=H.source[H.sourceIndex++]<<H.bitcount,H.bitcount+=8;var b=H.tag&65535>>>16-u;return H.tag>>>=u,H.bitcount-=u,b+R}function M(H,u){for(;H.bitcount<24;)H.tag|=H.source[H.sourceIndex++]<<H.bitcount,H.bitcount+=8;for(var R=0,b=0,K=0,V=H.tag;b=2*b+(1&V),V>>>=1,R+=u.table[++K],0<=(b-=u.table[K]););return H.tag=V,H.bitcount-=K,u.trans[R+b]}function k(H,u,R){for(;;){var b=M(H,u);if(b===256)return a;if(b<256)H.dest[H.destLen++]=b;else for(var K,V=Q(H,l[b-=257],$[b]),b=M(H,R),v=K=H.destLen-Q(H,h[b],L[b]);v<K+V;++v)H.dest[H.destLen++]=H.dest[v]}}for(var C=s,j=t,G=0;G<7;++G)C.table[G]=0;for(C.table[7]=24,C.table[8]=152,C.table[9]=112,G=0;G<24;++G)C.trans[G]=256+G;for(G=0;G<144;++G)C.trans[24+G]=G;for(G=0;G<8;++G)C.trans[168+G]=280+G;for(G=0;G<112;++G)C.trans[176+G]=144+G;for(G=0;G<5;++G)j.table[G]=0;for(j.table[5]=32,G=0;G<32;++G)j.trans[G]=G;J(l,$,4,3),J(h,L,2,1),l[28]=0,$[28]=258;var y=function(H,u){var R,b,K,V=new d(H,u);do{switch(K=void 0,(b=V).bitcount--||(b.tag=b.source[b.sourceIndex++],b.bitcount=7),K=1&b.tag,b.tag>>>=1,b=K,Q(V,2,0)){case 0:R=function(Me){for(var ei,ni;8<Me.bitcount;)Me.sourceIndex--,Me.bitcount-=8;if((ei=256*Me.source[Me.sourceIndex+1]+Me.source[Me.sourceIndex])!==(65535&~(256*Me.source[Me.sourceIndex+3]+Me.source[Me.sourceIndex+2])))return n;for(Me.sourceIndex+=4,ni=ei;ni;--ni)Me.dest[Me.destLen++]=Me.source[Me.sourceIndex++];return Me.bitcount=0,a}(V);break;case 1:R=k(V,s,t);break;case 2:Xe=Se=Ee=Ue=v=Ie=pe=Ae=ue=se=le=ie=void 0;for(var v,ie=V,le=V.ltree,se=V.dtree,ue=Q(ie,5,257),Ae=Q(ie,5,1),pe=Q(ie,4,4),Ie=0;Ie<19;++Ie)B[Ie]=0;for(Ie=0;Ie<pe;++Ie){var Ee=Q(ie,3,0);B[U[Ie]]=Ee}for(A(T,B,0,19),v=0;v<ue+Ae;){var Se=M(ie,T);switch(Se){case 16:for(var Xe=B[v-1],Ue=Q(ie,2,3);Ue;--Ue)B[v++]=Xe;break;case 17:for(Ue=Q(ie,3,3);Ue;--Ue)B[v++]=0;break;case 18:for(Ue=Q(ie,7,11);Ue;--Ue)B[v++]=0;break;default:B[v++]=Se}}A(le,B,0,ue),A(se,B,ue,Ae),R=k(V,V.ltree,V.dtree);break;default:R=n}if(R!==a)throw new Error("Data error")}while(!b);return V.destLen<V.dest.length?typeof V.dest.slice=="function"?V.dest.slice(0,V.destLen):V.dest.subarray(0,V.destLen):V.dest};function g(H,u,R,b,K){return Math.pow(1-K,3)*H+3*Math.pow(1-K,2)*K*u+3*(1-K)*Math.pow(K,2)*R+Math.pow(K,3)*b}function N(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function w(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ce(H){throw new Error(H)}function F(H,u){H||ce(u)}N.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},N.prototype.addPoint=function(H,u){typeof H=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=H,this.x2=H),H<this.x1&&(this.x1=H),H>this.x2&&(this.x2=H)),typeof u=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=u,this.y2=u),u<this.y1&&(this.y1=u),u>this.y2&&(this.y2=u))},N.prototype.addX=function(H){this.addPoint(H,null)},N.prototype.addY=function(H){this.addPoint(null,H)},N.prototype.addBezier=function(H,u,R,b,K,V,v,ie){var le=[H,u],se=[R,b],ue=[K,V],Ae=[v,ie];this.addPoint(H,u),this.addPoint(v,ie);for(var pe=0;pe<=1;pe++){var Ie,Ee=6*le[pe]-12*se[pe]+6*ue[pe],Se=-3*le[pe]+9*se[pe]-9*ue[pe]+3*Ae[pe],Xe=3*se[pe]-3*le[pe];Se==0?Ee==0||0<(Ie=-Xe/Ee)&&Ie<1&&(pe===0&&this.addX(g(le[pe],se[pe],ue[pe],Ae[pe],Ie)),pe===1&&this.addY(g(le[pe],se[pe],ue[pe],Ae[pe],Ie))):(Ie=Math.pow(Ee,2)-4*Xe*Se)<0||(0<(Xe=(-Ee+Math.sqrt(Ie))/(2*Se))&&Xe<1&&(pe===0&&this.addX(g(le[pe],se[pe],ue[pe],Ae[pe],Xe)),pe===1&&this.addY(g(le[pe],se[pe],ue[pe],Ae[pe],Xe))),0<(Xe=(-Ee-Math.sqrt(Ie))/(2*Se))&&Xe<1&&(pe===0&&this.addX(g(le[pe],se[pe],ue[pe],Ae[pe],Xe)),pe===1&&this.addY(g(le[pe],se[pe],ue[pe],Ae[pe],Xe))))}},N.prototype.addQuad=function(H,u,R,b,K,V){R=H+2/3*(R-H),b=u+2/3*(b-u),this.addBezier(H,u,R,b,R+1/3*(K-H),b+1/3*(V-u),K,V)},w.prototype.moveTo=function(H,u){this.commands.push({type:"M",x:H,y:u})},w.prototype.lineTo=function(H,u){this.commands.push({type:"L",x:H,y:u})},w.prototype.curveTo=w.prototype.bezierCurveTo=function(H,u,R,b,K,V){this.commands.push({type:"C",x1:H,y1:u,x2:R,y2:b,x:K,y:V})},w.prototype.quadTo=w.prototype.quadraticCurveTo=function(H,u,R,b){this.commands.push({type:"Q",x1:H,y1:u,x:R,y:b})},w.prototype.close=w.prototype.closePath=function(){this.commands.push({type:"Z"})},w.prototype.extend=function(H){var u;if(H.commands)H=H.commands;else if(H instanceof N)return u=H,this.moveTo(u.x1,u.y1),this.lineTo(u.x2,u.y1),this.lineTo(u.x2,u.y2),this.lineTo(u.x1,u.y2),void this.close();Array.prototype.push.apply(this.commands,H)},w.prototype.getBoundingBox=function(){for(var H=new N,u=0,R=0,b=0,K=0,V=0;V<this.commands.length;V++){var v=this.commands[V];switch(v.type){case"M":H.addPoint(v.x,v.y),u=b=v.x,R=K=v.y;break;case"L":H.addPoint(v.x,v.y),b=v.x,K=v.y;break;case"Q":H.addQuad(b,K,v.x1,v.y1,v.x,v.y),b=v.x,K=v.y;break;case"C":H.addBezier(b,K,v.x1,v.y1,v.x2,v.y2,v.x,v.y),b=v.x,K=v.y;break;case"Z":b=u,K=R;break;default:throw new Error("Unexpected path command "+v.type)}}return H.isEmpty()&&H.addPoint(0,0),H},w.prototype.draw=function(H){H.beginPath();for(var u=0;u<this.commands.length;u+=1){var R=this.commands[u];R.type==="M"?H.moveTo(R.x,R.y):R.type==="L"?H.lineTo(R.x,R.y):R.type==="C"?H.bezierCurveTo(R.x1,R.y1,R.x2,R.y2,R.x,R.y):R.type==="Q"?H.quadraticCurveTo(R.x1,R.y1,R.x,R.y):R.type==="Z"&&H.closePath()}this.fill&&(H.fillStyle=this.fill,H.fill()),this.stroke&&(H.strokeStyle=this.stroke,H.lineWidth=this.strokeWidth,H.stroke())},w.prototype.toPathData=function(H){function u(){for(var V=arguments,v="",ie=0;ie<arguments.length;ie+=1){var le=V[ie];0<=le&&0<ie&&(v+=" "),v+=(le=le,Math.round(le)===le?""+Math.round(le):le.toFixed(H))}return v}H=H!==void 0?H:2;for(var R="",b=0;b<this.commands.length;b+=1){var K=this.commands[b];K.type==="M"?R+="M"+u(K.x,K.y):K.type==="L"?R+="L"+u(K.x,K.y):K.type==="C"?R+="C"+u(K.x1,K.y1,K.x2,K.y2,K.x,K.y):K.type==="Q"?R+="Q"+u(K.x1,K.y1,K.x,K.y):K.type==="Z"&&(R+="Z")}return R},w.prototype.toSVG=function(H){var u=(u='<path d="')+this.toPathData(H)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?u+=' fill="none"':u+=' fill="'+this.fill+'"'),this.stroke&&(u+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),u+="/>"},w.prototype.toDOMElement=function(u){var u=this.toPathData(u),R=document.createElementNS("http://www.w3.org/2000/svg","path");return R.setAttribute("d",u),R};var f={fail:ce,argument:F,assert:F},E={},Z={},W={};function ee(H){return function(){return H}}Z.BYTE=function(H){return f.argument(0<=H&&H<=255,"Byte value should be between 0 and 255."),[H]},W.BYTE=ee(1),Z.CHAR=function(H){return[H.charCodeAt(0)]},W.CHAR=ee(1),Z.CHARARRAY=function(H){for(var u=[],R=0;R<H.length;R+=1)u[R]=H.charCodeAt(R);return u},W.CHARARRAY=function(H){return H.length},Z.USHORT=function(H){return[H>>8&255,255&H]},W.USHORT=ee(2),Z.SHORT=function(H){return[(H=32768<=H?-(65536-H):H)>>8&255,255&H]},W.SHORT=ee(2),Z.UINT24=function(H){return[H>>16&255,H>>8&255,255&H]},W.UINT24=ee(3),Z.ULONG=function(H){return[H>>24&255,H>>16&255,H>>8&255,255&H]},W.ULONG=ee(4),Z.LONG=function(H){return[(H=2147483648<=H?-(4294967296-H):H)>>24&255,H>>16&255,H>>8&255,255&H]},W.LONG=ee(4),Z.FIXED=Z.ULONG,W.FIXED=W.ULONG,Z.FWORD=Z.SHORT,W.FWORD=W.SHORT,Z.UFWORD=Z.USHORT,W.UFWORD=W.USHORT,Z.LONGDATETIME=function(H){return[0,0,0,0,H>>24&255,H>>16&255,H>>8&255,255&H]},W.LONGDATETIME=ee(8),Z.TAG=function(H){return f.argument(H.length===4,"Tag should be exactly 4 ASCII characters."),[H.charCodeAt(0),H.charCodeAt(1),H.charCodeAt(2),H.charCodeAt(3)]},W.TAG=ee(4),Z.Card8=Z.BYTE,W.Card8=W.BYTE,Z.Card16=Z.USHORT,W.Card16=W.USHORT,Z.OffSize=Z.BYTE,W.OffSize=W.BYTE,Z.SID=Z.USHORT,W.SID=W.USHORT,Z.NUMBER=function(H){return-107<=H&&H<=107?[H+139]:108<=H&&H<=1131?[247+((H-=108)>>8),255&H]:-1131<=H&&H<=-108?[251+((H=-H-108)>>8),255&H]:-32768<=H&&H<=32767?Z.NUMBER16(H):Z.NUMBER32(H)},W.NUMBER=function(H){return Z.NUMBER(H).length},Z.NUMBER16=function(H){return[28,H>>8&255,255&H]},W.NUMBER16=ee(3),Z.NUMBER32=function(H){return[29,H>>24&255,H>>16&255,H>>8&255,255&H]},W.NUMBER32=ee(5),Z.REAL=function(H){for(var u=H.toString(),R=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(u),b=(R&&(R=parseFloat("1e"+((R[2]?+R[2]:0)+R[1].length)),u=(Math.round(H*R)/R).toString()),""),K=0,V=u.length;K<V;K+=1){var v=u[K];b+=v==="e"?u[++K]==="-"?"c":"b":v==="."?"a":v==="-"?"e":v}for(var ie=[30],le=0,se=(b+=1&b.length?"f":"ff").length;le<se;le+=2)ie.push(parseInt(b.substr(le,2),16));return ie},W.REAL=function(H){return Z.REAL(H).length},Z.NAME=Z.CHARARRAY,W.NAME=W.CHARARRAY,Z.STRING=Z.CHARARRAY,W.STRING=W.CHARARRAY,E.UTF8=function(H,u,R){for(var b=[],K=R,V=0;V<K;V++,u+=1)b[V]=H.getUint8(u);return String.fromCharCode.apply(null,b)},E.UTF16=function(H,u,R){for(var b=[],K=R/2,V=0;V<K;V++,u+=2)b[V]=H.getUint16(u);return String.fromCharCode.apply(null,b)},Z.UTF16=function(H){for(var u=[],R=0;R<H.length;R+=1){var b=H.charCodeAt(R);u[u.length]=b>>8&255,u[u.length]=255&b}return u},W.UTF16=function(H){return 2*H.length};var De,$e={"x-mac-croatian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\u0160\u2122\xB4\xA8\u2260\u017D\xD8\u221E\xB1\u2264\u2265\u2206\xB5\u2202\u2211\u220F\u0161\u222B\xAA\xBA\u03A9\u017E\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u0106\xAB\u010C\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u0110\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\uF8FF\xA9\u2044\u20AC\u2039\u203A\xC6\xBB\u2013\xB7\u201A\u201E\u2030\xC2\u0107\xC1\u010D\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u0111\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u03C0\xCB\u02DA\xB8\xCA\xE6\u02C7","x-mac-cyrillic":"\u0410\u0411\u0412\u0413\u0414\u0415\u0416\u0417\u0418\u0419\u041A\u041B\u041C\u041D\u041E\u041F\u0420\u0421\u0422\u0423\u0424\u0425\u0426\u0427\u0428\u0429\u042A\u042B\u042C\u042D\u042E\u042F\u2020\xB0\u0490\xA3\xA7\u2022\xB6\u0406\xAE\xA9\u2122\u0402\u0452\u2260\u0403\u0453\u221E\xB1\u2264\u2265\u0456\xB5\u0491\u0408\u0404\u0454\u0407\u0457\u0409\u0459\u040A\u045A\u0458\u0405\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\u040B\u045B\u040C\u045C\u0455\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u201E\u040E\u045E\u040F\u045F\u2116\u0401\u0451\u044F\u0430\u0431\u0432\u0433\u0434\u0435\u0436\u0437\u0438\u0439\u043A\u043B\u043C\u043D\u043E\u043F\u0440\u0441\u0442\u0443\u0444\u0445\u0446\u0447\u0448\u0449\u044A\u044B\u044C\u044D\u044E","x-mac-gaelic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u1E02\xB1\u2264\u2265\u1E03\u010A\u010B\u1E0A\u1E0B\u1E1E\u1E1F\u0120\u0121\u1E40\xE6\xF8\u1E41\u1E56\u1E57\u027C\u0192\u017F\u1E60\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\u1E61\u1E9B\xFF\u0178\u1E6A\u20AC\u2039\u203A\u0176\u0177\u1E6B\xB7\u1EF2\u1EF3\u204A\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\u2663\xD2\xDA\xDB\xD9\u0131\xDD\xFD\u0174\u0175\u1E84\u1E85\u1E80\u1E81\u1E82\u1E83","x-mac-greek":"\xC4\xB9\xB2\xC9\xB3\xD6\xDC\u0385\xE0\xE2\xE4\u0384\xA8\xE7\xE9\xE8\xEA\xEB\xA3\u2122\xEE\xEF\u2022\xBD\u2030\xF4\xF6\xA6\u20AC\xF9\xFB\xFC\u2020\u0393\u0394\u0398\u039B\u039E\u03A0\xDF\xAE\xA9\u03A3\u03AA\xA7\u2260\xB0\xB7\u0391\xB1\u2264\u2265\xA5\u0392\u0395\u0396\u0397\u0399\u039A\u039C\u03A6\u03AB\u03A8\u03A9\u03AC\u039D\xAC\u039F\u03A1\u2248\u03A4\xAB\xBB\u2026\xA0\u03A5\u03A7\u0386\u0388\u0153\u2013\u2015\u201C\u201D\u2018\u2019\xF7\u0389\u038A\u038C\u038E\u03AD\u03AE\u03AF\u03CC\u038F\u03CD\u03B1\u03B2\u03C8\u03B4\u03B5\u03C6\u03B3\u03B7\u03B9\u03BE\u03BA\u03BB\u03BC\u03BD\u03BF\u03C0\u03CE\u03C1\u03C3\u03C4\u03B8\u03C9\u03C2\u03C7\u03C5\u03B6\u03CA\u03CB\u0390\u03B0\xAD","x-mac-icelandic":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\xDD\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\xD0\xF0\xDE\xFE\xFD\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-inuit":"\u1403\u1404\u1405\u1406\u140A\u140B\u1431\u1432\u1433\u1434\u1438\u1439\u1449\u144E\u144F\u1450\u1451\u1455\u1456\u1466\u146D\u146E\u146F\u1470\u1472\u1473\u1483\u148B\u148C\u148D\u148E\u1490\u1491\xB0\u14A1\u14A5\u14A6\u2022\xB6\u14A7\xAE\xA9\u2122\u14A8\u14AA\u14AB\u14BB\u14C2\u14C3\u14C4\u14C5\u14C7\u14C8\u14D0\u14EF\u14F0\u14F1\u14F2\u14F4\u14F5\u1505\u14D5\u14D6\u14D7\u14D8\u14DA\u14DB\u14EA\u1528\u1529\u152A\u152B\u152D\u2026\xA0\u152E\u153E\u1555\u1556\u1557\u2013\u2014\u201C\u201D\u2018\u2019\u1558\u1559\u155A\u155D\u1546\u1547\u1548\u1549\u154B\u154C\u1550\u157F\u1580\u1581\u1582\u1583\u1584\u1585\u158F\u1590\u1591\u1592\u1593\u1594\u1595\u1671\u1672\u1673\u1674\u1675\u1676\u1596\u15A0\u15A1\u15A2\u15A3\u15A4\u15A5\u15A6\u157C\u0141\u0142","x-mac-ce":"\xC4\u0100\u0101\xC9\u0104\xD6\xDC\xE1\u0105\u010C\xE4\u010D\u0106\u0107\xE9\u0179\u017A\u010E\xED\u010F\u0112\u0113\u0116\xF3\u0117\xF4\xF6\xF5\xFA\u011A\u011B\xFC\u2020\xB0\u0118\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\u0119\xA8\u2260\u0123\u012E\u012F\u012A\u2264\u2265\u012B\u0136\u2202\u2211\u0142\u013B\u013C\u013D\u013E\u0139\u013A\u0145\u0146\u0143\xAC\u221A\u0144\u0147\u2206\xAB\xBB\u2026\xA0\u0148\u0150\xD5\u0151\u014C\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\u014D\u0154\u0155\u0158\u2039\u203A\u0159\u0156\u0157\u0160\u201A\u201E\u0161\u015A\u015B\xC1\u0164\u0165\xCD\u017D\u017E\u016A\xD3\xD4\u016B\u016E\xDA\u016F\u0170\u0171\u0172\u0173\xDD\xFD\u0137\u017B\u0141\u017C\u0122\u02C7",macintosh:"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\uFB01\uFB02\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-romanian":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\u0102\u0218\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\u0103\u0219\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u2044\u20AC\u2039\u203A\u021A\u021B\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\u0131\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7","x-mac-turkish":"\xC4\xC5\xC7\xC9\xD1\xD6\xDC\xE1\xE0\xE2\xE4\xE3\xE5\xE7\xE9\xE8\xEA\xEB\xED\xEC\xEE\xEF\xF1\xF3\xF2\xF4\xF6\xF5\xFA\xF9\xFB\xFC\u2020\xB0\xA2\xA3\xA7\u2022\xB6\xDF\xAE\xA9\u2122\xB4\xA8\u2260\xC6\xD8\u221E\xB1\u2264\u2265\xA5\xB5\u2202\u2211\u220F\u03C0\u222B\xAA\xBA\u03A9\xE6\xF8\xBF\xA1\xAC\u221A\u0192\u2248\u2206\xAB\xBB\u2026\xA0\xC0\xC3\xD5\u0152\u0153\u2013\u2014\u201C\u201D\u2018\u2019\xF7\u25CA\xFF\u0178\u011E\u011F\u0130\u0131\u015E\u015F\u2021\xB7\u201A\u201E\u2030\xC2\xCA\xC1\xCB\xC8\xCD\xCE\xCF\xCC\xD3\xD4\uF8FF\xD2\xDA\xDB\xD9\uF8A0\u02C6\u02DC\xAF\u02D8\u02D9\u02DA\xB8\u02DD\u02DB\u02C7"},te=(E.MACSTRING=function(H,u,R,b){var K=$e[b];if(K!==void 0){for(var V="",v=0;v<R;v++){var ie=H.getUint8(u+v);V+=ie<=127?String.fromCharCode(ie):K[127&ie]}return V}},typeof WeakMap=="function"&&new WeakMap);function de(H){return-128<=H&&H<=127}Z.MACSTRING=function(H,u){var R=function(v){if(!De)for(var ie in De={},$e)De[ie]=new String(ie);var le=De[v];if(le!==void 0){if(te){var se=te.get(le);if(se!==void 0)return se}var ue=$e[v];if(ue!==void 0){for(var Ae={},pe=0;pe<ue.length;pe++)Ae[ue.charCodeAt(pe)]=pe+128;return te&&te.set(le,Ae),Ae}}}(u);if(R!==void 0){for(var b=[],K=0;K<H.length;K++){var V=H.charCodeAt(K);if(128<=V&&(V=R[V])===void 0)return;b[K]=V}return b}},W.MACSTRING=function(H,u){return H=Z.MACSTRING(H,u),H!==void 0?H.length:0},Z.VARDELTAS=function(H){for(var b=0,u=[];b<H.length;)var R=H[b],b=(R===0?function(K,V,v){for(var ie=0,le=K.length;V<le&&ie<64&&K[V]===0;)++V,++ie;return v.push(128|ie-1),V}:-128<=R&&R<=127?function(K,V,v){for(var ie=0,le=K.length,se=V;se<le&&ie<64;){var ue=K[se];if(!de(ue)||ue===0&&se+1<le&&K[se+1]===0)break;++se,++ie}v.push(ie-1);for(var Ae=V;Ae<se;++Ae)v.push(K[Ae]+256&255);return se}:function(K,V,v){for(var ie=0,le=K.length,se=V;se<le&&ie<64;){var ue=K[se];if(ue===0||de(ue)&&se+1<le&&de(K[se+1]))break;++se,++ie}v.push(64|ie-1);for(var Ae=V;Ae<se;++Ae){var pe=K[Ae];v.push(pe+65536>>8&255,pe+256&255)}return se})(H,b,u);return u},Z.INDEX=function(H){for(var u=1,R=[u],b=[],K=0;K<H.length;K+=1){var V=Z.OBJECT(H[K]);Array.prototype.push.apply(b,V),u+=V.length,R.push(u)}if(b.length===0)return[0,0];for(var v=[],ie=1+Math.floor(Math.log(u)/Math.log(2))/8|0,le=[void 0,Z.BYTE,Z.USHORT,Z.UINT24,Z.ULONG][ie],se=0;se<R.length;se+=1){var ue=le(R[se]);Array.prototype.push.apply(v,ue)}return Array.prototype.concat(Z.Card16(H.length),Z.OffSize(ie),v,b)},W.INDEX=function(H){return Z.INDEX(H).length},Z.DICT=function(H){for(var u=[],R=Object.keys(H),b=R.length,K=0;K<b;K+=1){var V=parseInt(R[K],0),v=H[V];u=(u=u.concat(Z.OPERAND(v.value,v.type))).concat(Z.OPERATOR(V))}return u},W.DICT=function(H){return Z.DICT(H).length},Z.OPERATOR=function(H){return H<1200?[H]:[12,H-1200]},Z.OPERAND=function(H,u){var R=[];if(Array.isArray(u))for(var b=0;b<u.length;b+=1)f.argument(H.length===u.length,"Not enough arguments given for type"+u),R=R.concat(Z.OPERAND(H[b],u[b]));else if(u==="SID")R=R.concat(Z.NUMBER(H));else if(u==="offset")R=R.concat(Z.NUMBER32(H));else if(u==="number")R=R.concat(Z.NUMBER(H));else{if(u!=="real")throw new Error("Unknown operand type "+u);R=R.concat(Z.REAL(H))}return R},Z.OP=Z.BYTE,W.OP=W.BYTE;var ne=typeof WeakMap=="function"&&new WeakMap;function z(H,u,R){for(var b=0;b<u.length;b+=1){var K=u[b];this[K.name]=K.value}if(this.tableName=H,this.fields=u,R)for(var V=Object.keys(R),v=0;v<V.length;v+=1){var ie=V[v],le=R[ie];this[ie]!==void 0&&(this[ie]=le)}}function oe(H,u,R){R===void 0&&(R=u.length);var b=new Array(u.length+1);b[0]={name:H+"Count",type:"USHORT",value:R};for(var K=0;K<u.length;K++)b[K+1]={name:H+K,type:"USHORT",value:u[K]};return b}function he(H,u,R){var b=u.length,K=new Array(b+1);K[0]={name:H+"Count",type:"USHORT",value:b};for(var V=0;V<b;V++)K[V+1]={name:H+V,type:"TABLE",value:R(u[V],V)};return K}function Je(H,u,R){var b=u.length,K=[];K[0]={name:H+"Count",type:"USHORT",value:b};for(var V=0;V<b;V++)K=K.concat(R(u[V],V));return K}function Pe(H){H.format===1?z.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(oe("glyph",H.glyphs))):f.assert(!1,"Can't create coverage table format 2 yet.")}function me(H){z.call(this,"scriptListTable",Je("scriptRecord",H,function(u,R){var b=u.script,K=b.defaultLangSys;return f.assert(!!K,"Unable to write GSUB: script "+u.tag+" has no default language system."),[{name:"scriptTag"+R,type:"TAG",value:u.tag},{name:"script"+R,type:"TABLE",value:new z("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new z("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:K.reqFeatureIndex}].concat(oe("featureIndex",K.featureIndexes)))}].concat(Je("langSys",b.langSysRecords,function(V,v){var ie=V.langSys;return[{name:"langSysTag"+v,type:"TAG",value:V.tag},{name:"langSys"+v,type:"TABLE",value:new z("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:ie.reqFeatureIndex}].concat(oe("featureIndex",ie.featureIndexes)))}]})))}]}))}function Re(H){z.call(this,"featureListTable",Je("featureRecord",H,function(u,R){var b=u.feature;return[{name:"featureTag"+R,type:"TAG",value:u.tag},{name:"feature"+R,type:"TABLE",value:new z("featureTable",[{name:"featureParams",type:"USHORT",value:b.featureParams}].concat(oe("lookupListIndex",b.lookupListIndexes)))}]}))}function je(H,u){z.call(this,"lookupListTable",he("lookup",H,function(R){var b=u[R.lookupType];return f.assert(!!b,"Unable to write GSUB lookup type "+R.lookupType+" tables."),new z("lookupTable",[{name:"lookupType",type:"USHORT",value:R.lookupType},{name:"lookupFlag",type:"USHORT",value:R.lookupFlag}].concat(he("subtable",R.subtables,b)))}))}Z.CHARSTRING=function(H){if(ne){var u=ne.get(H);if(u!==void 0)return u}for(var V=[],R=H.length,b=0;b<R;b+=1)var K=H[b],V=V.concat(Z[K.type](K.value));return ne&&ne.set(H,V),V},W.CHARSTRING=function(H){return Z.CHARSTRING(H).length},Z.OBJECT=function(H){var u=Z[H.type];return f.argument(u!==void 0,"No encoding function for type "+H.type),u(H.value)},W.OBJECT=function(H){var u=W[H.type];return f.argument(u!==void 0,"No sizeOf function for type "+H.type),u(H.value)},Z.TABLE=function(H){for(var u=[],R=H.fields.length,b=[],K=[],V=0;V<R;V+=1){var v=H.fields[V],le=Z[v.type],ie=(f.argument(le!==void 0,"No encoding function for field type "+v.type+" ("+v.name+")"),H[v.name]),le=le(ie=ie===void 0?v.value:ie);v.type==="TABLE"?(K.push(u.length),u=u.concat([0,0]),b.push(le)):u=u.concat(le)}for(var se=0;se<b.length;se+=1){var ue=K[se],Ae=u.length;f.argument(Ae<65536,"Table "+H.tableName+" too big."),u[ue]=Ae>>8,u[ue+1]=255&Ae,u=u.concat(b[se])}return u},W.TABLE=function(H){for(var u=0,R=H.fields.length,b=0;b<R;b+=1){var K=H.fields[b],V=W[K.type],v=(f.argument(V!==void 0,"No sizeOf function for field type "+K.type+" ("+K.name+")"),H[K.name]);u+=V(v=v===void 0?K.value:v),K.type==="TABLE"&&(u+=2)}return u},Z.RECORD=Z.TABLE,W.RECORD=W.TABLE,Z.LITERAL=function(H){return H},W.LITERAL=function(H){return H.length},z.prototype.encode=function(){return Z.TABLE(this)},z.prototype.sizeOf=function(){return W.TABLE(this)};var be={Table:z,Record:z,Coverage:(Pe.prototype=Object.create(z.prototype)).constructor=Pe,ScriptList:(me.prototype=Object.create(z.prototype)).constructor=me,FeatureList:(Re.prototype=Object.create(z.prototype)).constructor=Re,LookupList:(je.prototype=Object.create(z.prototype)).constructor=je,ushortList:oe,tableList:he,recordList:Je};function We(H,u){return H.getUint8(u)}function Ve(H,u){return H.getUint16(u,!1)}function Ne(H,u){return H.getUint32(u,!1)}function ve(H,u){return H.getInt16(u,!1)+H.getUint16(u+2,!1)/65535}var ye={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function fe(H,u){this.data=H,this.offset=u,this.relativeOffset=0}fe.prototype.parseByte=function(){var H=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,H},fe.prototype.parseChar=function(){var H=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,H},fe.prototype.parseCard8=fe.prototype.parseByte,fe.prototype.parseCard16=fe.prototype.parseUShort=function(){var H=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,H},fe.prototype.parseSID=fe.prototype.parseUShort,fe.prototype.parseOffset16=fe.prototype.parseUShort,fe.prototype.parseShort=function(){var H=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,H},fe.prototype.parseF2Dot14=function(){var H=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,H},fe.prototype.parseOffset32=fe.prototype.parseULong=function(){var H=Ne(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,H},fe.prototype.parseFixed=function(){var H=ve(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,H},fe.prototype.parseString=function(H){var u=this.data,R=this.offset+this.relativeOffset,b="";this.relativeOffset+=H;for(var K=0;K<H;K++)b+=String.fromCharCode(u.getUint8(R+K));return b},fe.prototype.parseTag=function(){return this.parseString(4)},fe.prototype.parseLongDateTime=function(){var H=Ne(this.data,this.offset+this.relativeOffset+4);return H-=2082844800,this.relativeOffset+=8,H},fe.prototype.parseVersion=function(H){var u=Ve(this.data,this.offset+this.relativeOffset),R=Ve(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,u+R/(H=H===void 0?4096:H)/10},fe.prototype.skip=function(H,u){this.relativeOffset+=ye[H]*(u=u===void 0?1:u)},fe.prototype.parseULongList=function(H){H===void 0&&(H=this.parseULong());for(var u=new Array(H),R=this.data,b=this.offset+this.relativeOffset,K=0;K<H;K++)u[K]=R.getUint32(b),b+=4;return this.relativeOffset+=4*H,u},fe.prototype.parseOffset16List=fe.prototype.parseUShortList=function(H){H===void 0&&(H=this.parseUShort());for(var u=new Array(H),R=this.data,b=this.offset+this.relativeOffset,K=0;K<H;K++)u[K]=R.getUint16(b),b+=2;return this.relativeOffset+=2*H,u},fe.prototype.parseShortList=function(H){for(var u=new Array(H),R=this.data,b=this.offset+this.relativeOffset,K=0;K<H;K++)u[K]=R.getInt16(b),b+=2;return this.relativeOffset+=2*H,u},fe.prototype.parseByteList=function(H){for(var u=new Array(H),R=this.data,b=this.offset+this.relativeOffset,K=0;K<H;K++)u[K]=R.getUint8(b++);return this.relativeOffset+=H,u},fe.prototype.parseList=function(H,u){u||(u=H,H=this.parseUShort());for(var R=new Array(H),b=0;b<H;b++)R[b]=u.call(this);return R},fe.prototype.parseList32=function(H,u){u||(u=H,H=this.parseULong());for(var R=new Array(H),b=0;b<H;b++)R[b]=u.call(this);return R},fe.prototype.parseRecordList=function(H,u){u||(u=H,H=this.parseUShort());for(var R=new Array(H),b=Object.keys(u),K=0;K<H;K++){for(var V={},v=0;v<b.length;v++){var ie=b[v],le=u[ie];V[ie]=le.call(this)}R[K]=V}return R},fe.prototype.parseRecordList32=function(H,u){u||(u=H,H=this.parseULong());for(var R=new Array(H),b=Object.keys(u),K=0;K<H;K++){for(var V={},v=0;v<b.length;v++){var ie=b[v],le=u[ie];V[ie]=le.call(this)}R[K]=V}return R},fe.prototype.parseStruct=function(H){if(typeof H=="function")return H.call(this);for(var u=Object.keys(H),R={},b=0;b<u.length;b++){var K=u[b],V=H[K];R[K]=V.call(this)}return R},fe.prototype.parseValueRecord=function(H){var u;if((H=H===void 0?this.parseUShort():H)!==0)return u={},1&H&&(u.xPlacement=this.parseShort()),2&H&&(u.yPlacement=this.parseShort()),4&H&&(u.xAdvance=this.parseShort()),8&H&&(u.yAdvance=this.parseShort()),16&H&&(u.xPlaDevice=void 0,this.parseShort()),32&H&&(u.yPlaDevice=void 0,this.parseShort()),64&H&&(u.xAdvDevice=void 0,this.parseShort()),128&H&&(u.yAdvDevice=void 0,this.parseShort()),u},fe.prototype.parseValueRecordList=function(){for(var H=this.parseUShort(),u=this.parseUShort(),R=new Array(u),b=0;b<u;b++)R[b]=this.parseValueRecord(H);return R},fe.prototype.parsePointer=function(H){var u=this.parseOffset16();if(0<u)return new fe(this.data,this.offset+u).parseStruct(H)},fe.prototype.parsePointer32=function(H){var u=this.parseOffset32();if(0<u)return new fe(this.data,this.offset+u).parseStruct(H)},fe.prototype.parseListOfLists=function(H){for(var u=this.parseOffset16List(),R=u.length,b=this.relativeOffset,K=new Array(R),V=0;V<R;V++){var v=u[V];if(v===0)K[V]=void 0;else if(this.relativeOffset=v,H){for(var ie=this.parseOffset16List(),le=new Array(ie.length),se=0;se<ie.length;se++)this.relativeOffset=v+ie[se],le[se]=H.call(this);K[V]=le}else K[V]=this.parseUShortList()}return this.relativeOffset=b,K},fe.prototype.parseCoverage=function(){var H=this.offset+this.relativeOffset,u=this.parseUShort(),R=this.parseUShort();if(u===1)return{format:1,glyphs:this.parseUShortList(R)};if(u!==2)throw new Error("0x"+H.toString(16)+": Coverage format must be 1 or 2.");for(var b=new Array(R),K=0;K<R;K++)b[K]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:b}},fe.prototype.parseClassDef=function(){var H=this.offset+this.relativeOffset,u=this.parseUShort();if(u===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(u===2)return{format:2,ranges:this.parseRecordList({start:fe.uShort,end:fe.uShort,classId:fe.uShort})};throw new Error("0x"+H.toString(16)+": ClassDef format must be 1 or 2.")},fe.list=function(H,u){return function(){return this.parseList(H,u)}},fe.list32=function(H,u){return function(){return this.parseList32(H,u)}},fe.recordList=function(H,u){return function(){return this.parseRecordList(H,u)}},fe.recordList32=function(H,u){return function(){return this.parseRecordList32(H,u)}},fe.pointer=function(H){return function(){return this.parsePointer(H)}},fe.pointer32=function(H){return function(){return this.parsePointer32(H)}},fe.tag=fe.prototype.parseTag,fe.byte=fe.prototype.parseByte,fe.uShort=fe.offset16=fe.prototype.parseUShort,fe.uShortList=fe.prototype.parseUShortList,fe.uLong=fe.offset32=fe.prototype.parseULong,fe.uLongList=fe.prototype.parseULongList,fe.struct=fe.prototype.parseStruct,fe.coverage=fe.prototype.parseCoverage,fe.classDef=fe.prototype.parseClassDef;var Fe={reserved:fe.uShort,reqFeatureIndex:fe.uShort,featureIndexes:fe.uShortList},Te=(fe.prototype.parseScriptList=function(){return this.parsePointer(fe.recordList({tag:fe.tag,script:fe.pointer({defaultLangSys:fe.pointer(Fe),langSysRecords:fe.recordList({tag:fe.tag,langSys:fe.pointer(Fe)})})}))||[]},fe.prototype.parseFeatureList=function(){return this.parsePointer(fe.recordList({tag:fe.tag,feature:fe.pointer({featureParams:fe.offset16,lookupListIndexes:fe.uShortList})}))||[]},fe.prototype.parseLookupList=function(H){return this.parsePointer(fe.list(fe.pointer(function(){var u=this.parseUShort(),R=(f.argument(1<=u&&u<=9,"GPOS/GSUB lookup type "+u+" unknown."),this.parseUShort()),b=16&R;return{lookupType:u,lookupFlag:R,subtables:this.parseList(fe.pointer(H[u])),markFilteringSet:b?this.parseUShort():void 0}})))||[]},fe.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var H=this.parseUShort(),u=this.parseUShort();return f.argument(H===1&&u<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:fe.offset32,featureTableSubstitutionOffset:fe.offset32})})||[]},{getByte:We,getCard8:We,getUShort:Ve,getCard16:Ve,getShort:function(H,u){return H.getInt16(u,!1)},getULong:Ne,getFixed:ve,getTag:function(H,u){for(var R="",b=u;b<u+4;b+=1)R+=String.fromCharCode(H.getInt8(b));return R},getOffset:function(H,u,R){for(var b=0,K=0;K<R;K+=1)b=(b<<=8)+H.getUint8(u+K);return b},getBytes:function(H,u,R){for(var b=[],K=u;K<R;K+=1)b.push(H.getUint8(K));return b},bytesToString:function(H){for(var u="",R=0;R<H.length;R+=1)u+=String.fromCharCode(H[R]);return u},Parser:fe}),_={parse:function(H,u){for(var R={},b=(R.version=Te.getUShort(H,u),f.argument(R.version===0,"cmap table version should be 0."),R.numTables=Te.getUShort(H,u+2),-1),K=R.numTables-1;0<=K;--K){var V=Te.getUShort(H,u+4+8*K),v=Te.getUShort(H,u+4+8*K+2);if(V===3&&(v===0||v===1||v===10)||V===0&&(v===0||v===1||v===2||v===3||v===4)){b=Te.getULong(H,u+4+8*K+4);break}}if(b===-1)throw new Error("No valid cmap sub-tables found.");var ie=new Te.Parser(H,u+b);if(R.format=ie.parseUShort(),R.format===12){var le,se=R,ue=ie;ue.parseUShort(),se.length=ue.parseULong(),se.language=ue.parseULong(),se.groupCount=le=ue.parseULong(),se.glyphIndexMap={};for(var Ae=0;Ae<le;Ae+=1)for(var pe=ue.parseULong(),Ie=ue.parseULong(),Ee=ue.parseULong(),Se=pe;Se<=Ie;Se+=1)se.glyphIndexMap[Se]=Ee,Ee++}else{if(R.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+R.format+").");var Xe=R,Ue=H,Me=u,ei=b;Xe.length=ie.parseUShort(),Xe.language=ie.parseUShort(),Xe.segCount=ni=ie.parseUShort()>>1,ie.skip("uShort",3),Xe.glyphIndexMap={};for(var ni,ii=new Te.Parser(Ue,Me+ei+14),ai=new Te.Parser(Ue,Me+ei+16+2*ni),si=new Te.Parser(Ue,Me+ei+16+4*ni),fi=new Te.Parser(Ue,Me+ei+16+6*ni),Xi=Me+ei+16+8*ni,Ki=0;Ki<ni-1;Ki+=1)for(var xi=void 0,wi=ii.parseUShort(),na=ai.parseUShort(),Li=si.parseShort(),Bi=fi.parseUShort(),Hi=na;Hi<=wi;Hi+=1)Bi!==0?(Xi=(Xi=fi.offset+fi.relativeOffset-2)+Bi+2*(Hi-na),(xi=Te.getUShort(Ue,Xi))!==0&&(xi=xi+Li&65535)):xi=Hi+Li&65535,Xe.glyphIndexMap[Hi]=xi}return R},make:function(H){for(var u=!0,R=H.length-1;0<R;--R)if(65535<H.get(R).unicode){console.log("Adding CMAP format 12 (needed!)"),u=!1;break}var b,K,V=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:u?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:u?12:20}],v=(V=(V=u?V:V.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new be.Table("cmap",V));for(v.segments=[],R=0;R<H.length;R+=1){for(var ie=H.get(R),le=0;le<ie.unicodes.length;le+=1)b=ie.unicodes[le],K=R,v.segments.push({end:b,start:b,delta:-(b-K),offset:0,glyphIndex:K});v.segments=v.segments.sort(function(Me,ei){return Me.start-ei.start})}v.segments.push({end:65535,start:65535,delta:1,offset:0});var se=v.segments.length,ue=0,Ae=[],pe=[],Ie=[],Ee=[],Se=[],Xe=[];for(R=0;R<se;R+=1){var Ue=v.segments[R];Ue.end<=65535&&Ue.start<=65535?(Ae=Ae.concat({name:"end_"+R,type:"USHORT",value:Ue.end}),pe=pe.concat({name:"start_"+R,type:"USHORT",value:Ue.start}),Ie=Ie.concat({name:"idDelta_"+R,type:"SHORT",value:Ue.delta}),Ee=Ee.concat({name:"idRangeOffset_"+R,type:"USHORT",value:Ue.offset}),Ue.glyphId!==void 0&&(Se=Se.concat({name:"glyph_"+R,type:"USHORT",value:Ue.glyphId}))):ue+=1,u||Ue.glyphIndex===void 0||(Xe=(Xe=(Xe=Xe.concat({name:"cmap12Start_"+R,type:"ULONG",value:Ue.start})).concat({name:"cmap12End_"+R,type:"ULONG",value:Ue.end})).concat({name:"cmap12Glyph_"+R,type:"ULONG",value:Ue.glyphIndex}))}return v.segCountX2=2*(se-ue),v.searchRange=2*Math.pow(2,Math.floor(Math.log(se-ue)/Math.log(2))),v.entrySelector=Math.log(v.searchRange/2)/Math.log(2),v.rangeShift=v.segCountX2-v.searchRange,v.fields=v.fields.concat(Ae),v.fields.push({name:"reservedPad",type:"USHORT",value:0}),v.fields=v.fields.concat(pe),v.fields=v.fields.concat(Ie),v.fields=v.fields.concat(Ee),v.fields=v.fields.concat(Se),v.cmap4Length=14+2*Ae.length+2+2*pe.length+2*Ie.length+2*Ee.length+2*Se.length,u||(V=16+4*Xe.length,v.cmap12Offset=20+v.cmap4Length,v.fields=v.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:V},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Xe.length/3}]),v.fields=v.fields.concat(Xe)),v}},ae=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],x=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Le=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Be(H){this.font=H}function Qe(H){this.cmap=H}function ke(H,u){this.encoding=H,this.charset=u}function ge(H){switch(H.version){case 1:this.names=Le.slice();break;case 2:this.names=new Array(H.numberOfGlyphs);for(var u=0;u<H.numberOfGlyphs;u++)H.glyphNameIndex[u]<Le.length?this.names[u]=Le[H.glyphNameIndex[u]]:this.names[u]=H.names[H.glyphNameIndex[u]-Le.length];break;case 2.5:this.names=new Array(H.numberOfGlyphs);for(var R=0;R<H.numberOfGlyphs;R++)this.names[R]=Le[R+H.glyphNameIndex[R]];break;default:this.names=[]}}Be.prototype.charToGlyphIndex=function(H){var u=H.codePointAt(0),R=this.font.glyphs;if(R){for(var b=0;b<R.length;b+=1)for(var K=R.get(b),V=0;V<K.unicodes.length;V+=1)if(K.unicodes[V]===u)return b}return null},Qe.prototype.charToGlyphIndex=function(H){return this.cmap.glyphIndexMap[H.codePointAt(0)]||0},ke.prototype.charToGlyphIndex=function(H){return H=H.codePointAt(0),H=this.encoding[H],this.charset.indexOf(H)},ge.prototype.nameToGlyphIndex=function(H){return this.names.indexOf(H)},ge.prototype.glyphIndexToName=function(H){return this.names[H]};var Ze={line:function(H,u,R,b,K){H.beginPath(),H.moveTo(u,R),H.lineTo(b,K),H.stroke()}};function qe(H){this.bindConstructorValues(H)}function di(H,u,R){Object.defineProperty(H,u,{get:function(){return H.path,H[R]},set:function(b){H[R]=b},enumerable:!0,configurable:!0})}function ti(H,u){if(this.font=H,this.glyphs={},Array.isArray(u))for(var R=0;R<u.length;R++)this.glyphs[R]=u[R];this.length=u&&u.length||0}qe.prototype.bindConstructorValues=function(H){var u;this.index=H.index||0,this.name=H.name||null,this.unicode=H.unicode||void 0,this.unicodes=H.unicodes||H.unicode!==void 0?[H.unicode]:[],H.xMin&&(this.xMin=H.xMin),H.yMin&&(this.yMin=H.yMin),H.xMax&&(this.xMax=H.xMax),H.yMax&&(this.yMax=H.yMax),H.advanceWidth&&(this.advanceWidth=H.advanceWidth),Object.defineProperty(this,"path",(H=H.path,u=H||new w,{configurable:!0,get:function(){return u=typeof u=="function"?u():u},set:function(R){u=R}}))},qe.prototype.addUnicode=function(H){this.unicodes.length===0&&(this.unicode=H),this.unicodes.push(H)},qe.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},qe.prototype.getPath=function(H,u,R,b,K){H=H!==void 0?H:0,u=u!==void 0?u:0,R=R!==void 0?R:72;for(var V,v,ie=(b=b||{}).xScale,le=b.yScale,se=((V=b.hinting&&K&&K.hinting?this.path&&K.hinting.exec(this,R):V)?(v=K.hinting.getCommands(V),H=Math.round(H),u=Math.round(u),ie=le=1):(v=this.path.commands,b=1/this.path.unitsPerEm*R,ie===void 0&&(ie=b),le===void 0&&(le=b)),new w),ue=0;ue<v.length;ue+=1){var Ae=v[ue];Ae.type==="M"?se.moveTo(H+Ae.x*ie,u+-Ae.y*le):Ae.type==="L"?se.lineTo(H+Ae.x*ie,u+-Ae.y*le):Ae.type==="Q"?se.quadraticCurveTo(H+Ae.x1*ie,u+-Ae.y1*le,H+Ae.x*ie,u+-Ae.y*le):Ae.type==="C"?se.curveTo(H+Ae.x1*ie,u+-Ae.y1*le,H+Ae.x2*ie,u+-Ae.y2*le,H+Ae.x*ie,u+-Ae.y*le):Ae.type==="Z"&&se.closePath()}return se},qe.prototype.getContours=function(){if(this.points===void 0)return[];for(var H=[],u=[],R=0;R<this.points.length;R+=1){var b=this.points[R];u.push(b),b.lastPointOfContour&&(H.push(u),u=[])}return f.argument(u.length===0,"There are still points left in the current contour."),H},qe.prototype.getMetrics=function(){for(var H=this.path.commands,u=[],R=[],b=0;b<H.length;b+=1){var K=H[b];K.type!=="Z"&&(u.push(K.x),R.push(K.y)),K.type!=="Q"&&K.type!=="C"||(u.push(K.x1),R.push(K.y1)),K.type==="C"&&(u.push(K.x2),R.push(K.y2))}var V={xMin:Math.min.apply(null,u),yMin:Math.min.apply(null,R),xMax:Math.max.apply(null,u),yMax:Math.max.apply(null,R),leftSideBearing:this.leftSideBearing};return isFinite(V.xMin)||(V.xMin=0),isFinite(V.xMax)||(V.xMax=this.advanceWidth),isFinite(V.yMin)||(V.yMin=0),isFinite(V.yMax)||(V.yMax=0),V.rightSideBearing=this.advanceWidth-V.leftSideBearing-(V.xMax-V.xMin),V},qe.prototype.draw=function(H,u,R,b,K){this.getPath(u,R,b,K).draw(H)},qe.prototype.drawPoints=function(H,u,R,b){function K(ue,Ae,pe,Ie){var Ee=2*Math.PI;H.beginPath();for(var Se=0;Se<ue.length;Se+=1)H.moveTo(Ae+ue[Se].x*Ie,pe+ue[Se].y*Ie),H.arc(Ae+ue[Se].x*Ie,pe+ue[Se].y*Ie,2,0,Ee,!1);H.closePath(),H.fill()}u=u!==void 0?u:0,R=R!==void 0?R:0;for(var b=1/this.path.unitsPerEm*(b=b!==void 0?b:24),V=[],v=[],ie=this.path,le=0;le<ie.commands.length;le+=1){var se=ie.commands[le];se.x!==void 0&&V.push({x:se.x,y:-se.y}),se.x1!==void 0&&v.push({x:se.x1,y:-se.y1}),se.x2!==void 0&&v.push({x:se.x2,y:-se.y2})}H.fillStyle="blue",K(V,u,R,b),H.fillStyle="red",K(v,u,R,b)},qe.prototype.drawMetrics=function(H,u,R,b){u=u!==void 0?u:0,R=R!==void 0?R:0,b=1/this.path.unitsPerEm*(b=b!==void 0?b:24),H.lineWidth=1,H.strokeStyle="black",Ze.line(H,u,-1e4,u,1e4),Ze.line(H,-1e4,R,1e4,R);var K=this.xMin||0,V=this.yMin||0,v=this.xMax||0,ie=this.yMax||0,le=this.advanceWidth||0;H.strokeStyle="blue",Ze.line(H,u+K*b,-1e4,u+K*b,1e4),Ze.line(H,u+v*b,-1e4,u+v*b,1e4),Ze.line(H,-1e4,R+-V*b,1e4,R+-V*b),Ze.line(H,-1e4,R+-ie*b,1e4,R+-ie*b),H.strokeStyle="green",Ze.line(H,u+le*b,-1e4,u+le*b,1e4)},ti.prototype.get=function(H){return typeof this.glyphs[H]=="function"&&(this.glyphs[H]=this.glyphs[H]()),this.glyphs[H]},ti.prototype.push=function(H,u){this.glyphs[H]=u,this.length++};var ze={GlyphSet:ti,glyphLoader:function(H,u){return new qe({index:u,font:H})},ttfGlyphLoader:function(H,u,R,b,K,V){return function(){var v=new qe({index:u,font:H});return v.path=function(){R(v,b,K);var ie=V(H.glyphs,v);return ie.unitsPerEm=H.unitsPerEm,ie},di(v,"xMin","_xMin"),di(v,"xMax","_xMax"),di(v,"yMin","_yMin"),di(v,"yMax","_yMax"),v}},cffGlyphLoader:function(H,u,R,b){return function(){var K=new qe({index:u,font:H});return K.path=function(){var V=R(H,K,b);return V.unitsPerEm=H.unitsPerEm,V},K}}};function ri(H){return H=H.length<1240?107:H.length<33900?1131:32768,H}function Di(H,u,R){var b,K=[],V=[],v=Te.getCard16(H,u);if(v!==0){for(var ie=Te.getByte(H,u+2),le=u+(v+1)*ie+2,se=u+3,ue=0;ue<v+1;ue+=1)K.push(Te.getOffset(H,se,ie)),se+=ie;b=le+K[v]}else b=u+2;for(var Ae=0;Ae<K.length-1;Ae+=1){var pe=Te.getBytes(H,le+K[Ae],le+K[Ae+1]);R&&(pe=R(pe)),V.push(pe)}return{objects:V,startOffset:u,endOffset:b}}function ui(H,u){if(u===28)return H.parseByte()<<8|H.parseByte();if(u===29)return H.parseByte()<<24|H.parseByte()<<16|H.parseByte()<<8|H.parseByte();if(u===30){for(var R=H,b="",K=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var v=R.parseByte(),V=v>>4,v=15&v;if(V==15||(b+=K[V],v==15))break;b+=K[v]}return parseFloat(b)}if(32<=u&&u<=246)return u-139;if(247<=u&&u<=250)return 256*(u-247)+H.parseByte()+108;if(251<=u&&u<=254)return 256*-(u-251)-H.parseByte()-108;throw new Error("Invalid b0 "+u)}function Wi(H,u,R){var b=new Te.Parser(H,u=u!==void 0?u:0),K=[],V=[];for(R=R!==void 0?R:H.length;b.relativeOffset<R;){var v=b.parseByte();v<=21?(v===12&&(v=1200+b.parseByte()),K.push([v,V]),V=[]):V.push(ui(b,v))}for(var ie=K,le={},se=0;se<ie.length;se+=1){var ue=ie[se][0],Ae=ie[se][1],pe=void 0,pe=Ae.length===1?Ae[0]:Ae;if(le.hasOwnProperty(ue)&&!isNaN(le[ue]))throw new Error("Object "+le+" already has key "+ue);le[ue]=pe}return le}function Ei(H,u){return u=u<=390?ae[u]:H[u-391]}function hi(H,u,R){for(var b,K={},V=0;V<u.length;V+=1){var v=u[V];if(Array.isArray(v.type)){var ie=[];ie.length=v.type.length;for(var le=0;le<v.type.length;le++)(b=H[v.op]!==void 0?H[v.op][le]:void 0)===void 0&&(b=v.value!==void 0&&v.value[le]!==void 0?v.value[le]:null),v.type[le]==="SID"&&(b=Ei(R,b)),ie[le]=b;K[v.name]=ie}else(b=H[v.op])===void 0&&(b=v.value!==void 0?v.value:null),v.type==="SID"&&(b=Ei(R,b)),K[v.name]=b}return K}var pi=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],ci=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function qi(H,u,R,b){return hi(Wi(H,u,R),ci,b)}function gi(H,u,R,b){for(var K=[],V=0;V<R.length;V+=1){var v=new DataView(new Uint8Array(R[V]).buffer),v=(ie=b,hi(Wi(v,0,v.byteLength),pi,ie)),ie=(v._subrs=[],v._subrsBias=0,v.private[0]),le=v.private[1];ie!==0&&le!==0&&(ie=qi(H,le+u,ie,b),v._defaultWidthX=ie.defaultWidthX,v._nominalWidthX=ie.nominalWidthX,ie.subrs!==0&&(le=Di(H,le+ie.subrs+u),v._subrs=le.objects,v._subrsBias=ri(v._subrs)),v._privateDict=ie),K.push(v)}return K}function Pi(H,u,R){var b,K,V,v,ie,le,se,ue,Ae,pe=new w,Ie=[],Ee=0,Se=!1,Xe=!1,Ue=0,Me=0,ei=(Ae=(H.isCIDFont?(ie=H.tables.cff.topDict._fdSelect[u.index],ie=H.tables.cff.topDict._fdArray[ie],le=ie._subrs,se=ie._subrsBias,ue=ie._defaultWidthX,ie):(le=H.tables.cff.topDict._subrs,se=H.tables.cff.topDict._subrsBias,ue=H.tables.cff.topDict._defaultWidthX,H.tables.cff.topDict))._nominalWidthX,ue);function ni(ai,si){Xe&&pe.closePath(),pe.moveTo(ai,si),Xe=!0}function ii(){Ie.length%2==0||Se||(ei=Ie.shift()+Ae),Ee+=Ie.length>>1,Ie.length=0,Se=!0}return function ai(si){for(var fi,Xi,Ki,xi,wi,na,Li,Bi,Hi,zi,Ai,Gi,Ti=0;Ti<si.length;){var Ni=si[Ti];switch(Ti+=1,Ni){case 1:case 3:ii();break;case 4:1<Ie.length&&!Se&&(ei=Ie.shift()+Ae,Se=!0),Me+=Ie.pop(),ni(Ue,Me);break;case 5:for(;0<Ie.length;)Ue+=Ie.shift(),Me+=Ie.shift(),pe.lineTo(Ue,Me);break;case 6:for(;0<Ie.length&&(Ue+=Ie.shift(),pe.lineTo(Ue,Me),Ie.length!==0);)Me+=Ie.shift(),pe.lineTo(Ue,Me);break;case 7:for(;0<Ie.length&&(Me+=Ie.shift(),pe.lineTo(Ue,Me),Ie.length!==0);)Ue+=Ie.shift(),pe.lineTo(Ue,Me);break;case 8:for(;0<Ie.length;)b=Ue+Ie.shift(),K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Ue=V+Ie.shift(),Me=v+Ie.shift(),pe.curveTo(b,K,V,v,Ue,Me);break;case 10:wi=Ie.pop()+se,(na=le[wi])&&ai(na);break;case 11:return;case 12:switch(Ni=si[Ti],Ti+=1,Ni){case 35:b=Ue+Ie.shift(),K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Li=V+Ie.shift(),Bi=v+Ie.shift(),Hi=Li+Ie.shift(),zi=Bi+Ie.shift(),Ai=Hi+Ie.shift(),Gi=zi+Ie.shift(),Ue=Ai+Ie.shift(),Me=Gi+Ie.shift(),Ie.shift(),pe.curveTo(b,K,V,v,Li,Bi),pe.curveTo(Hi,zi,Ai,Gi,Ue,Me);break;case 34:b=Ue+Ie.shift(),K=Me,V=b+Ie.shift(),v=K+Ie.shift(),Li=V+Ie.shift(),Bi=v,Hi=Li+Ie.shift(),zi=v,Ai=Hi+Ie.shift(),Gi=Me,Ue=Ai+Ie.shift(),pe.curveTo(b,K,V,v,Li,Bi),pe.curveTo(Hi,zi,Ai,Gi,Ue,Me);break;case 36:b=Ue+Ie.shift(),K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Li=V+Ie.shift(),Bi=v,Hi=Li+Ie.shift(),zi=v,Ai=Hi+Ie.shift(),Gi=zi+Ie.shift(),Ue=Ai+Ie.shift(),pe.curveTo(b,K,V,v,Li,Bi),pe.curveTo(Hi,zi,Ai,Gi,Ue,Me);break;case 37:b=Ue+Ie.shift(),K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Li=V+Ie.shift(),Bi=v+Ie.shift(),Hi=Li+Ie.shift(),zi=Bi+Ie.shift(),Ai=Hi+Ie.shift(),Gi=zi+Ie.shift(),Math.abs(Ai-Ue)>Math.abs(Gi-Me)?Ue=Ai+Ie.shift():Me=Gi+Ie.shift(),pe.curveTo(b,K,V,v,Li,Bi),pe.curveTo(Hi,zi,Ai,Gi,Ue,Me);break;default:console.log("Glyph "+u.index+": unknown operator 1200"+Ni),Ie.length=0}break;case 14:0<Ie.length&&!Se&&(ei=Ie.shift()+Ae,Se=!0),Xe&&(pe.closePath(),Xe=!1);break;case 18:ii();break;case 19:case 20:ii(),Ti+=Ee+7>>3;break;case 21:2<Ie.length&&!Se&&(ei=Ie.shift()+Ae,Se=!0),Me+=Ie.pop(),ni(Ue+=Ie.pop(),Me);break;case 22:1<Ie.length&&!Se&&(ei=Ie.shift()+Ae,Se=!0),ni(Ue+=Ie.pop(),Me);break;case 23:ii();break;case 24:for(;2<Ie.length;)b=Ue+Ie.shift(),K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Ue=V+Ie.shift(),Me=v+Ie.shift(),pe.curveTo(b,K,V,v,Ue,Me);Ue+=Ie.shift(),Me+=Ie.shift(),pe.lineTo(Ue,Me);break;case 25:for(;6<Ie.length;)Ue+=Ie.shift(),Me+=Ie.shift(),pe.lineTo(Ue,Me);b=Ue+Ie.shift(),K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Ue=V+Ie.shift(),Me=v+Ie.shift(),pe.curveTo(b,K,V,v,Ue,Me);break;case 26:for(Ie.length%2&&(Ue+=Ie.shift());0<Ie.length;)b=Ue,K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Ue=V,Me=v+Ie.shift(),pe.curveTo(b,K,V,v,Ue,Me);break;case 27:for(Ie.length%2&&(Me+=Ie.shift());0<Ie.length;)b=Ue+Ie.shift(),K=Me,V=b+Ie.shift(),v=K+Ie.shift(),Ue=V+Ie.shift(),Me=v,pe.curveTo(b,K,V,v,Ue,Me);break;case 28:fi=si[Ti],Xi=si[Ti+1],Ie.push((fi<<24|Xi<<16)>>16),Ti+=2;break;case 29:wi=Ie.pop()+H.gsubrsBias,(na=H.gsubrs[wi])&&ai(na);break;case 30:for(;0<Ie.length&&(b=Ue,K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Ue=V+Ie.shift(),Me=v+(Ie.length===1?Ie.shift():0),pe.curveTo(b,K,V,v,Ue,Me),Ie.length!==0);)b=Ue+Ie.shift(),K=Me,V=b+Ie.shift(),v=K+Ie.shift(),Me=v+Ie.shift(),Ue=V+(Ie.length===1?Ie.shift():0),pe.curveTo(b,K,V,v,Ue,Me);break;case 31:for(;0<Ie.length&&(b=Ue+Ie.shift(),K=Me,V=b+Ie.shift(),v=K+Ie.shift(),Me=v+Ie.shift(),Ue=V+(Ie.length===1?Ie.shift():0),pe.curveTo(b,K,V,v,Ue,Me),Ie.length!==0);)b=Ue,K=Me+Ie.shift(),V=b+Ie.shift(),v=K+Ie.shift(),Ue=V+Ie.shift(),Me=v+(Ie.length===1?Ie.shift():0),pe.curveTo(b,K,V,v,Ue,Me);break;default:Ni<32?console.log("Glyph "+u.index+": unknown operator "+Ni):Ni<247?Ie.push(Ni-139):Ni<251?(fi=si[Ti],Ti+=1,Ie.push(256*(Ni-247)+fi+108)):Ni<255?(fi=si[Ti],Ti+=1,Ie.push(256*-(Ni-251)-fi-108)):(fi=si[Ti],Xi=si[Ti+1],Ki=si[Ti+2],xi=si[Ti+3],Ti+=4,Ie.push((fi<<24|Xi<<16|Ki<<8|xi)/65536))}}}(R),u.advanceWidth=ei,pe}function vi(H,u){var R,b=ae.indexOf(H);return 0<=b&&(R=b),0<=(b=u.indexOf(H))?R=b+ae.length:(R=ae.length+u.length,u.push(H)),R}function ya(H,u,R){for(var b={},K=0;K<H.length;K+=1){var V=H[K],v=u[V.name];v===void 0||function ie(le,se){if(le===se)return 1;if(Array.isArray(le)&&Array.isArray(se)&&le.length===se.length){for(var ue=0;ue<le.length;ue+=1)if(!ie(le[ue],se[ue]))return;return 1}}(v,V.value)||(V.type==="SID"&&(v=vi(v,R)),b[V.op]={name:V.name,type:V.type,value:v})}return b}function qa(H,u){var R=new be.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return R.dict=ya(pi,H,u),R}function va(H){var u=new be.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return u.topDicts=[{name:"topDict_0",type:"TABLE",value:H}],u}function ut(H){for(var u=new be.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),R=0;R<H.length;R+=1){var b=H.get(R),K=function(V){for(var v=[],ie=V.path,le=(v.push({name:"width",type:"NUMBER",value:V.advanceWidth}),0),se=0,ue=0;ue<ie.commands.length;ue+=1){var Ae,pe,Ie,Ee,Se=void 0,Xe=void 0,Ue=ie.commands[ue];(Ue=Ue.type==="Q"?{type:"C",x:Ue.x,y:Ue.y,x1:1/3*le+2/3*Ue.x1,y1:1/3*se+2/3*Ue.y1,x2:1/3*Ue.x+2/3*Ue.x1,y2:1/3*Ue.y+2/3*Ue.y1}:Ue).type==="M"?(Se=Math.round(Ue.x-le),Xe=Math.round(Ue.y-se),v.push({name:"dx",type:"NUMBER",value:Se}),v.push({name:"dy",type:"NUMBER",value:Xe}),v.push({name:"rmoveto",type:"OP",value:21}),le=Math.round(Ue.x),se=Math.round(Ue.y)):Ue.type==="L"?(Se=Math.round(Ue.x-le),Xe=Math.round(Ue.y-se),v.push({name:"dx",type:"NUMBER",value:Se}),v.push({name:"dy",type:"NUMBER",value:Xe}),v.push({name:"rlineto",type:"OP",value:5}),le=Math.round(Ue.x),se=Math.round(Ue.y)):Ue.type==="C"&&(Ae=Math.round(Ue.x1-le),pe=Math.round(Ue.y1-se),Ie=Math.round(Ue.x2-Ue.x1),Ee=Math.round(Ue.y2-Ue.y1),Se=Math.round(Ue.x-Ue.x2),Xe=Math.round(Ue.y-Ue.y2),v.push({name:"dx1",type:"NUMBER",value:Ae}),v.push({name:"dy1",type:"NUMBER",value:pe}),v.push({name:"dx2",type:"NUMBER",value:Ie}),v.push({name:"dy2",type:"NUMBER",value:Ee}),v.push({name:"dx",type:"NUMBER",value:Se}),v.push({name:"dy",type:"NUMBER",value:Xe}),v.push({name:"rrcurveto",type:"OP",value:8}),le=Math.round(Ue.x),se=Math.round(Ue.y))}return v.push({name:"endchar",type:"OP",value:14}),v}(b);u.charStrings.push({name:b.name,type:"CHARSTRING",value:K})}return u}var Ga={parse:function(H,u,R){R.tables.cff={},ie=H,b=u,(K={}).formatMajor=Te.getCard8(ie,b),K.formatMinor=Te.getCard8(ie,b+1),K.size=Te.getCard8(ie,b+2),K.offsetSize=Te.getCard8(ie,b+3),K.startOffset=b,K.endOffset=b+4;var ie=Di(H,K.endOffset,Te.bytesToString),b=Di(H,ie.endOffset),K=Di(H,b.endOffset,Te.bytesToString),ie=Di(H,K.endOffset);if(R.gsubrs=ie.objects,R.gsubrsBias=ri(R.gsubrs),(ie=gi(H,u,b.objects,K.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+ie.length);if(b=ie[0],(R.tables.cff.topDict=b)._privateDict&&(R.defaultWidthX=b._privateDict.defaultWidthX,R.nominalWidthX=b._privateDict.nominalWidthX),b.ros[0]!==void 0&&b.ros[1]!==void 0&&(R.isCIDFont=!0),R.isCIDFont){var ie=b.fdArray,V=b.fdSelect;if(ie===0||V===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");ie=gi(H,u,Di(H,ie+=u).objects,K.objects),b._fdArray=ie,b._fdSelect=function(pe,Ie,Ee,Se){var Xe,Ue=[],Me=new Te.Parser(pe,Ie);if((pe=Me.parseCard8())===0)for(var ei=0;ei<Ee;ei++){if(Se<=(Xe=Me.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Xe+" (FD count "+Se+")");Ue.push(Xe)}else{if(pe!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+pe);var ni,ii=Me.parseCard16(),ai=Me.parseCard16();if(ai!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+ai);for(var si=0;si<ii;si++){if(Xe=Me.parseCard8(),ni=Me.parseCard16(),Se<=Xe)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Xe+" (FD count "+Se+")");if(Ee<ni)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+ni);for(;ai<ni;ai++)Ue.push(Xe);ai=ni}if(ni!==Ee)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+ni)}return Ue}(H,V+=u,R.numGlyphs,ie.length)}var V=u+b.private[1],ie=qi(H,V,b.private[0],K.objects),v=(R.defaultWidthX=ie.defaultWidthX,R.nominalWidthX=ie.nominalWidthX,ie.subrs!==0?(V=Di(H,V+ie.subrs),R.subrs=V.objects,R.subrsBias=ri(R.subrs)):(R.subrs=[],R.subrsBias=0),Di(H,u+b.charStrings)),ie=(R.nGlyphs=v.objects.length,function(ue,Ae,pe,Ie){var Ee=new Te.Parser(ue,Ae),Se=(--pe,[".notdef"]);if((ue=Ee.parseCard8())===0)for(var Xe=0;Xe<pe;Xe+=1)Ue=Ee.parseSID(),Se.push(Ei(Ie,Ue));else if(ue===1)for(;Se.length<=pe;)for(var Ue=Ee.parseSID(),Me=Ee.parseCard8(),ei=0;ei<=Me;ei+=1)Se.push(Ei(Ie,Ue)),Ue+=1;else{if(ue!==2)throw new Error("Unknown charset format "+ue);for(;Se.length<=pe;){Ue=Ee.parseSID(),Me=Ee.parseCard16();for(var ni=0;ni<=Me;ni+=1)Se.push(Ei(Ie,Ue)),Ue+=1}}return Se}(H,u+b.charset,R.nGlyphs,K.objects));b.encoding===0?R.cffEncoding=new ke(x,ie):b.encoding===1?R.cffEncoding=new ke(re,ie):R.cffEncoding=function(ue,Ae,pe){var Ie={},Ee=new Te.Parser(ue,Ae);if((ue=Ee.parseCard8())===0)for(var Se=Ee.parseCard8(),Xe=0;Xe<Se;Xe+=1)Ie[Me=Ee.parseCard8()]=Xe;else{if(ue!==1)throw new Error("Unknown encoding format "+ue);for(var Ue=Ee.parseCard8(),Me=1,ei=0;ei<Ue;ei+=1)for(var ni=Ee.parseCard8(),ii=Ee.parseCard8(),ai=ni;ai<=ni+ii;ai+=1)Ie[ai]=Me,Me+=1}return new ke(Ie,pe)}(H,u+b.encoding,ie),R.encoding=R.encoding||R.cffEncoding,R.glyphs=new ze.GlyphSet(R);for(var le=0;le<R.nGlyphs;le+=1){var se=v.objects[le];R.glyphs.push(le,ze.cffGlyphLoader(R,le,Pi,se))}},make:function(H,ue){for(var R,b=new be.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),K=1/ue.unitsPerEm,K={version:ue.version,fullName:ue.fullName,familyName:ue.familyName,weight:ue.weightName,fontBBox:ue.fontBBox||[0,0,0,0],fontMatrix:[K,0,0,K,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},V=[],v=1;v<H.length;v+=1)R=H.get(v),V.push(R.name);var ie,le,se=[],ue=(b.header=new be.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),b.nameIndex=function(pe){var Ie=new be.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);Ie.names=[];for(var Ee=0;Ee<pe.length;Ee+=1)Ie.names.push({name:"name_"+Ee,type:"NAME",value:pe[Ee]});return Ie}([ue.postScriptName]),qa(K,se)),Ae=(b.topDictIndex=va(ue),b.globalSubrIndex=new be.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),b.charsets=function(pe,Ie){for(var Ee=new be.Record("Charsets",[{name:"format",type:"Card8",value:0}]),Se=0;Se<pe.length;Se+=1){var Xe=vi(pe[Se],Ie);Ee.fields.push({name:"glyph_"+Se,type:"SID",value:Xe})}return Ee}(V,se),b.charStringsIndex=ut(H),b.privateDict=(Ae={},ie=se,(le=new be.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=ya(ci,Ae,ie),le),b.stringIndex=function(pe){var Ie=new be.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);Ie.strings=[];for(var Ee=0;Ee<pe.length;Ee+=1)Ie.strings.push({name:"string_"+Ee,type:"STRING",value:pe[Ee]});return Ie}(se),b.header.sizeOf()+b.nameIndex.sizeOf()+b.topDictIndex.sizeOf()+b.stringIndex.sizeOf()+b.globalSubrIndex.sizeOf());return K.charset=Ae,K.encoding=0,K.charStrings=K.charset+b.charsets.sizeOf(),K.private[1]=K.charStrings+b.charStringsIndex.sizeOf(),ue=qa(K,se),b.topDictIndex=va(ue),b}},Oa={parse:function(b,u){var R={},b=new Te.Parser(b,u);return R.version=b.parseVersion(),R.fontRevision=Math.round(1e3*b.parseFixed())/1e3,R.checkSumAdjustment=b.parseULong(),R.magicNumber=b.parseULong(),f.argument(R.magicNumber===1594834165,"Font header has wrong magic number."),R.flags=b.parseUShort(),R.unitsPerEm=b.parseUShort(),R.created=b.parseLongDateTime(),R.modified=b.parseLongDateTime(),R.xMin=b.parseShort(),R.yMin=b.parseShort(),R.xMax=b.parseShort(),R.yMax=b.parseShort(),R.macStyle=b.parseUShort(),R.lowestRecPPEM=b.parseUShort(),R.fontDirectionHint=b.parseShort(),R.indexToLocFormat=b.parseShort(),R.glyphDataFormat=b.parseShort(),R},make:function(H){var u=Math.round(new Date().getTime()/1e3)+2082844800,R=u;return H.createdTimestamp&&(R=H.createdTimestamp+2082844800),new be.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:R},{name:"modified",type:"LONGDATETIME",value:u},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],H)}},He={parse:function(b,u){var R={},b=new Te.Parser(b,u);return R.version=b.parseVersion(),R.ascender=b.parseShort(),R.descender=b.parseShort(),R.lineGap=b.parseShort(),R.advanceWidthMax=b.parseUShort(),R.minLeftSideBearing=b.parseShort(),R.minRightSideBearing=b.parseShort(),R.xMaxExtent=b.parseShort(),R.caretSlopeRise=b.parseShort(),R.caretSlopeRun=b.parseShort(),R.caretOffset=b.parseShort(),b.relativeOffset+=8,R.metricDataFormat=b.parseShort(),R.numberOfHMetrics=b.parseUShort(),R},make:function(H){return new be.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],H)}},Ye={parse:function(H,u,R,b,K){for(var V,v,ie=new Te.Parser(H,u),le=0;le<b;le+=1){le<R&&(V=ie.parseUShort(),v=ie.parseShort());var se=K.get(le);se.advanceWidth=V,se.leftSideBearing=v}},make:function(H){for(var u=new be.Table("hmtx",[]),R=0;R<H.length;R+=1){var K=H.get(R),b=K.advanceWidth||0,K=K.leftSideBearing||0;u.fields.push({name:"advanceWidth_"+R,type:"USHORT",value:b}),u.fields.push({name:"leftSideBearing_"+R,type:"SHORT",value:K})}return u}},xe={make:function(H){for(var u=new be.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:H.length}]),R="",b=12+4*H.length,K=0;K<H.length;++K){var V=R.indexOf(H[K]);V<0&&(V=R.length,R+=H[K]),u.fields.push({name:"offset "+K,type:"USHORT",value:b+V}),u.fields.push({name:"length "+K,type:"USHORT",value:H[K].length})}return u.fields.push({name:"stringPool",type:"CHARARRAY",value:R}),u},parse:function(H,u){for(var R=new Te.Parser(H,u),b=R.parseULong(),K=(f.argument(b===1,"Unsupported ltag table version."),R.skip("uLong",1),R.parseULong()),V=[],v=0;v<K;v++){for(var ie="",le=u+R.parseUShort(),se=R.parseUShort(),ue=le;ue<le+se;++ue)ie+=String.fromCharCode(H.getInt8(ue));V.push(ie)}return V}},Ke={parse:function(b,u){var R={},b=new Te.Parser(b,u);return R.version=b.parseVersion(),R.numGlyphs=b.parseUShort(),R.version===1&&(R.maxPoints=b.parseUShort(),R.maxContours=b.parseUShort(),R.maxCompositePoints=b.parseUShort(),R.maxCompositeContours=b.parseUShort(),R.maxZones=b.parseUShort(),R.maxTwilightPoints=b.parseUShort(),R.maxStorage=b.parseUShort(),R.maxFunctionDefs=b.parseUShort(),R.maxInstructionDefs=b.parseUShort(),R.maxStackElements=b.parseUShort(),R.maxSizeOfInstructions=b.parseUShort(),R.maxComponentElements=b.parseUShort(),R.maxComponentDepth=b.parseUShort()),R},make:function(H){return new be.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:H}])}},$i=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Ce={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},oi={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},Ge={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},li="utf-16",Oe={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},ji={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function ki(H,u,R){switch(H){case 0:return li;case 1:return ji[R]||Oe[u];case 3:if(u===1||u===10)return li}}function Qi(H){var u,R={};for(u in H)R[H[u]]=parseInt(u);return R}function Zi(H,u,R,b,K,V){return new be.Record("NameRecord",[{name:"platformID",type:"USHORT",value:H},{name:"encodingID",type:"USHORT",value:u},{name:"languageID",type:"USHORT",value:R},{name:"nameID",type:"USHORT",value:b},{name:"length",type:"USHORT",value:K},{name:"offset",type:"USHORT",value:V}])}function Ia(H,u){if((R=function(V,v){var ie=V.length,le=v.length-ie+1;e:for(var se=0;se<le;se++)for(;se<le;se++){for(var ue=0;ue<ie;ue++)if(v[se+ue]!==V[ue])continue e;return se}return-1}(H,u))<0)for(var R=u.length,b=0,K=H.length;b<K;++b)u.push(H[b]);return R}var aa={parse:function(H,u,R){for(var b={},K=new Te.Parser(H,u),u=K.parseUShort(),V=K.parseUShort(),v=K.offset+K.parseUShort(),ie=0;ie<V;ie++){var Ee=K.parseUShort(),le=K.parseUShort(),se=K.parseUShort(),ue=K.parseUShort(),ue=$i[ue]||ue,Ae=K.parseUShort(),pe=K.parseUShort(),Ie=function(Xe,Ue,Me){switch(Xe){case 0:if(Ue===65535)return"und";if(Me)return Me[Ue];break;case 1:return Ce[Ue];case 3:return Ge[Ue]}}(Ee,se,R),Ee=ki(Ee,le,se);Ee!==void 0&&Ie!==void 0&&(le=void 0,(le=Ee===li?E.UTF16(H,v+pe,Ae):E.MACSTRING(H,v+pe,Ae,Ee))&&((se=(se=b[ue])===void 0?b[ue]={}:se)[Ie]=le))}return u===1&&K.parseUShort(),b},make:function(H,u){var R,b=[],K={},V=Qi($i);for(R in H){var v=V[R];if(v===void 0&&(v=R),pe=parseInt(v),isNaN(pe))throw new Error('Name table entry "'+R+'" does not exist, see nameTableNames for complete list.');K[pe]=H[R],b.push(pe)}for(var ie=Qi(Ce),le=Qi(Ge),se=[],ue=[],Ae=0;Ae<b.length;Ae++){var pe,Ie,Ee=K[pe=b[Ae]];for(Ie in Ee){var Se=Ee[Ie],ni=1,Xe=ie[Ie],Ue=oi[Xe],Me=ki(ni,Ue,Xe),Me=Z.MACSTRING(Se,Me),ei=(Me===void 0&&(ni=0,(Xe=u.indexOf(Ie))<0&&(Xe=u.length,u.push(Ie)),Ue=4,Me=Z.UTF16(Se)),Ia(Me,ue)),ni=(se.push(Zi(ni,Ue,Xe,pe,Me.length,ei)),le[Ie]);ni!==void 0&&(Xe=Ia(Ue=Z.UTF16(Se),ue),se.push(Zi(3,1,ni,pe,Ue.length,Xe)))}}se.sort(function(si,fi){return si.platformID-fi.platformID||si.encodingID-fi.encodingID||si.languageID-fi.languageID||si.nameID-fi.nameID});for(var ii=new be.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:se.length},{name:"stringOffset",type:"USHORT",value:6+12*se.length}]),ai=0;ai<se.length;ai++)ii.fields.push({name:"record_"+ai,type:"RECORD",value:se[ai]});return ii.fields.push({name:"strings",type:"LITERAL",value:ue}),ii}},ha=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Vi={parse:function(H,u){var R={},b=new Te.Parser(H,u);R.version=b.parseUShort(),R.xAvgCharWidth=b.parseShort(),R.usWeightClass=b.parseUShort(),R.usWidthClass=b.parseUShort(),R.fsType=b.parseUShort(),R.ySubscriptXSize=b.parseShort(),R.ySubscriptYSize=b.parseShort(),R.ySubscriptXOffset=b.parseShort(),R.ySubscriptYOffset=b.parseShort(),R.ySuperscriptXSize=b.parseShort(),R.ySuperscriptYSize=b.parseShort(),R.ySuperscriptXOffset=b.parseShort(),R.ySuperscriptYOffset=b.parseShort(),R.yStrikeoutSize=b.parseShort(),R.yStrikeoutPosition=b.parseShort(),R.sFamilyClass=b.parseShort(),R.panose=[];for(var K=0;K<10;K++)R.panose[K]=b.parseByte();return R.ulUnicodeRange1=b.parseULong(),R.ulUnicodeRange2=b.parseULong(),R.ulUnicodeRange3=b.parseULong(),R.ulUnicodeRange4=b.parseULong(),R.achVendID=String.fromCharCode(b.parseByte(),b.parseByte(),b.parseByte(),b.parseByte()),R.fsSelection=b.parseUShort(),R.usFirstCharIndex=b.parseUShort(),R.usLastCharIndex=b.parseUShort(),R.sTypoAscender=b.parseShort(),R.sTypoDescender=b.parseShort(),R.sTypoLineGap=b.parseShort(),R.usWinAscent=b.parseUShort(),R.usWinDescent=b.parseUShort(),1<=R.version&&(R.ulCodePageRange1=b.parseULong(),R.ulCodePageRange2=b.parseULong()),2<=R.version&&(R.sxHeight=b.parseShort(),R.sCapHeight=b.parseShort(),R.usDefaultChar=b.parseUShort(),R.usBreakChar=b.parseUShort(),R.usMaxContent=b.parseUShort()),R},make:function(H){return new be.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],H)},unicodeRanges:ha,getUnicodeRange:function(H){for(var u=0;u<ha.length;u+=1){var R=ha[u];if(H>=R.begin&&H<R.end)return u}return-1}},AD={parse:function(H,u){var R={},b=new Te.Parser(H,u);switch(R.version=b.parseVersion(),R.italicAngle=b.parseFixed(),R.underlinePosition=b.parseShort(),R.underlineThickness=b.parseShort(),R.isFixedPitch=b.parseULong(),R.minMemType42=b.parseULong(),R.maxMemType42=b.parseULong(),R.minMemType1=b.parseULong(),R.maxMemType1=b.parseULong(),R.version){case 1:R.names=Le.slice();break;case 2:R.numberOfGlyphs=b.parseUShort(),R.glyphNameIndex=new Array(R.numberOfGlyphs);for(var K=0;K<R.numberOfGlyphs;K++)R.glyphNameIndex[K]=b.parseUShort();R.names=[];for(var V,v=0;v<R.numberOfGlyphs;v++)R.glyphNameIndex[v]>=Le.length&&(V=b.parseChar(),R.names.push(b.parseString(V)));break;case 2.5:R.numberOfGlyphs=b.parseUShort(),R.offset=new Array(R.numberOfGlyphs);for(var ie=0;ie<R.numberOfGlyphs;ie++)R.offset[ie]=b.parseChar()}return R},make:function(){return new be.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},ra=new Array(9),Fa=(ra[1]=function(){var H=this.offset+this.relativeOffset,u=this.parseUShort();return u===1?{substFormat:1,coverage:this.parsePointer(fe.coverage),deltaGlyphId:this.parseUShort()}:u===2?{substFormat:2,coverage:this.parsePointer(fe.coverage),substitute:this.parseOffset16List()}:void f.assert(!1,"0x"+H.toString(16)+": lookup type 1 format must be 1 or 2.")},ra[2]=function(){var H=this.parseUShort();return f.argument(H===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:H,coverage:this.parsePointer(fe.coverage),sequences:this.parseListOfLists()}},ra[3]=function(){var H=this.parseUShort();return f.argument(H===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:H,coverage:this.parsePointer(fe.coverage),alternateSets:this.parseListOfLists()}},ra[4]=function(){var H=this.parseUShort();return f.argument(H===1,"GSUB ligature table identifier-format must be 1"),{substFormat:H,coverage:this.parsePointer(fe.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:fe.uShort,lookupListIndex:fe.uShort});ra[5]=function(){var H,u,R=this.offset+this.relativeOffset,b=this.parseUShort();return b===1?{substFormat:b,coverage:this.parsePointer(fe.coverage),ruleSets:this.parseListOfLists(function(){var K=this.parseUShort(),V=this.parseUShort();return{input:this.parseUShortList(K-1),lookupRecords:this.parseRecordList(V,Fa)}})}:b===2?{substFormat:b,coverage:this.parsePointer(fe.coverage),classDef:this.parsePointer(fe.classDef),classSets:this.parseListOfLists(function(){var K=this.parseUShort(),V=this.parseUShort();return{classes:this.parseUShortList(K-1),lookupRecords:this.parseRecordList(V,Fa)}})}:b===3?(H=this.parseUShort(),u=this.parseUShort(),{substFormat:b,coverages:this.parseList(H,fe.pointer(fe.coverage)),lookupRecords:this.parseRecordList(u,Fa)}):void f.assert(!1,"0x"+R.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},ra[6]=function(){var H=this.offset+this.relativeOffset,u=this.parseUShort();return u===1?{substFormat:1,coverage:this.parsePointer(fe.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Fa)}})}:u===2?{substFormat:2,coverage:this.parsePointer(fe.coverage),backtrackClassDef:this.parsePointer(fe.classDef),inputClassDef:this.parsePointer(fe.classDef),lookaheadClassDef:this.parsePointer(fe.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Fa)}})}:u===3?{substFormat:3,backtrackCoverage:this.parseList(fe.pointer(fe.coverage)),inputCoverage:this.parseList(fe.pointer(fe.coverage)),lookaheadCoverage:this.parseList(fe.pointer(fe.coverage)),lookupRecords:this.parseRecordList(Fa)}:void f.assert(!1,"0x"+H.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},ra[7]=function(){var H=this.parseUShort(),H=(f.argument(H===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),u=new fe(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:H,extension:ra[H].call(u)}},ra[8]=function(){var H=this.parseUShort();return f.argument(H===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:H,coverage:this.parsePointer(fe.coverage),backtrackCoverage:this.parseList(fe.pointer(fe.coverage)),lookaheadCoverage:this.parseList(fe.pointer(fe.coverage)),substitutes:this.parseUShortList()}};var ft=new Array(9);ft[1]=function(H){return H.substFormat===1?new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(H.coverage)},{name:"deltaGlyphID",type:"USHORT",value:H.deltaGlyphId}]):new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new be.Coverage(H.coverage)}].concat(be.ushortList("substitute",H.substitute)))},ft[3]=function(H){return f.assert(H.substFormat===1,"Lookup type 3 substFormat must be 1."),new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(H.coverage)}].concat(be.tableList("altSet",H.alternateSets,function(u){return new be.Table("alternateSetTable",be.ushortList("alternate",u))})))},ft[4]=function(H){return f.assert(H.substFormat===1,"Lookup type 4 substFormat must be 1."),new be.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new be.Coverage(H.coverage)}].concat(be.tableList("ligSet",H.ligatureSets,function(u){return new be.Table("ligatureSetTable",be.tableList("ligature",u,function(R){return new be.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:R.ligGlyph}].concat(be.ushortList("component",R.components,R.components.length+1)))}))})))};var UD={parse:function(H,u){return u=(H=new fe(H,u=u||0)).parseVersion(1),f.argument(u===1||u===1.1,"Unsupported GSUB table version."),u===1?{version:u,scripts:H.parseScriptList(),features:H.parseFeatureList(),lookups:H.parseLookupList(ra)}:{version:u,scripts:H.parseScriptList(),features:H.parseFeatureList(),lookups:H.parseLookupList(ra),variations:H.parseFeatureVariationsList()}},make:function(H){return new be.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new be.ScriptList(H.scripts)},{name:"features",type:"TABLE",value:new be.FeatureList(H.features)},{name:"lookups",type:"TABLE",value:new be.LookupList(H.lookups,ft)}])}},MD={parse:function(H,u){for(var R=new Te.Parser(H,u),b=R.parseULong(),K=(f.argument(b===1,"Unsupported META table version."),R.parseULong(),R.parseULong(),R.parseULong()),V={},v=0;v<K;v++){var ie=R.parseTag(),se=R.parseULong(),le=R.parseULong(),se=E.UTF8(H,u+se,le);V[ie]=se}return V},make:function(H){var u,R=Object.keys(H).length,b="",K=16+12*R,V=new be.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:K},{name:"numTags",type:"ULONG",value:R}]);for(u in H){var v=b.length;b+=H[u],V.fields.push({name:"tag "+u,type:"TAG",value:u}),V.fields.push({name:"offset "+u,type:"ULONG",value:K+v}),V.fields.push({name:"length "+u,type:"ULONG",value:H[u].length})}return V.fields.push({name:"stringPool",type:"CHARARRAY",value:b}),V}};function bD(H){return Math.log(H)/Math.log(2)|0}function qt(H){for(;H.length%4!=0;)H.push(0);for(var u=0,R=0;R<H.length;R+=4)u+=(H[R]<<24)+(H[R+1]<<16)+(H[R+2]<<8)+H[R+3];return u%=Math.pow(2,32)}function SD(H,u,R,b){return new be.Record("Table Record",[{name:"tag",type:"TAG",value:H!==void 0?H:""},{name:"checkSum",type:"ULONG",value:u!==void 0?u:0},{name:"offset",type:"ULONG",value:R!==void 0?R:0},{name:"length",type:"ULONG",value:b!==void 0?b:0}])}function QD(H){for(var u=new be.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),R=(u.tables=H,u.numTables=H.length,Math.pow(2,bD(u.numTables))),b=(u.searchRange=16*R,u.entrySelector=bD(R),u.rangeShift=16*u.numTables-u.searchRange,[]),K=[],V=u.sizeOf()+SD().sizeOf()*u.numTables;V%4!=0;)V+=1,K.push({name:"padding",type:"BYTE",value:0});for(var v=0;v<H.length;v+=1){var ie=H[v],le=(f.argument(ie.tableName.length===4,"Table name"+ie.tableName+" is invalid."),ie.sizeOf()),se=SD(ie.tableName,qt(ie.encode()),V,le);for(b.push({name:se.tag+" Table Record",type:"RECORD",value:se}),K.push({name:ie.tableName+" table",type:"RECORD",value:ie}),V+=le,f.argument(!isNaN(V),"Something went wrong calculating the offset.");V%4!=0;)V+=1,K.push({name:"padding",type:"BYTE",value:0})}return b.sort(function(ue,Ae){return ue.value.tag>Ae.value.tag?1:-1}),u.fields=u.fields.concat(b),u.fields=u.fields.concat(K),u}function XD(H,u,R){for(var b=0;b<u.length;b+=1){var K=H.charToGlyphIndex(u[b]);if(0<K)return H.glyphs.get(K).getMetrics()}return R}var Rd={make:QD,fontToTable:function(H){for(var u,R=[],b=[],K=[],V=[],v=[],ie=[],le=[],se=0,ue=0,Ae=0,pe=0,Ie=0,Ee=0;Ee<H.glyphs.length;Ee+=1){var Se=H.glyphs.get(Ee),Xe=0|Se.unicode;if(isNaN(Se.advanceWidth))throw new Error("Glyph "+Se.name+" ("+Ee+"): advanceWidth is not a number.");(Xe<u||u===void 0)&&0<Xe&&(u=Xe),se<Xe&&(se=Xe);var Xe=Vi.getUnicodeRange(Xe);if(Xe<32)ue|=1<<Xe;else if(Xe<64)Ae|=1<<Xe-32;else if(Xe<96)pe|=1<<Xe-64;else{if(!(Xe<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");Ie|=1<<Xe-96}Se.name!==".notdef"&&(Xe=Se.getMetrics(),R.push(Xe.xMin),b.push(Xe.yMin),K.push(Xe.xMax),V.push(Xe.yMax),ie.push(Xe.leftSideBearing),le.push(Xe.rightSideBearing),v.push(Se.advanceWidth))}var Ue,Me={xMin:Math.min.apply(null,R),yMin:Math.min.apply(null,b),xMax:Math.max.apply(null,K),yMax:Math.max.apply(null,V),advanceWidthMax:Math.max.apply(null,v),advanceWidthAvg:function(Ni){for(var za=0,Ka=0;Ka<Ni.length;Ka+=1)za+=Ni[Ka];return za/Ni.length}(v),minLeftSideBearing:Math.min.apply(null,ie),maxLeftSideBearing:Math.max.apply(null,ie),minRightSideBearing:Math.min.apply(null,le)},ei=(Me.ascender=H.ascender,Me.descender=H.descender,Oa.make({flags:3,unitsPerEm:H.unitsPerEm,xMin:Me.xMin,yMin:Me.yMin,xMax:Me.xMax,yMax:Me.yMax,lowestRecPPEM:3,createdTimestamp:H.createdTimestamp})),ni=He.make({ascender:Me.ascender,descender:Me.descender,advanceWidthMax:Me.advanceWidthMax,minLeftSideBearing:Me.minLeftSideBearing,minRightSideBearing:Me.minRightSideBearing,xMaxExtent:Me.maxLeftSideBearing+(Me.xMax-Me.xMin),numberOfHMetrics:H.glyphs.length}),ii=Ke.make(H.glyphs.length),ai=Vi.make({xAvgCharWidth:Math.round(Me.advanceWidthAvg),usWeightClass:H.tables.os2.usWeightClass,usWidthClass:H.tables.os2.usWidthClass,usFirstCharIndex:u,usLastCharIndex:se,ulUnicodeRange1:ue,ulUnicodeRange2:Ae,ulUnicodeRange3:pe,ulUnicodeRange4:Ie,fsSelection:H.tables.os2.fsSelection,sTypoAscender:Me.ascender,sTypoDescender:Me.descender,sTypoLineGap:0,usWinAscent:Me.yMax,usWinDescent:Math.abs(Me.yMin),ulCodePageRange1:1,sxHeight:XD(H,"xyvw",{yMax:Math.round(Me.ascender/2)}).yMax,sCapHeight:XD(H,"HIKLEFJMNTZBDPRAGOQSUVWXY",Me).yMax,usDefaultChar:H.hasChar(" ")?32:0,usBreakChar:H.hasChar(" ")?32:0}),si=Ye.make(H.glyphs),fi=_.make(H.glyphs),Bi=H.getEnglishName("fontFamily"),Hi=H.getEnglishName("fontSubfamily"),Li=Bi+" "+Hi,Xi=(Xi=H.getEnglishName("postScriptName"))||Bi.replace(/\s/g,"")+"-"+Hi,Ki={};for(Ue in H.names)Ki[Ue]=H.names[Ue];Ki.uniqueID||(Ki.uniqueID={en:H.getEnglishName("manufacturer")+":"+Li}),Ki.postScriptName||(Ki.postScriptName={en:Xi}),Ki.preferredFamily||(Ki.preferredFamily=H.names.fontFamily),Ki.preferredSubfamily||(Ki.preferredSubfamily=H.names.fontSubfamily);var wi=[],xi=aa.make(Ki,wi),wi=0<wi.length?xe.make(wi):void 0,na=AD.make(),Li=Ga.make(H.glyphs,{version:H.getEnglishName("version"),fullName:Li,familyName:Bi,weightName:Hi,postScriptName:Xi,unitsPerEm:H.unitsPerEm,fontBBox:[0,Me.yMin,Me.ascender,Me.advanceWidthMax]}),Bi=H.metas&&0<Object.keys(H.metas).length?MD.make(H.metas):void 0,Hi=[ei,ni,ii,ai,xi,fi,na,Li,si];wi&&Hi.push(wi),H.tables.gsub&&Hi.push(UD.make(H.tables.gsub)),Bi&&Hi.push(Bi);for(var zi=qt((Xi=QD(Hi)).encode()),Ai=Xi.fields,Gi=!1,Ti=0;Ti<Ai.length;Ti+=1)if(Ai[Ti].name==="head table"){Ai[Ti].value.checkSumAdjustment=2981146554-zi,Gi=!0;break}if(Gi)return Xi;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:qt};function vt(H,u){for(var R=0,b=H.length-1;R<=b;){var K=R+b>>>1,V=H[K].tag;if(V===u)return K;V<u?R=1+K:b=K-1}return-R-1}function jD(H,u){for(var R=0,b=H.length-1;R<=b;){var K=R+b>>>1,V=H[K];if(V===u)return K;V<u?R=1+K:b=K-1}return-R-1}function FD(H,u){for(var R=0,b=H.length-1;R<=b;){var K,V=R+b>>>1,v=(K=H[V]).start;if(v===u)return K;v<u?R=1+V:b=V-1}if(0<R)return u>(K=H[R-1]).end?0:K}function Jt(H,u){this.font=H,this.tableName=u}function pt(H){Jt.call(this,H,"gpos")}function Ha(H){Jt.call(this,H,"gsub")}function ED(H,u,R){for(var b=H.subtables,K=0;K<b.length;K++){var V=b[K];if(V.substFormat===u)return V}if(R)return b.push(R),R}function CD(H){for(var u=new ArrayBuffer(H.length),R=new Uint8Array(u),b=0;b<H.length;++b)R[b]=H[b];return u}function Ea(H,u){if(!H)throw u}function KD(H,u,R,b,K){var V=0<(u&b)?(V=H.parseByte(),R+(V=u&K?V:-V)):0<(u&K)?R:R+H.parseShort();return V}function Ad(H,u,R){var b,K=new Te.Parser(u,R);if(H.numberOfContours=K.parseShort(),H._xMin=K.parseShort(),H._yMin=K.parseShort(),H._xMax=K.parseShort(),H._yMax=K.parseShort(),0<H.numberOfContours){for(var V=H.endPointIndices=[],v=0;v<H.numberOfContours;v+=1)V.push(K.parseUShort());H.instructionLength=K.parseUShort(),H.instructions=[];for(var ie=0;ie<H.instructionLength;ie+=1)H.instructions.push(K.parseByte());for(var le=V[V.length-1]+1,se=[],ue=0;ue<le;ue+=1)if(b=K.parseByte(),se.push(b),0<(8&b))for(var Ae=K.parseByte(),pe=0;pe<Ae;pe+=1)se.push(b),ue+=1;if(f.argument(se.length===le,"Bad flags."),0<V.length){var Ie,Ee=[];if(0<le){for(var Se=0;Se<le;Se+=1)b=se[Se],(Ie={}).onCurve=!!(1&b),Ie.lastPointOfContour=0<=V.indexOf(Se),Ee.push(Ie);for(var Xe=0,Ue=0;Ue<le;Ue+=1)b=se[Ue],(Ie=Ee[Ue]).x=KD(K,b,Xe,2,16),Xe=Ie.x;for(var Me=0,ei=0;ei<le;ei+=1)b=se[ei],(Ie=Ee[ei]).y=KD(K,b,Me,4,32),Me=Ie.y}H.points=Ee}else H.points=[]}else if(H.numberOfContours===0)H.points=[];else{H.isComposite=!0,H.points=[],H.components=[];for(var ni=!0;ni;){se=K.parseUShort();var ii={glyphIndex:K.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&se)?0<(2&se)?(ii.dx=K.parseShort(),ii.dy=K.parseShort()):ii.matchedPoints=[K.parseUShort(),K.parseUShort()]:0<(2&se)?(ii.dx=K.parseChar(),ii.dy=K.parseChar()):ii.matchedPoints=[K.parseByte(),K.parseByte()],0<(8&se)?ii.xScale=ii.yScale=K.parseF2Dot14():0<(64&se)?(ii.xScale=K.parseF2Dot14(),ii.yScale=K.parseF2Dot14()):0<(128&se)&&(ii.xScale=K.parseF2Dot14(),ii.scale01=K.parseF2Dot14(),ii.scale10=K.parseF2Dot14(),ii.yScale=K.parseF2Dot14()),H.components.push(ii),ni=!!(32&se)}if(256&se){H.instructionLength=K.parseUShort(),H.instructions=[];for(var ai=0;ai<H.instructionLength;ai+=1)H.instructions.push(K.parseByte())}}}function Gt(H,u){for(var R=[],b=0;b<H.length;b+=1){var K=H[b],K={x:u.xScale*K.x+u.scale01*K.y+u.dx,y:u.scale10*K.x+u.yScale*K.y+u.dy,onCurve:K.onCurve,lastPointOfContour:K.lastPointOfContour};R.push(K)}return R}function kD(H){var u=new w;if(H)for(var R=function(Ae){for(var pe=[],Ie=[],Ee=0;Ee<Ae.length;Ee+=1){var Se=Ae[Ee];Ie.push(Se),Se.lastPointOfContour&&(pe.push(Ie),Ie=[])}return f.argument(Ie.length===0,"There are still points left in the current contour."),pe}(H),b=0;b<R.length;++b){var K,V=R[b],v=V[V.length-1],ie=V[0];v.onCurve?u.moveTo(v.x,v.y):ie.onCurve?u.moveTo(ie.x,ie.y):(K={x:.5*(v.x+ie.x),y:.5*(v.y+ie.y)},u.moveTo(K.x,K.y));for(var le=0;le<V.length;++le){var se,ue=v,v=ie,ie=V[(le+1)%V.length];v.onCurve?u.lineTo(v.x,v.y):(se=ie,ue.onCurve||(v.x,ue.x,v.y,ue.y),ie.onCurve||(se={x:.5*(v.x+ie.x),y:.5*(v.y+ie.y)}),u.quadraticCurveTo(v.x,v.y,se.x,se.y))}u.closePath()}return u}function Ud(H,u){if(u.isComposite)for(var R=0;R<u.components.length;R+=1){var b=u.components[R],K=H.get(b.glyphIndex);if(K.getPath(),K.points){var V=void 0;if(b.matchedPoints===void 0)V=Gt(K.points,b);else{if(b.matchedPoints[0]>u.points.length-1||b.matchedPoints[1]>K.points.length-1)throw Error("Matched points out of range in "+u.name);var v=u.points[b.matchedPoints[0]],ie=K.points[b.matchedPoints[1]],b={xScale:b.xScale,scale01:b.scale01,scale10:b.scale10,yScale:b.yScale,dx:0,dy:0},ie=Gt([ie],b)[0];b.dx=v.x-ie.x,b.dy=v.y-ie.y,V=Gt(K.points,b)}u.points=u.points.concat(V)}}return kD(u.points)}(pt.prototype=Jt.prototype={searchTag:vt,binSearch:jD,getTable:function(H){var u=this.font.tables[this.tableName];return u=!u&&H?this.font.tables[this.tableName]=this.createDefaultTable():u},getScriptNames:function(){var H=this.getTable();return H?H.scripts.map(function(u){return u.tag}):[]},getDefaultScriptName:function(){var H=this.getTable();if(H){for(var u=!1,R=0;R<H.scripts.length;R++){var b=H.scripts[R].tag;if(b==="DFLT")return b;b==="latn"&&(u=!0)}return u?"latn":void 0}},getScriptTable:function(H,u){var R,b=this.getTable(u);if(b)return R=b.scripts,0<=(b=vt(b.scripts,H=H||"DFLT"))?R[b].script:u?(R.splice(-1-b,0,u={tag:H,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),u.script):void 0},getLangSysTable:function(K,u,R){var b,K=this.getScriptTable(K,R);if(K)return u&&u!=="dflt"&&u!=="DFLT"?0<=(b=vt(K.langSysRecords,u))?K.langSysRecords[b].langSys:R?(K.langSysRecords.splice(-1-b,0,R={tag:u,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),R.langSys):void 0:K.defaultLangSys},getFeatureTable:function(H,u,R,b){if(H=this.getLangSysTable(H,u,b),H){for(var K,V=H.featureIndexes,v=this.font.tables[this.tableName].features,ie=0;ie<V.length;ie++)if((K=v[V[ie]]).tag===R)return K.feature;if(b)return u=v.length,f.assert(u===0||R>=v[u-1].tag,"Features must be added in alphabetical order."),v.push(K={tag:R,feature:{params:0,lookupListIndexes:[]}}),V.push(u),K.feature}},getLookupTables:function(V,u,R,b,K){var V=this.getFeatureTable(V,u,R,K),v=[];if(V){for(var ie,le=V.lookupListIndexes,se=this.font.tables[this.tableName].lookups,ue=0;ue<le.length;ue++)(ie=se[le[ue]]).lookupType===b&&v.push(ie);if(v.length===0&&K)return u=se.length,se.push(ie={lookupType:b,lookupFlag:0,subtables:[],markFilteringSet:void 0}),le.push(u),[ie]}return v},getGlyphClass:function(H,u){switch(H.format){case 1:return H.startGlyph<=u&&u<H.startGlyph+H.classes.length?H.classes[u-H.startGlyph]:0;case 2:var R=FD(H.ranges,u);return R?R.classId:0}},getCoverageIndex:function(H,u){switch(H.format){case 1:var R=jD(H.glyphs,u);return 0<=R?R:-1;case 2:return R=FD(H.ranges,u),R?R.index+u-R.start:-1}},expandCoverage:function(H){if(H.format===1)return H.glyphs;for(var u=[],R=H.ranges,b=0;b<R.length;b++)for(var K=R[b],V=K.start,v=K.end,ie=V;ie<=v;ie++)u.push(ie);return u}}).init=function(){var H=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(H)},pt.prototype.getKerningValue=function(H,u,R){for(var b=0;b<H.length;b++)for(var K=H[b].subtables,V=0;V<K.length;V++){var v=K[V],ie=this.getCoverageIndex(v.coverage,u);if(!(ie<0))switch(v.posFormat){case 1:for(var le=v.pairSets[ie],se=0;se<le.length;se++){var ue=le[se];if(ue.secondGlyph===R)return ue.value1&&ue.value1.xAdvance||0}break;case 2:var pe=this.getGlyphClass(v.classDef1,u),Ae=this.getGlyphClass(v.classDef2,R),pe=v.classRecords[pe][Ae];return pe.value1&&pe.value1.xAdvance||0}}return 0},pt.prototype.getKerningTables=function(H,u){if(this.font.tables.gpos)return this.getLookupTables(H,u,"kern",2)},(Ha.prototype=Jt.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},Ha.prototype.getSingle=function(H,u,R){for(var b=[],K=this.getLookupTables(u,R,H,1),V=0;V<K.length;V++)for(var v=K[V].subtables,ie=0;ie<v.length;ie++){var le=v[ie],se=this.expandCoverage(le.coverage),ue=void 0;if(le.substFormat===1)for(var Ae=le.deltaGlyphId,ue=0;ue<se.length;ue++){var pe=se[ue];b.push({sub:pe,by:pe+Ae})}else{var Ie=le.substitute;for(ue=0;ue<se.length;ue++)b.push({sub:se[ue],by:Ie[ue]})}}return b},Ha.prototype.getAlternates=function(H,u,R){for(var b=[],K=this.getLookupTables(u,R,H,3),V=0;V<K.length;V++)for(var v=K[V].subtables,ie=0;ie<v.length;ie++)for(var le=v[ie],se=this.expandCoverage(le.coverage),ue=le.alternateSets,Ae=0;Ae<se.length;Ae++)b.push({sub:se[Ae],by:ue[Ae]});return b},Ha.prototype.getLigatures=function(H,u,R){for(var b=[],K=this.getLookupTables(u,R,H,4),V=0;V<K.length;V++)for(var v=K[V].subtables,ie=0;ie<v.length;ie++)for(var le=v[ie],se=this.expandCoverage(le.coverage),ue=le.ligatureSets,Ae=0;Ae<se.length;Ae++)for(var pe=se[Ae],Ie=ue[Ae],Ee=0;Ee<Ie.length;Ee++){var Se=Ie[Ee];b.push({sub:[pe].concat(Se.components),by:Se.ligGlyph})}return b},Ha.prototype.addSingle=function(H,u,R,b){R=ED(this.getLookupTables(R,b,H,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),f.assert(R.coverage.format===1,"Ligature: unable to modify coverage table format "+R.coverage.format),b=u.sub,H=this.binSearch(R.coverage.glyphs,b),H<0&&(R.coverage.glyphs.splice(H=-1-H,0,b),R.substitute.splice(H,0,0)),R.substitute[H]=u.by},Ha.prototype.addAlternate=function(H,u,R,b){R=ED(this.getLookupTables(R,b,H,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),f.assert(R.coverage.format===1,"Ligature: unable to modify coverage table format "+R.coverage.format),b=u.sub,H=this.binSearch(R.coverage.glyphs,b),H<0&&(R.coverage.glyphs.splice(H=-1-H,0,b),R.alternateSets.splice(H,0,0)),R.alternateSets[H]=u.by},Ha.prototype.addLigature=function(V,le,ie,K){var ie=this.getLookupTables(ie,K,V,4,!0)[0],K=ie.subtables[0],V=(K||(ie.subtables[0]=K={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),f.assert(K.coverage.format===1,"Ligature: unable to modify coverage table format "+K.coverage.format),le.sub[0]),v=le.sub.slice(1),ie={ligGlyph:le.by,components:v},le=this.binSearch(K.coverage.glyphs,V);if(0<=le){for(var se=K.ligatureSets[le],ue=0;ue<se.length;ue++)if(function(Ae,pe){var Ie=Ae.length;if(Ie===pe.length){for(var Ee=0;Ee<Ie;Ee++)if(Ae[Ee]!==pe[Ee])return;return 1}}(se[ue].components,v))return;se.push(ie)}else K.coverage.glyphs.splice(le=-1-le,0,V),K.ligatureSets.splice(le,0,[ie])},Ha.prototype.getFeature=function(H,u,R){if(/ss\d\d/.test(H))return this.getSingle(H,u,R);switch(H){case"aalt":case"salt":return this.getSingle(H,u,R).concat(this.getAlternates(H,u,R));case"dlig":case"liga":case"rlig":return this.getLigatures(H,u,R)}},Ha.prototype.add=function(H,u,R,b){if(/ss\d\d/.test(H))return this.addSingle(H,u,R,b);switch(H){case"aalt":case"salt":return typeof u.by=="number"?this.addSingle(H,u,R,b):this.addAlternate(H,u,R,b);case"dlig":case"liga":case"rlig":return this.addLigature(H,u,R,b)}};var YD={getPath:kD,parse:function(H,u,R,b){for(var K=new ze.GlyphSet(b),V=0;V<R.length-1;V+=1){var v=R[V];v!==R[V+1]?K.push(V,ze.ttfGlyphLoader(b,V,Ad,H,u+v,Ud)):K.push(V,ze.glyphLoader(b,V))}return K}};function gD(H){this.font=H,this.getCommands=function(u){return YD.getPath(u).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function Md(H){return H}function ZD(H){return Math.sign(H)*Math.round(Math.abs(H))}function bd(H){return Math.sign(H)*Math.round(Math.abs(2*H))/2}function Sd(H){return Math.sign(H)*(Math.round(Math.abs(H)+.5)-.5)}function Qd(H){return Math.sign(H)*Math.ceil(Math.abs(H))}function Xd(H){return Math.sign(H)*Math.floor(Math.abs(H))}function VD(H){var u=this.srPeriod,R=this.srPhase,b=1;return H<0&&(H=-H,b=-1),H+=this.srThreshold-R,H=Math.trunc(H/u)*u,(H+=R)<0?R*b:H*b}var Pa={x:1,y:0,axis:"x",distance:function(H,u,R,b){return(R?H.xo:H.x)-(b?u.xo:u.x)},interpolate:function(H,u,R,b){var K,V,v,ie,le,se,ue;if(!b||b===this)return K=H.xo-u.xo,V=H.xo-R.xo,le=u.x-u.xo,se=R.x-R.xo,(ue=(v=Math.abs(K))+(ie=Math.abs(V)))===0?void(H.x=H.xo+(le+se)/2):void(H.x=H.xo+(le*ie+se*v)/ue);K=b.distance(H,u,!0,!0),V=b.distance(H,R,!0,!0),le=b.distance(u,u,!1,!0),se=b.distance(R,R,!1,!0),(ue=(v=Math.abs(K))+(ie=Math.abs(V)))===0?Pa.setRelative(H,H,(le+se)/2,b,!0):Pa.setRelative(H,H,(le*ie+se*v)/ue,b,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(H,u,R,b,K){var V,v;b&&b!==this?(V=K?u.xo:u.x,v=K?u.yo:u.y,V+=R*b.x,v+=R*b.y,H.x=V+(H.y-v)/b.normalSlope):H.x=(K?u.xo:u.x)+R},slope:0,touch:function(H){H.xTouched=!0},touched:function(H){return H.xTouched},untouch:function(H){H.xTouched=!1}},fa={x:0,y:1,axis:"y",distance:function(H,u,R,b){return(R?H.yo:H.y)-(b?u.yo:u.y)},interpolate:function(H,u,R,b){var K,V,v,ie,le,se,ue;if(!b||b===this)return K=H.yo-u.yo,V=H.yo-R.yo,le=u.y-u.yo,se=R.y-R.yo,(ue=(v=Math.abs(K))+(ie=Math.abs(V)))===0?void(H.y=H.yo+(le+se)/2):void(H.y=H.yo+(le*ie+se*v)/ue);K=b.distance(H,u,!0,!0),V=b.distance(H,R,!0,!0),le=b.distance(u,u,!1,!0),se=b.distance(R,R,!1,!0),(ue=(v=Math.abs(K))+(ie=Math.abs(V)))===0?fa.setRelative(H,H,(le+se)/2,b,!0):fa.setRelative(H,H,(le*ie+se*v)/ue,b,!0)},normalSlope:0,setRelative:function(H,u,R,b,K){var V,v;b&&b!==this?(V=K?u.xo:u.x,v=K?u.yo:u.y,V+=R*b.x,v+=R*b.y,H.y=v+b.normalSlope*(H.x-V)):H.y=(K?u.yo:u.y)+R},slope:Number.POSITIVE_INFINITY,touch:function(H){H.yTouched=!0},touched:function(H){return H.yTouched},untouch:function(H){H.yTouched=!1}};function Wa(H,u){this.x=H,this.y=u,this.axis=void 0,this.slope=u/H,this.normalSlope=-H/u,Object.freeze(this)}function xa(H,u){var R=Math.sqrt(H*H+u*u);return u/=R,(H/=R)===1&&u===0?Pa:H===0&&u===1?fa:new Wa(H,u)}function Ja(H,u,R,b){this.x=this.xo=Math.round(64*H)/64,this.y=this.yo=Math.round(64*u)/64,this.lastPointOfContour=R,this.onCurve=b,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(Pa),Object.freeze(fa),Wa.prototype.distance=function(H,u,R,b){return this.x*Pa.distance(H,u,R,b)+this.y*fa.distance(H,u,R,b)},Wa.prototype.interpolate=function(H,K,V,b){var v=b.distance(H,K,!0,!0),ie=b.distance(H,V,!0,!0),K=b.distance(K,K,!1,!0),V=b.distance(V,V,!1,!0),v=Math.abs(v),ie=Math.abs(ie),le=v+ie;le===0?this.setRelative(H,H,(K+V)/2,b,!0):this.setRelative(H,H,(K*ie+V*v)/le,b,!0)},Wa.prototype.setRelative=function(H,V,le,se,ie){var v=ie?V.xo:V.x,ie=ie?V.yo:V.y,V=v+le*(se=se||this).x,v=ie+le*se.y,ie=se.normalSlope,le=this.slope,se=H.x,ue=H.y;H.x=(le*se-ie*V+v-ue)/(le-ie),H.y=le*(H.x-se)+ue},Wa.prototype.touch=function(H){H.xTouched=!0,H.yTouched=!0},Ja.prototype.nextTouched=function(H){for(var u=this.nextPointOnContour;!H.touched(u)&&u!==this;)u=u.nextPointOnContour;return u},Ja.prototype.prevTouched=function(H){for(var u=this.prevPointOnContour;!H.touched(u)&&u!==this;)u=u.prevPointOnContour;return u};var wa=Object.freeze(new Ja(0,0)),jd={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Ra(H,u){switch(this.env=H,this.stack=[],this.prog=u,H){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=Pa,this.round=ZD}}function Bt(H){for(var u=H.tZone=new Array(H.gZone.length),R=0;R<u.length;R++)u[R]=new Ja(0,0)}function ND(H,u){var R,b=H.prog,K=H.ip,V=1;do if((R=b[++K])===88)V++;else if(R===89)V--;else if(R===64)K+=b[K+1]+1;else if(R===65)K+=2*b[K+1]+1;else if(176<=R&&R<=183)K+=R-176+1;else if(184<=R&&R<=191)K+=2*(R-184+1);else if(u&&V===1&&R===27)break;while(0<V);H.ip=K}function yD(H,u){c.DEBUG&&console.log(u.step,"SVTCA["+H.axis+"]"),u.fv=u.pv=u.dpv=H}function qD(H,u){c.DEBUG&&console.log(u.step,"SPVTCA["+H.axis+"]"),u.pv=u.dpv=H}function vD(H,u){c.DEBUG&&console.log(u.step,"SFVTCA["+H.axis+"]"),u.fv=H}function GD(H,u){var R,K=u.stack,b=K.pop(),K=K.pop(),V=u.z2[b],v=u.z1[K];c.DEBUG&&console.log("SPVTL["+H+"]",b,K),b=H?(R=V.y-v.y,v.x-V.x):(R=v.x-V.x,v.y-V.y),u.pv=u.dpv=xa(R,b)}function OD(H,u){var R,K=u.stack,b=K.pop(),K=K.pop(),V=u.z2[b],v=u.z1[K];c.DEBUG&&console.log("SFVTL["+H+"]",b,K),b=H?(R=V.y-v.y,v.x-V.x):(R=v.x-V.x,v.y-V.y),u.fv=xa(R,b)}function Ot(H){c.DEBUG&&console.log(H.step,"POP[]"),H.stack.pop()}function WD(H,u){var R=u.stack.pop(),b=u.z0[R],K=u.fv,V=u.pv,v=(c.DEBUG&&console.log(u.step,"MDAP["+H+"]",R),V.distance(b,wa));H&&(v=u.round(v)),K.setRelative(b,wa,v,V),K.touch(b),u.rp0=u.rp1=R}function xD(H,u){var R,b,K,V=u.z2,v=V.length-2;c.DEBUG&&console.log(u.step,"IUP["+H.axis+"]");for(var ie=0;ie<v;ie++)R=V[ie],H.touched(R)||(b=R.prevTouched(H))!==R&&(b===(K=R.nextTouched(H))&&H.setRelative(R,R,H.distance(b,b,!1,!0),H,!0),H.interpolate(R,b,K,H))}function wD(H,u){for(var R=u.stack,b=H?u.rp1:u.rp2,K=(H?u.z0:u.z1)[b],V=u.fv,v=u.pv,ie=u.loop,le=u.z2;ie--;){var se=R.pop(),ue=le[se],Ae=v.distance(K,K,!1,!0);V.setRelative(ue,ue,Ae,v),V.touch(ue),c.DEBUG&&console.log(u.step,(1<u.loop?"loop "+(u.loop-ie)+": ":"")+"SHP["+(H?"rp1":"rp2")+"]",se)}u.loop=1}function zD(H,u){for(var R=u.stack,v=H?u.rp1:u.rp2,b=(H?u.z0:u.z1)[v],K=u.fv,V=u.pv,v=R.pop(),ie=u.z2[u.contours[v]],le=ie,se=(c.DEBUG&&console.log(u.step,"SHC["+H+"]",v),V.distance(b,b,!1,!0));le!==b&&K.setRelative(le,le,se,V),(le=le.nextPointOnContour)!==ie;);}function _D(H,u){var R,b,ie=u.stack,K=H?u.rp1:u.rp2,K=(H?u.z0:u.z1)[K],V=u.fv,v=u.pv,ie=ie.pop();switch(c.DEBUG&&console.log(u.step,"SHZ["+H+"]",ie),ie){case 0:R=u.tZone;break;case 1:R=u.gZone;break;default:throw new Error("Invalid zone")}for(var le=v.distance(K,K,!1,!0),se=R.length-2,ue=0;ue<se;ue++)b=R[ue],V.setRelative(b,b,le,v)}function er(H,u){var b=u.stack,R=b.pop()/64,b=b.pop(),K=u.z1[b],V=u.z0[u.rp0],v=u.fv,ie=u.pv;v.setRelative(K,V,R,ie),v.touch(K),c.DEBUG&&console.log(u.step,"MSIRP["+H+"]",R,b),u.rp1=u.rp0,u.rp2=b,H&&(u.rp0=b)}function ir(H,u){var R=u.stack,ie=R.pop(),R=R.pop(),b=u.z0[R],K=u.fv,V=u.pv,v=u.cvt[ie],ie=(c.DEBUG&&console.log(u.step,"MIAP["+H+"]",ie,"(",v,")",R),V.distance(b,wa));H&&(Math.abs(ie-v)<u.cvCutIn&&(ie=v),ie=u.round(ie)),K.setRelative(b,wa,ie,V),u.zp0===0&&(b.xo=b.x,b.yo=b.y),K.touch(b),u.rp0=u.rp1=R}function ar(H,u){var R=u.stack,b=R.pop(),K=u.z2[b];c.DEBUG&&console.log(u.step,"GC["+H+"]",b),R.push(64*u.dpv.distance(K,wa,H,!1))}function tr(H,u){var b=u.stack,R=b.pop(),b=b.pop(),K=u.z1[R],V=u.z0[b],V=u.dpv.distance(V,K,H,H);c.DEBUG&&console.log(u.step,"MD["+H+"]",R,b,"->",V),u.stack.push(Math.round(64*V))}function Wt(H,u){var R=u.stack,b=R.pop(),K=u.fv,V=u.pv,v=u.ppem,ie=u.deltaBase+16*(H-1),le=u.deltaShift,se=u.z0;c.DEBUG&&console.log(u.step,"DELTAP["+H+"]",b,R);for(var ue=0;ue<b;ue++){var Ae=R.pop(),pe=R.pop();ie+((240&pe)>>4)===v&&(0<=(pe=(15&pe)-8)&&pe++,c.DEBUG&&console.log(u.step,"DELTAPFIX",Ae,"by",pe*le),Ae=se[Ae],K.setRelative(Ae,Ae,pe*le,V))}}function Tt(H,u){var R=u.stack,b=R.pop();c.DEBUG&&console.log(u.step,"ROUND[]"),R.push(64*u.round(b/64))}function xt(H,u){var R=u.stack,b=R.pop(),K=u.ppem,V=u.deltaBase+16*(H-1),v=u.deltaShift;c.DEBUG&&console.log(u.step,"DELTAC["+H+"]",b,R);for(var ie=0;ie<b;ie++){var le=R.pop(),se=R.pop();V+((240&se)>>4)===K&&(0<=(se=(15&se)-8)&&se++,se=se*v,c.DEBUG&&console.log(u.step,"DELTACFIX",le,"by",se),u.cvt[le]+=se)}}function Dr(H,u){var R,K=u.stack,b=K.pop(),K=K.pop(),V=u.z2[b],v=u.z1[K];c.DEBUG&&console.log(u.step,"SDPVTL["+H+"]",b,K),b=H?(R=V.y-v.y,v.x-V.x):(R=v.x-V.x,v.y-V.y),u.dpv=xa(R,b)}function Aa(H,u){var R=u.stack,b=u.prog,K=u.ip;c.DEBUG&&console.log(u.step,"PUSHB["+H+"]");for(var V=0;V<H;V++)R.push(b[++K]);u.ip=K}function Ua(H,u){var R=u.ip,b=u.prog,K=u.stack;c.DEBUG&&console.log(u.ip,"PUSHW["+H+"]");for(var V=0;V<H;V++){var v=b[++R]<<8|b[++R];32768&v&&(v=-(1+(65535^v))),K.push(v)}u.ip=R}function _e(H,u,R,b,K,V){var v,ie,se=V.stack,le=H&&se.pop(),se=se.pop(),ue=V.rp0,ue=V.z0[ue],Ae=V.z1[se],pe=V.minDis,Ie=V.fv,Ee=V.dpv,Se=v=Ee.distance(Ae,ue,!0,!0),Xe=0<=Se?1:-1;Se=Math.abs(Se),H&&(ie=V.cvt[le],b&&Math.abs(Se-ie)<V.cvCutIn&&(Se=ie)),R&&Se<pe&&(Se=pe),b&&(Se=V.round(Se)),Ie.setRelative(Ae,ue,Xe*Se,Ee),Ie.touch(Ae),c.DEBUG&&console.log(V.step,(H?"MIRP[":"MDRP[")+(u?"M":"m")+(R?">":"_")+(b?"R":"_")+(K===0?"Gr":K===1?"Bl":K===2?"Wh":"")+"]",H?le+"("+V.cvt[le]+","+ie+")":"",se,"(d =",v,"->",Xe*Se,")"),V.rp1=V.rp0,V.rp2=se,u&&(V.rp0=se)}gD.prototype.exec=function(H,u){if(typeof u!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var R=this.font,b=this._prepState;if(!b||b.ppem!==u){var K=this._fpgmState;if(!K){Ra.prototype=jd,(K=this._fpgmState=new Ra("fpgm",R.tables.fpgm)).funcs=[],K.font=R,c.DEBUG&&(console.log("---EXEC FPGM---"),K.step=-1);try{Ca(K)}catch(se){return console.log("Hinting error in FPGM:"+se),void(this._errorState=3)}}Ra.prototype=K,(b=this._prepState=new Ra("prep",R.tables.prep)).ppem=u;var V=R.tables.cvt;if(V)for(var v=b.cvt=new Array(V.length),ie=u/R.unitsPerEm,le=0;le<V.length;le++)v[le]=V[le]*ie;else b.cvt=[];c.DEBUG&&(console.log("---EXEC PREP---"),b.step=-1);try{Ca(b)}catch(se){this._errorState<2&&console.log("Hinting error in PREP:"+se),this._errorState=2}}if(!(1<this._errorState))try{return Fd(H,b)}catch(se){this._errorState<1&&(console.log("Hinting error:"+se),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var Fd=function(H,u){var R=u.ppem/u.font.unitsPerEm,b=R,K=H.components;if(Ra.prototype=u,K){for(var V=u.font,v=[],ie=[],le=0;le<K.length;le++){var se=K[le],ue=V.glyphs.get(se.glyphIndex),Ae=new Ra("glyf",ue.instructions);c.DEBUG&&(console.log("---EXEC COMP "+le+"---"),Ae.step=-1),rr(ue,Ae,R,b);for(var pe=Math.round(se.dx*R),Ie=Math.round(se.dy*b),Ee=Ae.gZone,Se=Ae.contours,Xe=0;Xe<Ee.length;Xe++){var Ue=Ee[Xe];Ue.xTouched=Ue.yTouched=!1,Ue.xo=Ue.x=Ue.x+pe,Ue.yo=Ue.y=Ue.y+Ie}var Me=v.length;v.push.apply(v,Ee);for(var ei=0;ei<Se.length;ei++)ie.push(Se[ei]+Me)}H.instructions&&!Ae.inhibitGridFit&&((Ae=new Ra("glyf",H.instructions)).gZone=Ae.z0=Ae.z1=Ae.z2=v,Ae.contours=ie,v.push(new Ja(0,0),new Ja(Math.round(H.advanceWidth*R),0)),c.DEBUG&&(console.log("---EXEC COMPOSITE---"),Ae.step=-1),Ca(Ae),v.length-=2)}else Ae=new Ra("glyf",H.instructions),c.DEBUG&&(console.log("---EXEC GLYPH---"),Ae.step=-1),rr(H,Ae,R,b),v=Ae.gZone;return v},rr=function(H,u,R,b){for(var K,V,v,ie=H.points||[],le=ie.length,se=u.gZone=u.z0=u.z1=u.z2=[],ue=u.contours=[],Ae=0;Ae<le;Ae++)K=ie[Ae],se[Ae]=new Ja(K.x*R,K.y*b,K.lastPointOfContour,K.onCurve);for(var pe=0;pe<le;pe++)K=se[pe],V||(V=K,ue.push(pe)),K.lastPointOfContour?((K.nextPointOnContour=V).prevPointOnContour=K,V=void 0):(v=se[pe+1],(K.nextPointOnContour=v).prevPointOnContour=K);if(!u.inhibitGridFit){if(c.DEBUG){console.log("PROCESSING GLYPH",u.stack);for(var Ie=0;Ie<le;Ie++)console.log(Ie,se[Ie].x,se[Ie].y)}if(se.push(new Ja(0,0),new Ja(Math.round(H.advanceWidth*R),0)),Ca(u),se.length-=2,c.DEBUG){console.log("FINISHED GLYPH",u.stack);for(var Ee=0;Ee<le;Ee++)console.log(Ee,se[Ee].x,se[Ee].y)}}},Ca=function(H){var u=H.prog;if(u){var R,b=u.length;for(H.ip=0;H.ip<b;H.ip++){if(c.DEBUG&&H.step++,!(R=Ed[u[H.ip]]))throw new Error("unknown instruction: 0x"+Number(u[H.ip]).toString(16));R(H)}}},Ed=[yD.bind(void 0,fa),yD.bind(void 0,Pa),qD.bind(void 0,fa),qD.bind(void 0,Pa),vD.bind(void 0,fa),vD.bind(void 0,Pa),GD.bind(void 0,0),GD.bind(void 0,1),OD.bind(void 0,0),OD.bind(void 0,1),function(H){var u=(R=H.stack).pop(),R=R.pop();c.DEBUG&&console.log(H.step,"SPVFS[]",u,R),H.pv=H.dpv=xa(R,u)},function(H){var u=(R=H.stack).pop(),R=R.pop();c.DEBUG&&console.log(H.step,"SPVFS[]",u,R),H.fv=xa(R,u)},function(H){var u=H.stack,R=H.pv;c.DEBUG&&console.log(H.step,"GPV[]"),u.push(16384*R.x),u.push(16384*R.y)},function(H){var u=H.stack,R=H.fv;c.DEBUG&&console.log(H.step,"GFV[]"),u.push(16384*R.x),u.push(16384*R.y)},function(H){H.fv=H.pv,c.DEBUG&&console.log(H.step,"SFVTPV[]")},function(u){var R=(v=u.stack).pop(),b=v.pop(),K=v.pop(),V=v.pop(),v=v.pop(),le=u.z0,ue=u.z1,ie=le[R],le=le[b],se=ue[K],ue=ue[V],u=u.z2[v],R=(c.DEBUG&&console.log("ISECT[], ",R,b,K,V,v),ie.x),b=ie.y,K=le.x,V=le.y,v=se.x,ie=se.y,le=ue.x,se=ue.y,ue=(R-K)*(ie-se)-(b-V)*(v-le),Ae=R*V-b*K,pe=v*se-ie*le;u.x=(Ae*(v-le)-pe*(R-K))/ue,u.y=(Ae*(ie-se)-pe*(b-V))/ue},function(H){H.rp0=H.stack.pop(),c.DEBUG&&console.log(H.step,"SRP0[]",H.rp0)},function(H){H.rp1=H.stack.pop(),c.DEBUG&&console.log(H.step,"SRP1[]",H.rp1)},function(H){H.rp2=H.stack.pop(),c.DEBUG&&console.log(H.step,"SRP2[]",H.rp2)},function(H){var u=H.stack.pop();switch(c.DEBUG&&console.log(H.step,"SZP0[]",u),H.zp0=u){case 0:H.tZone||Bt(H),H.z0=H.tZone;break;case 1:H.z0=H.gZone;break;default:throw new Error("Invalid zone pointer")}},function(H){var u=H.stack.pop();switch(c.DEBUG&&console.log(H.step,"SZP1[]",u),H.zp1=u){case 0:H.tZone||Bt(H),H.z1=H.tZone;break;case 1:H.z1=H.gZone;break;default:throw new Error("Invalid zone pointer")}},function(H){var u=H.stack.pop();switch(c.DEBUG&&console.log(H.step,"SZP2[]",u),H.zp2=u){case 0:H.tZone||Bt(H),H.z2=H.tZone;break;case 1:H.z2=H.gZone;break;default:throw new Error("Invalid zone pointer")}},function(H){var u=H.stack.pop();switch(c.DEBUG&&console.log(H.step,"SZPS[]",u),H.zp0=H.zp1=H.zp2=u){case 0:H.tZone||Bt(H),H.z0=H.z1=H.z2=H.tZone;break;case 1:H.z0=H.z1=H.z2=H.gZone;break;default:throw new Error("Invalid zone pointer")}},function(H){H.loop=H.stack.pop(),c.DEBUG&&console.log(H.step,"SLOOP[]",H.loop)},function(H){c.DEBUG&&console.log(H.step,"RTG[]"),H.round=ZD},function(H){c.DEBUG&&console.log(H.step,"RTHG[]"),H.round=Sd},function(H){var u=H.stack.pop();c.DEBUG&&console.log(H.step,"SMD[]",u),H.minDis=u/64},function(H){c.DEBUG&&console.log(H.step,"ELSE[]"),ND(H,!1)},function(H){var u=H.stack.pop();c.DEBUG&&console.log(H.step,"JMPR[]",u),H.ip+=u-1},function(H){var u=H.stack.pop();c.DEBUG&&console.log(H.step,"SCVTCI[]",u),H.cvCutIn=u/64},void 0,void 0,function(H){var u=H.stack;c.DEBUG&&console.log(H.step,"DUP[]"),u.push(u[u.length-1])},Ot,function(H){c.DEBUG&&console.log(H.step,"CLEAR[]"),H.stack.length=0},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"SWAP[]"),u.push(R),u.push(b)},function(H){var u=H.stack;c.DEBUG&&console.log(H.step,"DEPTH[]"),u.push(u.length)},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"CINDEX[]",R),u.push(u[u.length-R])},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"MINDEX[]",R),u.push(u.splice(u.length-R,1)[0])},void 0,void 0,void 0,function(H){var u=(b=H.stack).pop(),R=b.pop(),b=(c.DEBUG&&console.log(H.step,"LOOPCALL[]",u,R),H.ip),K=H.prog;H.prog=H.funcs[u];for(var V=0;V<R;V++)Ca(H),c.DEBUG&&console.log(++H.step,V+1<R?"next loopcall":"done loopcall",V);H.ip=b,H.prog=K},function(H){var u=H.stack.pop(),R=(c.DEBUG&&console.log(H.step,"CALL[]",u),H.ip),b=H.prog;H.prog=H.funcs[u],Ca(H),H.ip=R,H.prog=b,c.DEBUG&&console.log(++H.step,"returning from",u)},function(H){if(H.env!=="fpgm")throw new Error("FDEF not allowed here");var b=H.stack,u=H.prog,R=H.ip,b=b.pop(),K=R;for(c.DEBUG&&console.log(H.step,"FDEF[]",b);u[++R]!==45;);H.ip=R,H.funcs[b]=u.slice(K+1,R)},void 0,WD.bind(void 0,0),WD.bind(void 0,1),xD.bind(void 0,fa),xD.bind(void 0,Pa),wD.bind(void 0,0),wD.bind(void 0,1),zD.bind(void 0,0),zD.bind(void 0,1),_D.bind(void 0,0),_D.bind(void 0,1),function(H){for(var u=H.stack,R=H.loop,b=H.fv,K=u.pop()/64,V=H.z2;R--;){var v=u.pop(),ie=V[v];c.DEBUG&&console.log(H.step,(1<H.loop?"loop "+(H.loop-R)+": ":"")+"SHPIX[]",v,K),b.setRelative(ie,ie,K),b.touch(ie)}H.loop=1},function(H){for(var u=H.stack,R=H.rp1,b=H.rp2,K=H.loop,V=H.z0[R],v=H.z1[b],ie=H.fv,le=H.dpv,se=H.z2;K--;){var ue=u.pop(),Ae=se[ue];c.DEBUG&&console.log(H.step,(1<H.loop?"loop "+(H.loop-K)+": ":"")+"IP[]",ue,R,"<->",b),ie.interpolate(Ae,V,v,le),ie.touch(Ae)}H.loop=1},er.bind(void 0,0),er.bind(void 0,1),function(H){for(var u=H.stack,R=H.rp0,b=H.z0[R],K=H.loop,V=H.fv,v=H.pv,ie=H.z1;K--;){var le=u.pop(),se=ie[le];c.DEBUG&&console.log(H.step,(1<H.loop?"loop "+(H.loop-K)+": ":"")+"ALIGNRP[]",le),V.setRelative(se,b,0,v),V.touch(se)}H.loop=1},function(H){c.DEBUG&&console.log(H.step,"RTDG[]"),H.round=bd},ir.bind(void 0,0),ir.bind(void 0,1),function(H){var u=H.prog,R=H.ip,b=H.stack,K=u[++R];c.DEBUG&&console.log(H.step,"NPUSHB[]",K);for(var V=0;V<K;V++)b.push(u[++R]);H.ip=R},function(H){var u=H.ip,R=H.prog,b=H.stack,K=R[++u];c.DEBUG&&console.log(H.step,"NPUSHW[]",K);for(var V=0;V<K;V++){var v=R[++u]<<8|R[++u];32768&v&&(v=-(1+(65535^v))),b.push(v)}H.ip=u},function(H){var b=H.stack,u=(u=H.store)||(H.store=[]),R=b.pop(),b=b.pop();c.DEBUG&&console.log(H.step,"WS",R,b),u[b]=R},function(K){var u=K.stack,R=K.store,b=u.pop(),K=(c.DEBUG&&console.log(K.step,"RS",b),R&&R[b]||0);u.push(K)},function(H){var u=(R=H.stack).pop(),R=R.pop();c.DEBUG&&console.log(H.step,"WCVTP",u,R),H.cvt[R]=u/64},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"RCVT",R),u.push(64*H.cvt[R])},ar.bind(void 0,0),ar.bind(void 0,1),void 0,tr.bind(void 0,0),tr.bind(void 0,1),function(H){c.DEBUG&&console.log(H.step,"MPPEM[]"),H.stack.push(H.ppem)},void 0,function(H){c.DEBUG&&console.log(H.step,"FLIPON[]"),H.autoFlip=!0},void 0,void 0,function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"LT[]",R,b),u.push(b<R?1:0)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"LTEQ[]",R,b),u.push(b<=R?1:0)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"GT[]",R,b),u.push(R<b?1:0)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"GTEQ[]",R,b),u.push(R<=b?1:0)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"EQ[]",R,b),u.push(R===b?1:0)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"NEQ[]",R,b),u.push(R!==b?1:0)},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"ODD[]",R),u.push(Math.trunc(R)%2?1:0)},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"EVEN[]",R),u.push(Math.trunc(R)%2?0:1)},function(H){var u=H.stack.pop();c.DEBUG&&console.log(H.step,"IF[]",u),u||(ND(H,!0),c.DEBUG&&console.log(H.step,"EIF[]"))},function(H){c.DEBUG&&console.log(H.step,"EIF[]")},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"AND[]",R,b),u.push(R&&b?1:0)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"OR[]",R,b),u.push(R||b?1:0)},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"NOT[]",R),u.push(R?0:1)},Wt.bind(void 0,1),function(H){var u=H.stack.pop();c.DEBUG&&console.log(H.step,"SDB[]",u),H.deltaBase=u},function(H){var u=H.stack.pop();c.DEBUG&&console.log(H.step,"SDS[]",u),H.deltaShift=Math.pow(.5,u)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"ADD[]",R,b),u.push(b+R)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"SUB[]",R,b),u.push(b-R)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"DIV[]",R,b),u.push(64*b/R)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"MUL[]",R,b),u.push(b*R/64)},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"ABS[]",R),u.push(Math.abs(R))},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"NEG[]",R),u.push(-R)},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"FLOOR[]",R),u.push(64*Math.floor(R/64))},function(H){var u=H.stack,R=u.pop();c.DEBUG&&console.log(H.step,"CEILING[]",R),u.push(64*Math.ceil(R/64))},Tt.bind(void 0,0),Tt.bind(void 0,1),Tt.bind(void 0,2),Tt.bind(void 0,3),void 0,void 0,void 0,void 0,function(H){var u=(R=H.stack).pop(),R=R.pop();c.DEBUG&&console.log(H.step,"WCVTF[]",u,R),H.cvt[R]=u*H.ppem/H.font.unitsPerEm},Wt.bind(void 0,2),Wt.bind(void 0,3),xt.bind(void 0,1),xt.bind(void 0,2),xt.bind(void 0,3),function(H){var u,R=H.stack.pop();switch(c.DEBUG&&console.log(H.step,"SROUND[]",R),H.round=VD,192&R){case 0:u=.5;break;case 64:u=1;break;case 128:u=2;break;default:throw new Error("invalid SROUND value")}switch(H.srPeriod=u,48&R){case 0:H.srPhase=0;break;case 16:H.srPhase=.25*u;break;case 32:H.srPhase=.5*u;break;case 48:H.srPhase=.75*u;break;default:throw new Error("invalid SROUND value")}H.srThreshold=(R&=15)===0?0:(R/8-.5)*u},function(H){var u,R=H.stack.pop();switch(c.DEBUG&&console.log(H.step,"S45ROUND[]",R),H.round=VD,192&R){case 0:u=Math.sqrt(2)/2;break;case 64:u=Math.sqrt(2);break;case 128:u=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(H.srPeriod=u,48&R){case 0:H.srPhase=0;break;case 16:H.srPhase=.25*u;break;case 32:H.srPhase=.5*u;break;case 48:H.srPhase=.75*u;break;default:throw new Error("invalid S45ROUND value")}H.srThreshold=(R&=15)===0?0:(R/8-.5)*u},void 0,void 0,function(H){c.DEBUG&&console.log(H.step,"ROFF[]"),H.round=Md},void 0,function(H){c.DEBUG&&console.log(H.step,"RUTG[]"),H.round=Qd},function(H){c.DEBUG&&console.log(H.step,"RDTG[]"),H.round=Xd},Ot,Ot,void 0,void 0,void 0,void 0,void 0,function(H){var u=H.stack.pop();c.DEBUG&&console.log(H.step,"SCANCTRL[]",u)},Dr.bind(void 0,0),Dr.bind(void 0,1),function(H){var u=H.stack,R=u.pop(),b=0;c.DEBUG&&console.log(H.step,"GETINFO[]",R),1&R&&(b=35),32&R&&(b|=4096),u.push(b)},void 0,function(H){var u=H.stack,R=u.pop(),b=u.pop(),K=u.pop();c.DEBUG&&console.log(H.step,"ROLL[]"),u.push(b),u.push(R),u.push(K)},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"MAX[]",R,b),u.push(Math.max(b,R))},function(H){var u=H.stack,R=u.pop(),b=u.pop();c.DEBUG&&console.log(H.step,"MIN[]",R,b),u.push(Math.min(b,R))},function(H){var u=H.stack.pop();c.DEBUG&&console.log(H.step,"SCANTYPE[]",u)},function(H){var u=H.stack.pop(),R=H.stack.pop();switch(c.DEBUG&&console.log(H.step,"INSTCTRL[]",u,R),u){case 1:return void(H.inhibitGridFit=!!R);case 2:return void(H.ignoreCvt=!!R);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Aa.bind(void 0,1),Aa.bind(void 0,2),Aa.bind(void 0,3),Aa.bind(void 0,4),Aa.bind(void 0,5),Aa.bind(void 0,6),Aa.bind(void 0,7),Aa.bind(void 0,8),Ua.bind(void 0,1),Ua.bind(void 0,2),Ua.bind(void 0,3),Ua.bind(void 0,4),Ua.bind(void 0,5),Ua.bind(void 0,6),Ua.bind(void 0,7),Ua.bind(void 0,8),_e.bind(void 0,0,0,0,0,0),_e.bind(void 0,0,0,0,0,1),_e.bind(void 0,0,0,0,0,2),_e.bind(void 0,0,0,0,0,3),_e.bind(void 0,0,0,0,1,0),_e.bind(void 0,0,0,0,1,1),_e.bind(void 0,0,0,0,1,2),_e.bind(void 0,0,0,0,1,3),_e.bind(void 0,0,0,1,0,0),_e.bind(void 0,0,0,1,0,1),_e.bind(void 0,0,0,1,0,2),_e.bind(void 0,0,0,1,0,3),_e.bind(void 0,0,0,1,1,0),_e.bind(void 0,0,0,1,1,1),_e.bind(void 0,0,0,1,1,2),_e.bind(void 0,0,0,1,1,3),_e.bind(void 0,0,1,0,0,0),_e.bind(void 0,0,1,0,0,1),_e.bind(void 0,0,1,0,0,2),_e.bind(void 0,0,1,0,0,3),_e.bind(void 0,0,1,0,1,0),_e.bind(void 0,0,1,0,1,1),_e.bind(void 0,0,1,0,1,2),_e.bind(void 0,0,1,0,1,3),_e.bind(void 0,0,1,1,0,0),_e.bind(void 0,0,1,1,0,1),_e.bind(void 0,0,1,1,0,2),_e.bind(void 0,0,1,1,0,3),_e.bind(void 0,0,1,1,1,0),_e.bind(void 0,0,1,1,1,1),_e.bind(void 0,0,1,1,1,2),_e.bind(void 0,0,1,1,1,3),_e.bind(void 0,1,0,0,0,0),_e.bind(void 0,1,0,0,0,1),_e.bind(void 0,1,0,0,0,2),_e.bind(void 0,1,0,0,0,3),_e.bind(void 0,1,0,0,1,0),_e.bind(void 0,1,0,0,1,1),_e.bind(void 0,1,0,0,1,2),_e.bind(void 0,1,0,0,1,3),_e.bind(void 0,1,0,1,0,0),_e.bind(void 0,1,0,1,0,1),_e.bind(void 0,1,0,1,0,2),_e.bind(void 0,1,0,1,0,3),_e.bind(void 0,1,0,1,1,0),_e.bind(void 0,1,0,1,1,1),_e.bind(void 0,1,0,1,1,2),_e.bind(void 0,1,0,1,1,3),_e.bind(void 0,1,1,0,0,0),_e.bind(void 0,1,1,0,0,1),_e.bind(void 0,1,1,0,0,2),_e.bind(void 0,1,1,0,0,3),_e.bind(void 0,1,1,0,1,0),_e.bind(void 0,1,1,0,1,1),_e.bind(void 0,1,1,0,1,2),_e.bind(void 0,1,1,0,1,3),_e.bind(void 0,1,1,1,0,0),_e.bind(void 0,1,1,1,0,1),_e.bind(void 0,1,1,1,0,2),_e.bind(void 0,1,1,1,0,3),_e.bind(void 0,1,1,1,1,0),_e.bind(void 0,1,1,1,1,1),_e.bind(void 0,1,1,1,1,2),_e.bind(void 0,1,1,1,1,3)],Cd=Array.from||function(H){return H.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function mi(H){(H=H||{}).empty||(Ea(H.familyName,"When creating a new Font object, familyName is required."),Ea(H.styleName,"When creating a new Font object, styleName is required."),Ea(H.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ea(H.ascender,"When creating a new Font object, ascender is required."),Ea(H.descender,"When creating a new Font object, descender is required."),Ea(H.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:H.familyName||" "},fontSubfamily:{en:H.styleName||" "},fullName:{en:H.fullName||H.familyName+" "+H.styleName},postScriptName:{en:H.postScriptName||(H.familyName+H.styleName).replace(/\s/g,"")},designer:{en:H.designer||" "},designerURL:{en:H.designerURL||" "},manufacturer:{en:H.manufacturer||" "},manufacturerURL:{en:H.manufacturerURL||" "},license:{en:H.license||" "},licenseURL:{en:H.licenseURL||" "},version:{en:H.version||"Version 0.1"},description:{en:H.description||" "},copyright:{en:H.copyright||" "},trademark:{en:H.trademark||" "}},this.unitsPerEm=H.unitsPerEm||1e3,this.ascender=H.ascender,this.descender=H.descender,this.createdTimestamp=H.createdTimestamp,this.tables={os2:{usWeightClass:H.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:H.widthClass||this.usWidthClasses.MEDIUM,fsSelection:H.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new ze.GlyphSet(this,H.glyphs||[]),this.encoding=new Be(this),this.position=new pt(this),this.substitution=new Ha(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new gD(this):void 0)}})}function dr(H,u){var R,b=JSON.stringify(H),K=256;for(R in u){var V=parseInt(R);if(V&&!(V<256)){if(JSON.stringify(u[R])===b)return V;K<=V&&(K=V+1)}}return u[K]=H,K}mi.prototype.hasChar=function(H){return this.encoding.charToGlyphIndex(H)!==null},mi.prototype.charToGlyphIndex=function(H){return this.encoding.charToGlyphIndex(H)},mi.prototype.charToGlyph=function(H){return H=this.charToGlyphIndex(H),this.glyphs.get(H)||this.glyphs.get(0)},mi.prototype.stringToGlyphs=function(H,u){u=u||this.defaultRenderOptions;for(var R=Cd(H),b=[],K=0;K<R.length;K+=1){var V=R[K];b.push(this.charToGlyphIndex(V))}var v=b.length;if(u.features){var H=u.script||this.substitution.getDefaultScriptName(),ie=[];u.features.liga&&(ie=ie.concat(this.substitution.getFeature("liga",H,u.language))),u.features.rlig&&(ie=ie.concat(this.substitution.getFeature("rlig",H,u.language)));for(var le=0;le<v;le+=1)for(var se=0;se<ie.length;se++){for(var ue=ie[se],Ae=ue.sub,pe=Ae.length,Ie=0;Ie<pe&&Ae[Ie]===b[le+Ie];)Ie++;Ie===pe&&(b.splice(le,pe,ue.by),v=v-pe+1)}}for(var Ee=new Array(v),Se=this.glyphs.get(0),Xe=0;Xe<v;Xe+=1)Ee[Xe]=this.glyphs.get(b[Xe])||Se;return Ee},mi.prototype.nameToGlyphIndex=function(H){return this.glyphNames.nameToGlyphIndex(H)},mi.prototype.nameToGlyph=function(H){return H=this.nameToGlyphIndex(H),this.glyphs.get(H)||this.glyphs.get(0)},mi.prototype.glyphIndexToName=function(H){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(H):""},mi.prototype.getKerningValue=function(H,u){H=H.index||H,u=u.index||u;var R=this.position.defaultKerningTables;return R?this.position.getKerningValue(R,H,u):this.kerningPairs[H+","+u]||0},mi.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},mi.prototype.forEachGlyph=function(H,u,R,b,K,V){u=u!==void 0?u:0,R=R!==void 0?R:0,K=K||this.defaultRenderOptions;var v,ie=1/this.unitsPerEm*(b=b!==void 0?b:72),le=this.stringToGlyphs(H,K);K.kerning&&(H=K.script||this.position.getDefaultScriptName(),v=this.position.getKerningTables(H,K.language));for(var se=0;se<le.length;se+=1){var ue=le[se];V.call(this,ue,u,R,b,K),ue.advanceWidth&&(u+=ue.advanceWidth*ie),K.kerning&&se<le.length-1&&(u+=(v?this.position.getKerningValue(v,ue.index,le[se+1].index):this.getKerningValue(ue,le[se+1]))*ie),K.letterSpacing?u+=K.letterSpacing*b:K.tracking&&(u+=K.tracking/1e3*b)}return u},mi.prototype.getPath=function(H,u,R,b,K){var V=new w;return this.forEachGlyph(H,u,R,b,K,function(v,ie,le,se){v=v.getPath(ie,le,se,K,this),V.extend(v)}),V},mi.prototype.getPaths=function(H,u,R,b,K){var V=[];return this.forEachGlyph(H,u,R,b,K,function(v,ie,le,se){v=v.getPath(ie,le,se,K,this),V.push(v)}),V},mi.prototype.getAdvanceWidth=function(H,u,R){return this.forEachGlyph(H,0,0,u,R,function(){})},mi.prototype.draw=function(H,u,R,b,K,V){this.getPath(u,R,b,K,V).draw(H)},mi.prototype.drawPoints=function(H,u,R,b,K,V){this.forEachGlyph(u,R,b,K,V,function(v,ie,le,se){v.drawPoints(H,ie,le,se)})},mi.prototype.drawMetrics=function(H,u,R,b,K,V){this.forEachGlyph(u,R,b,K,V,function(v,ie,le,se){v.drawMetrics(H,ie,le,se)})},mi.prototype.getEnglishName=function(H){if(H=this.names[H],H)return H.en},mi.prototype.validate=function(){var H=this;function u(R){R=H.getEnglishName(R),R&&R.trim().length}u("fontFamily"),u("weightName"),u("manufacturer"),u("copyright"),u("version"),this.unitsPerEm},mi.prototype.toTables=function(){return Rd.fontToTable(this)},mi.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},mi.prototype.toArrayBuffer=function(){for(var H=this.toTables().encode(),u=new ArrayBuffer(H.length),R=new Uint8Array(u),b=0;b<H.length;b++)R[b]=H[b];return u},mi.prototype.download=function(H){var u=this.getEnglishName("fontFamily"),R=this.getEnglishName("fontSubfamily"),b=(H=H||u.replace(/\s/g,"")+"-"+R+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,b.byteLength,function(K){K.root.getFile(H,{create:!0},function(V){V.createWriter(function(v){var ie=new DataView(b),ie=new Blob([ie],{type:"font/opentype"});v.write(ie),v.addEventListener("writeend",function(){location.href=V.toURL()},!1)})})},function(K){throw new Error(K.name+": "+K.message)})):(u=i("fs"),R=function(K){for(var V=new o(K.byteLength),v=new Uint8Array(K),ie=0;ie<V.length;++ie)V[ie]=v[ie];return V}(b),u.writeFileSync(H,R))},mi.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},mi.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},mi.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Kd={make:function(H,u){var R=new be.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:H.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:H.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*H.axes.length}]);R.offsetToData=R.sizeOf();for(var b,K,V,v=0;v<H.axes.length;v++)R.fields=R.fields.concat((b=v,K=H.axes[v],V=u,V=dr(K.name,u),[{name:"tag_"+b,type:"TAG",value:K.tag},{name:"minValue_"+b,type:"FIXED",value:K.minValue<<16},{name:"defaultValue_"+b,type:"FIXED",value:K.defaultValue<<16},{name:"maxValue_"+b,type:"FIXED",value:K.maxValue<<16},{name:"flags_"+b,type:"USHORT",value:0},{name:"nameID_"+b,type:"USHORT",value:V}]));for(var ie=0;ie<H.instances.length;ie++)R.fields=R.fields.concat(function(le,se,ue,Ae){for(var pe=[{name:"nameID_"+le,type:"USHORT",value:dr(se.name,Ae)},{name:"flags_"+le,type:"USHORT",value:0}],Ie=0;Ie<ue.length;++Ie){var Ee=ue[Ie].tag;pe.push({name:"axis_"+le+" "+Ee,type:"FIXED",value:se.coordinates[Ee]<<16})}return pe}(ie,H.instances[ie],H.axes,u));return R},parse:function(H,u,R){for(var b,K,V,v,ie=new Te.Parser(H,u),le=ie.parseULong(),se=(f.argument(le===65536,"Unsupported fvar table version."),ie.parseOffset16()),ue=(ie.skip("uShort",1),ie.parseUShort()),Ae=ie.parseUShort(),pe=ie.parseUShort(),Ie=ie.parseUShort(),Ee=[],Se=0;Se<ue;Se++)Ee.push((b=H,K=u+se+Se*Ae,V=R,v={},b=new Te.Parser(b,K),v.tag=b.parseTag(),v.minValue=b.parseFixed(),v.defaultValue=b.parseFixed(),v.maxValue=b.parseFixed(),b.skip("uShort",1),v.name=V[b.parseUShort()]||{},v));for(var Xe=[],Ue=u+se+ue*Ae,Me=0;Me<pe;Me++)Xe.push(function(ei,ni,ii,ai){var si={},fi=new Te.Parser(ei,ni);si.name=ai[fi.parseUShort()]||{},fi.skip("uShort",1),si.coordinates={};for(var Xi=0;Xi<ii.length;++Xi)si.coordinates[ii[Xi].tag]=fi.parseFixed();return si}(H,Ue+Me*Ie,Ee,R));return{axes:Ee,instances:Xe}}},da=new Array(10);da[1]=function(){var H=this.offset+this.relativeOffset,u=this.parseUShort();return u===1?{posFormat:1,coverage:this.parsePointer(fe.coverage),value:this.parseValueRecord()}:u===2?{posFormat:2,coverage:this.parsePointer(fe.coverage),values:this.parseValueRecordList()}:void f.assert(!1,"0x"+H.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},da[2]=function(){var H,u,R,b,V=this.offset+this.relativeOffset,K=this.parseUShort(),V=(f.assert(K===1||K===2,"0x"+V.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(fe.coverage)),v=this.parseUShort(),ie=this.parseUShort();return K===1?{posFormat:K,coverage:V,valueFormat1:v,valueFormat2:ie,pairSets:this.parseList(fe.pointer(fe.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(v),value2:this.parseValueRecord(ie)}})))}:K===2?(H=this.parsePointer(fe.classDef),u=this.parsePointer(fe.classDef),R=this.parseUShort(),b=this.parseUShort(),{posFormat:K,coverage:V,valueFormat1:v,valueFormat2:ie,classDef1:H,classDef2:u,class1Count:R,class2Count:b,classRecords:this.parseList(R,fe.list(b,function(){return{value1:this.parseValueRecord(v),value2:this.parseValueRecord(ie)}}))}):void 0},da[3]=function(){return{error:"GPOS Lookup 3 not supported"}},da[4]=function(){return{error:"GPOS Lookup 4 not supported"}},da[5]=function(){return{error:"GPOS Lookup 5 not supported"}},da[6]=function(){return{error:"GPOS Lookup 6 not supported"}},da[7]=function(){return{error:"GPOS Lookup 7 not supported"}},da[8]=function(){return{error:"GPOS Lookup 8 not supported"}},da[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var kd=new Array(10),Yd={parse:function(H,u){return u=(H=new fe(H,u=u||0)).parseVersion(1),f.argument(u===1||u===1.1,"Unsupported GPOS table version "+u),u===1?{version:u,scripts:H.parseScriptList(),features:H.parseFeatureList(),lookups:H.parseLookupList(da)}:{version:u,scripts:H.parseScriptList(),features:H.parseFeatureList(),lookups:H.parseLookupList(da),variations:H.parseFeatureVariationsList()}},make:function(H){return new be.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new be.ScriptList(H.scripts)},{name:"features",type:"TABLE",value:new be.FeatureList(H.features)},{name:"lookups",type:"TABLE",value:new be.LookupList(H.lookups,kd)}])}},gd={parse:function(H,u){if(H=new Te.Parser(H,u),(u=H.parseUShort())===0){var R=H,b={},Ae=(R.skip("uShort"),R.parseUShort()),K=(f.argument(Ae===0,"Unsupported kern sub-table version."),R.skip("uShort",2),R.parseUShort());R.skip("uShort",3);for(var V=0;V<K;V+=1){var v=R.parseUShort(),ie=R.parseUShort(),le=R.parseShort();b[v+","+ie]=le}return b}if(u!==1)throw new Error("Unsupported kern table version ("+u+").");var se=H,ue={},Ae=(se.skip("uShort"),1<se.parseULong()&&console.warn("Only the first kern subtable is supported."),se.skip("uLong"),255&se.parseUShort());if(se.skip("uShort"),Ae==0){var pe=se.parseUShort();se.skip("uShort",3);for(var Ie=0;Ie<pe;Ie+=1){var Ee=se.parseUShort(),Se=se.parseUShort(),Xe=se.parseShort();ue[Ee+","+Se]=Xe}}return ue}},Zd={parse:function(H,u,R,b){for(var K=new Te.Parser(H,u),V=b?K.parseUShort:K.parseULong,v=[],ie=0;ie<R+1;ie+=1){var le=V.call(K);b&&(le*=2),v.push(le)}return v}};function Vd(H,u){i("fs").readFile(H,function(R,b){if(R)return u(R.message);u(null,CD(b))})}function Nd(H,u){var R=new XMLHttpRequest;R.open("get",H,!0),R.responseType="arraybuffer",R.onload=function(){return R.response?u(null,R.response):u("Font could not be loaded: "+R.statusText)},R.onerror=function(){u("Font could not be loaded")},R.send()}function nr(H,u){for(var R=[],b=12,K=0;K<u;K+=1){var V=Te.getTag(H,b),v=Te.getULong(H,b+4),ie=Te.getULong(H,b+8),le=Te.getULong(H,b+12);R.push({tag:V,checksum:v,offset:ie,length:le,compression:!1}),b+=16}return R}function Ci(R,u){if(u.compression!=="WOFF")return{data:R,offset:u.offset};var R=new Uint8Array(R.buffer,u.offset+2,u.compressedLength-2),b=new Uint8Array(u.length);if(y(R,b),b.byteLength!==u.length)throw new Error("Decompression error: "+u.tag+" decompressed length doesn't match recorded length");return{data:new DataView(b.buffer,0),offset:0}}function wt(Me){var u,R,b,K,V,v,ie,le,se,ue,Ae,pe,Ie,Ee,Se=new mi({empty:!0}),Xe=new DataView(Me,0),Ue=[],Me=Te.getTag(Xe,0);if(Me==="\0\0\0"||Me==="true"||Me==="typ1")Se.outlinesFormat="truetype",Ue=nr(Xe,b=Te.getUShort(Xe,4));else if(Me==="OTTO")Se.outlinesFormat="cff",Ue=nr(Xe,b=Te.getUShort(Xe,4));else{if(Me!=="wOFF")throw new Error("Unsupported OpenType signature "+Me);var ei=Te.getTag(Xe,4);if(ei==="\0\0\0")Se.outlinesFormat="truetype";else{if(ei!=="OTTO")throw new Error("Unsupported OpenType flavor "+Me);Se.outlinesFormat="cff"}Ue=function(Bi,Hi){for(var zi=[],Ai=44,Gi=0;Gi<Hi;Gi+=1){var Ti=Te.getTag(Bi,Ai),Ni=Te.getULong(Bi,Ai+4),za=Te.getULong(Bi,Ai+8),Ka=Te.getULong(Bi,Ai+12),sr=void 0,sr=za<Ka&&"WOFF";zi.push({tag:Ti,offset:Ni,compression:sr,compressedLength:za,length:Ka}),Ai+=20}return zi}(Xe,b=Te.getUShort(Xe,12))}for(var ni=0;ni<b;ni+=1){var ii=Ue[ni],ai=void 0;switch(ii.tag){case"cmap":ai=Ci(Xe,ii),Se.tables.cmap=_.parse(ai.data,ai.offset),Se.encoding=new Qe(Se.tables.cmap);break;case"cvt ":ai=Ci(Xe,ii),Ee=new Te.Parser(ai.data,ai.offset),Se.tables.cvt=Ee.parseShortList(ii.length/2);break;case"fvar":V=ii;break;case"fpgm":ai=Ci(Xe,ii),Ee=new Te.Parser(ai.data,ai.offset),Se.tables.fpgm=Ee.parseByteList(ii.length);break;case"head":ai=Ci(Xe,ii),Se.tables.head=Oa.parse(ai.data,ai.offset),Se.unitsPerEm=Se.tables.head.unitsPerEm,u=Se.tables.head.indexToLocFormat;break;case"hhea":ai=Ci(Xe,ii),Se.tables.hhea=He.parse(ai.data,ai.offset),Se.ascender=Se.tables.hhea.ascender,Se.descender=Se.tables.hhea.descender,Se.numberOfHMetrics=Se.tables.hhea.numberOfHMetrics;break;case"hmtx":se=ii;break;case"ltag":ai=Ci(Xe,ii),R=xe.parse(ai.data,ai.offset);break;case"maxp":ai=Ci(Xe,ii),Se.tables.maxp=Ke.parse(ai.data,ai.offset),Se.numGlyphs=Se.tables.maxp.numGlyphs;break;case"name":pe=ii;break;case"OS/2":ai=Ci(Xe,ii),Se.tables.os2=Vi.parse(ai.data,ai.offset);break;case"post":ai=Ci(Xe,ii),Se.tables.post=AD.parse(ai.data,ai.offset),Se.glyphNames=new ge(Se.tables.post);break;case"prep":ai=Ci(Xe,ii),Ee=new Te.Parser(ai.data,ai.offset),Se.tables.prep=Ee.parseByteList(ii.length);break;case"glyf":v=ii;break;case"loca":Ae=ii;break;case"CFF ":K=ii;break;case"kern":ue=ii;break;case"GPOS":ie=ii;break;case"GSUB":le=ii;break;case"meta":Ie=ii}}if(ei=Ci(Xe,pe),Se.tables.name=aa.parse(ei.data,ei.offset,R),Se.names=Se.tables.name,v&&Ae)Me=u===0,ei=Ci(Xe,Ae),ei=Zd.parse(ei.data,ei.offset,Se.numGlyphs,Me),Me=Ci(Xe,v),Se.glyphs=YD.parse(Me.data,Me.offset,ei,Se);else{if(!K)throw new Error("Font doesn't contain TrueType or CFF outlines.");Me=Ci(Xe,K),Ga.parse(Me.data,Me.offset,Se)}for(var ei=Ci(Xe,se),si=(Ye.parse(ei.data,ei.offset,Se.numberOfHMetrics,Se.numGlyphs,Se.glyphs),Se),fi=si.tables.cmap.glyphIndexMap,Xi=Object.keys(fi),Ki=0;Ki<Xi.length;Ki+=1){var xi,wi=Xi[Ki],na=fi[wi];(xi=si.glyphs.get(na)).addUnicode(parseInt(wi))}for(var Li=0;Li<si.glyphs.length;Li+=1)xi=si.glyphs.get(Li),si.cffEncoding?si.isCIDFont?xi.name="gid"+Li:xi.name=si.cffEncoding.charset[Li]:si.glyphNames.names&&(xi.name=si.glyphNames.glyphIndexToName(Li));return ue?(Me=Ci(Xe,ue),Se.kerningPairs=gd.parse(Me.data,Me.offset)):Se.kerningPairs={},ie&&(ei=Ci(Xe,ie),Se.tables.gpos=Yd.parse(ei.data,ei.offset),Se.position.init()),le&&(Me=Ci(Xe,le),Se.tables.gsub=UD.parse(Me.data,Me.offset)),V&&(ei=Ci(Xe,V),Se.tables.fvar=Kd.parse(ei.data,ei.offset,Se.names)),Ie&&(Me=Ci(Xe,Ie),Se.tables.meta=MD.parse(Me.data,Me.offset),Se.metas=Se.tables.meta),Se}c.Font=mi,c.Glyph=qe,c.Path=w,c.BoundingBox=N,c._parse=Te,c.parse=wt,c.load=function(H,u){(typeof window>"u"?Vd:Nd)(H,function(R,b){if(R)return u(R);var K;try{K=wt(b)}catch(V){return u(V,null)}return u(null,K)})},c.loadSync=function(H){return wt(CD(i("fs").readFileSync(H)))},Object.defineProperty(c,"__esModule",{value:!0})},typeof p=="object"&&X!==void 0?D(p):typeof Y=="function"&&Y.amd?Y(["exports"],D):D(I.opentype={})}).call(this,i("buffer").Buffer)},{buffer:4,fs:2}],258:[function(i,X,p){(function(o){function I(m,P){for(var a=0,n=m.length-1;0<=n;n--){var r=m[n];r==="."?m.splice(n,1):r===".."?(m.splice(n,1),a++):a&&(m.splice(n,1),a--)}if(P)for(;a--;)m.unshift("..");return m}function D(m,P){if(m.filter)return m.filter(P);for(var a=[],n=0;n<m.length;n++)P(m[n],n,m)&&a.push(m[n]);return a}p.resolve=function(){for(var m="",P=!1,a=arguments.length-1;-1<=a&&!P;a--){var n=0<=a?arguments[a]:o.cwd();if(typeof n!="string")throw new TypeError("Arguments to path.resolve must be strings");n&&(m=n+"/"+m,P=n.charAt(0)==="/")}return(P?"/":"")+(m=I(D(m.split("/"),function(r){return!!r}),!P).join("/"))||"."},p.normalize=function(m){var P=p.isAbsolute(m),a=c(m,-1)==="/";return(m=(m=I(D(m.split("/"),function(n){return!!n}),!P).join("/"))||P?m:".")&&a&&(m+="/"),(P?"/":"")+m},p.isAbsolute=function(m){return m.charAt(0)==="/"},p.join=function(){var m=Array.prototype.slice.call(arguments,0);return p.normalize(D(m,function(P,a){if(typeof P!="string")throw new TypeError("Arguments to path.join must be strings");return P}).join("/"))},p.relative=function(m,P){function a($){for(var h=0;h<$.length&&$[h]==="";h++);for(var L=$.length-1;0<=L&&$[L]==="";L--);return L<h?[]:$.slice(h,L-h+1)}m=p.resolve(m).substr(1),P=p.resolve(P).substr(1);for(var n=a(m.split("/")),r=a(P.split("/")),d=Math.min(n.length,r.length),s=d,t=0;t<d;t++)if(n[t]!==r[t]){s=t;break}for(var l=[],t=s;t<n.length;t++)l.push("..");return(l=l.concat(r.slice(s))).join("/")},p.sep="/",p.delimiter=":",p.dirname=function(m){if(typeof m!="string"&&(m+=""),m.length===0)return".";for(var P=m.charCodeAt(0)===47,a=-1,n=!0,r=m.length-1;1<=r;--r)if(m.charCodeAt(r)===47){if(!n){a=r;break}}else n=!1;return a===-1?P?"/":".":P&&a===1?"/":m.slice(0,a)},p.basename=function(m,P){return m=function(a){typeof a!="string"&&(a+="");for(var n=0,r=-1,d=!0,s=a.length-1;0<=s;--s)if(a.charCodeAt(s)===47){if(!d){n=s+1;break}}else r===-1&&(d=!1,r=s+1);return r===-1?"":a.slice(n,r)}(m),m=P&&m.substr(-1*P.length)===P?m.substr(0,m.length-P.length):m},p.extname=function(m){typeof m!="string"&&(m+="");for(var P=-1,a=0,n=-1,r=!0,d=0,s=m.length-1;0<=s;--s){var t=m.charCodeAt(s);if(t===47){if(r)continue;a=s+1;break}n===-1&&(r=!1,n=s+1),t===46?P===-1?P=s:d!==1&&(d=1):P!==-1&&(d=-1)}return P===-1||n===-1||d===0||d===1&&P===n-1&&P===a+1?"":m.slice(P,n)};var c="ab".substr(-1)==="b"?function(m,P,a){return m.substr(P,a)}:function(m,P,a){return P<0&&(P=m.length+P),m.substr(P,a)}}).call(this,i("_process"))},{_process:259}],259:[function(i,D,p){var o,I,D=D.exports={};function c(){throw new Error("setTimeout has not been defined")}function m(){throw new Error("clearTimeout has not been defined")}try{o=typeof setTimeout=="function"?setTimeout:c}catch{o=c}try{I=typeof clearTimeout=="function"?clearTimeout:m}catch{I=m}function P(h){if(o===setTimeout)return setTimeout(h,0);if((o===c||!o)&&setTimeout)return(o=setTimeout)(h,0);try{return o(h,0)}catch{try{return o.call(null,h,0)}catch{return o.call(this,h,0)}}}var a,n=[],r=!1,d=-1;function s(){r&&a&&(r=!1,a.length?n=a.concat(n):d=-1,n.length&&t())}function t(){if(!r){for(var h=P(s),L=(r=!0,n.length);L;){for(a=n,n=[];++d<L;)a&&a[d].run();d=-1,L=n.length}a=null,r=!1,function(U){if(I===clearTimeout)return clearTimeout(U);if((I===m||!I)&&clearTimeout)return(I=clearTimeout)(U);try{I(U)}catch{try{return I.call(null,U)}catch{return I.call(this,U)}}}(h)}}function l(h,L){this.fun=h,this.array=L}function $(){}D.nextTick=function(h){var L=new Array(arguments.length-1);if(1<arguments.length)for(var U=1;U<arguments.length;U++)L[U-1]=arguments[U];n.push(new l(h,L)),n.length!==1||r||P(t)},l.prototype.run=function(){this.fun.apply(null,this.array)},D.title="browser",D.browser=!0,D.env={},D.argv=[],D.version="",D.versions={},D.on=$,D.addListener=$,D.once=$,D.off=$,D.removeListener=$,D.removeAllListeners=$,D.emit=$,D.prependListener=$,D.prependOnceListener=$,D.listeners=function(h){return[]},D.binding=function(h){throw new Error("process.binding is not supported")},D.cwd=function(){return"/"},D.chdir=function(h){throw new Error("process.chdir is not supported")},D.umask=function(){return 0}},{}],260:[function(i,X,p){X=function(o){"use strict";var I,D=Object.prototype,c=D.hasOwnProperty,T=typeof Symbol=="function"?Symbol:{},m=T.iterator||"@@iterator",P=T.asyncIterator||"@@asyncIterator",a=T.toStringTag||"@@toStringTag";function n(G,E,g,Z){var w,ce,F,f,E=E&&E.prototype instanceof h?E:h,E=Object.create(E.prototype),Z=new k(Z||[]);return E._invoke=(w=G,ce=g,F=Z,f=d,function(W,ee){if(f===t)throw new Error("Generator is already running");if(f===l){if(W==="throw")throw ee;return j()}for(F.method=W,F.arg=ee;;){var De=F.delegate;if(De&&(De=function $e(te,de){var ne=te.iterator[de.method];if(ne===I){if(de.delegate=null,de.method==="throw"){if(te.iterator.return&&(de.method="return",de.arg=I,$e(te,de),de.method==="throw"))return $;de.method="throw",de.arg=new TypeError("The iterator does not provide a 'throw' method")}return $}if(ne=r(ne,te.iterator,de.arg),ne.type==="throw")return de.method="throw",de.arg=ne.arg,de.delegate=null,$;if(ne=ne.arg,!ne)return de.method="throw",de.arg=new TypeError("iterator result is not an object"),de.delegate=null,$;{if(!ne.done)return ne;de[te.resultName]=ne.value,de.next=te.nextLoc,de.method!=="return"&&(de.method="next",de.arg=I)}return de.delegate=null,$}(De,F),De)){if(De===$)continue;return De}if(F.method==="next")F.sent=F._sent=F.arg;else if(F.method==="throw"){if(f===d)throw f=l,F.arg;F.dispatchException(F.arg)}else F.method==="return"&&F.abrupt("return",F.arg);if(f=t,De=r(w,ce,F),De.type==="normal"){if(f=F.done?l:s,De.arg!==$)return{value:De.arg,done:F.done}}else De.type==="throw"&&(f=l,F.method="throw",F.arg=De.arg)}}),E}function r(G,y,g){try{return{type:"normal",arg:G.call(y,g)}}catch(N){return{type:"throw",arg:N}}}o.wrap=n;var d="suspendedStart",s="suspendedYield",t="executing",l="completed",$={};function h(){}function L(){}function U(){}var T={},B=(T[m]=function(){return this},Object.getPrototypeOf),B=B&&B(B(C([]))),J=(B&&B!==D&&c.call(B,m)&&(T=B),U.prototype=h.prototype=Object.create(T));function S(G){["next","throw","return"].forEach(function(y){G[y]=function(g){return this._invoke(y,g)}})}function A(G){var y;this._invoke=function(g,N){function w(){return new Promise(function(ce,F){(function f($e,Z,W,ee){var De,$e=r(G[$e],G,Z);if($e.type!=="throw")return(Z=(De=$e.arg).value)&&typeof Z=="object"&&c.call(Z,"__await")?Promise.resolve(Z.__await).then(function(te){f("next",te,W,ee)},function(te){f("throw",te,W,ee)}):Promise.resolve(Z).then(function(te){De.value=te,W(De)},function(te){return f("throw",te,W,ee)});ee($e.arg)})(g,N,ce,F)})}return y=y?y.then(w,w):w()}}function Q(G){var y={tryLoc:G[0]};1 in G&&(y.catchLoc=G[1]),2 in G&&(y.finallyLoc=G[2],y.afterLoc=G[3]),this.tryEntries.push(y)}function M(G){var y=G.completion||{};y.type="normal",delete y.arg,G.completion=y}function k(G){this.tryEntries=[{tryLoc:"root"}],G.forEach(Q,this),this.reset(!0)}function C(G){if(G){var y,g=G[m];if(g)return g.call(G);if(typeof G.next=="function")return G;if(!isNaN(G.length))return y=-1,(g=function N(){for(;++y<G.length;)if(c.call(G,y))return N.value=G[y],N.done=!1,N;return N.value=I,N.done=!0,N}).next=g}return{next:j}}function j(){return{value:I,done:!0}}return(L.prototype=J.constructor=U).constructor=L,U[a]=L.displayName="GeneratorFunction",o.isGeneratorFunction=function(G){return G=typeof G=="function"&&G.constructor,!!G&&(G===L||(G.displayName||G.name)==="GeneratorFunction")},o.mark=function(G){return Object.setPrototypeOf?Object.setPrototypeOf(G,U):(G.__proto__=U,a in G||(G[a]="GeneratorFunction")),G.prototype=Object.create(J),G},o.awrap=function(G){return{__await:G}},S(A.prototype),A.prototype[P]=function(){return this},o.AsyncIterator=A,o.async=function(G,y,g,N){var w=new A(n(G,y,g,N));return o.isGeneratorFunction(y)?w:w.next().then(function(ce){return ce.done?ce.value:w.next()})},S(J),J[a]="Generator",J[m]=function(){return this},J.toString=function(){return"[object Generator]"},o.keys=function(G){var y,g=[];for(y in G)g.push(y);return g.reverse(),function N(){for(;g.length;){var w=g.pop();if(w in G)return N.value=w,N.done=!1,N}return N.done=!0,N}},o.values=C,k.prototype={constructor:k,reset:function(G){if(this.prev=0,this.next=0,this.sent=this._sent=I,this.done=!1,this.delegate=null,this.method="next",this.arg=I,this.tryEntries.forEach(M),!G)for(var y in this)y.charAt(0)==="t"&&c.call(this,y)&&!isNaN(+y.slice(1))&&(this[y]=I)},stop:function(){this.done=!0;var G=this.tryEntries[0].completion;if(G.type==="throw")throw G.arg;return this.rval},dispatchException:function(G){if(this.done)throw G;var y=this;function g(E,Z){return ce.type="throw",ce.arg=G,y.next=E,Z&&(y.method="next",y.arg=I),!!Z}for(var N=this.tryEntries.length-1;0<=N;--N){var w=this.tryEntries[N],ce=w.completion;if(w.tryLoc==="root")return g("end");if(w.tryLoc<=this.prev){var F=c.call(w,"catchLoc"),f=c.call(w,"finallyLoc");if(F&&f){if(this.prev<w.catchLoc)return g(w.catchLoc,!0);if(this.prev<w.finallyLoc)return g(w.finallyLoc)}else if(F){if(this.prev<w.catchLoc)return g(w.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<w.finallyLoc)return g(w.finallyLoc)}}}},abrupt:function(G,y){for(var g=this.tryEntries.length-1;0<=g;--g){var N=this.tryEntries[g];if(N.tryLoc<=this.prev&&c.call(N,"finallyLoc")&&this.prev<N.finallyLoc){var w=N;break}}var ce=(w=w&&(G==="break"||G==="continue")&&w.tryLoc<=y&&y<=w.finallyLoc?null:w)?w.completion:{};return ce.type=G,ce.arg=y,w?(this.method="next",this.next=w.finallyLoc,$):this.complete(ce)},complete:function(G,y){if(G.type==="throw")throw G.arg;return G.type==="break"||G.type==="continue"?this.next=G.arg:G.type==="return"?(this.rval=this.arg=G.arg,this.method="return",this.next="end"):G.type==="normal"&&y&&(this.next=y),$},finish:function(G){for(var y=this.tryEntries.length-1;0<=y;--y){var g=this.tryEntries[y];if(g.finallyLoc===G)return this.complete(g.completion,g.afterLoc),M(g),$}},catch:function(G){for(var y=this.tryEntries.length-1;0<=y;--y){var g,N,w=this.tryEntries[y];if(w.tryLoc===G)return(g=w.completion).type==="throw"&&(N=g.arg,M(w)),N}throw new Error("illegal catch attempt")},delegateYield:function(G,y,g){return this.delegate={iterator:C(G),resultName:y,nextLoc:g},this.method==="next"&&(this.arg=I),$}},o}(typeof X=="object"?X.exports:{});try{regeneratorRuntime=X}catch{Function("r","regeneratorRuntime = r")(X)}},{}],261:[function(i,X,p){(function(o){"use strict";var I,D,c,m,P,a,n,r,d,s;function t(M){if(typeof M!="string"&&(M=String(M)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(M))throw new TypeError("Invalid character in header field name");return M.toLowerCase()}function l(M){return M=typeof M!="string"?String(M):M}function $(M){var k={next:function(){var C=M.shift();return{done:C===void 0,value:C}}};return D&&(k[Symbol.iterator]=function(){return k}),k}function h(M){this.map={},M instanceof h?M.forEach(function(k,C){this.append(C,k)},this):Array.isArray(M)?M.forEach(function(k){this.append(k[0],k[1])},this):M&&Object.getOwnPropertyNames(M).forEach(function(k){this.append(k,M[k])},this)}function L(M){if(M.bodyUsed)return Promise.reject(new TypeError("Already read"));M.bodyUsed=!0}function U(M){return new Promise(function(k,C){M.onload=function(){k(M.result)},M.onerror=function(){C(M.error)}})}function T(M){var k=new FileReader,C=U(k);return k.readAsArrayBuffer(M),C}function B(M){var k;return M.slice?M.slice(0):((k=new Uint8Array(M.byteLength)).set(new Uint8Array(M)),k.buffer)}function J(){return this.bodyUsed=!1,this._initBody=function(M){if(this._bodyInit=M)if(typeof M=="string")this._bodyText=M;else if(c&&Blob.prototype.isPrototypeOf(M))this._bodyBlob=M;else if(m&&FormData.prototype.isPrototypeOf(M))this._bodyFormData=M;else if(I&&URLSearchParams.prototype.isPrototypeOf(M))this._bodyText=M.toString();else if(P&&c&&n(M))this._bodyArrayBuffer=B(M.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!P||!ArrayBuffer.prototype.isPrototypeOf(M)&&!r(M))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=B(M)}else this._bodyText="";this.headers.get("content-type")||(typeof M=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):I&&URLSearchParams.prototype.isPrototypeOf(M)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c&&(this.blob=function(){var M=L(this);if(M)return M;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?L(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(T)}),this.text=function(){var M,k,C=L(this);if(C)return C;if(this._bodyBlob)return C=this._bodyBlob,M=new FileReader,k=U(M),M.readAsText(C),k;if(this._bodyArrayBuffer)return Promise.resolve(function(j){for(var G=new Uint8Array(j),y=new Array(G.length),g=0;g<G.length;g++)y[g]=String.fromCharCode(G[g]);return y.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},m&&(this.formData=function(){return this.text().then(A)}),this.json=function(){return this.text().then(JSON.parse)},this}function S(M,k){var C,j=(k=k||{}).body;if(M instanceof S){if(M.bodyUsed)throw new TypeError("Already read");this.url=M.url,this.credentials=M.credentials,k.headers||(this.headers=new h(M.headers)),this.method=M.method,this.mode=M.mode,j||M._bodyInit==null||(j=M._bodyInit,M.bodyUsed=!0)}else this.url=String(M);if(this.credentials=k.credentials||this.credentials||"omit",!k.headers&&this.headers||(this.headers=new h(k.headers)),this.method=(M=k.method||this.method||"GET",C=M.toUpperCase(),-1<d.indexOf(C)?C:M),this.mode=k.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&j)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(j)}function A(M){var k=new FormData;return M.trim().split("&").forEach(function(C){var j;C&&(j=(C=C.split("=")).shift().replace(/\+/g," "),C=C.join("=").replace(/\+/g," "),k.append(decodeURIComponent(j),decodeURIComponent(C)))}),k}function Q(M,k){k=k||{},this.type="default",this.status=k.status===void 0?200:k.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in k?k.statusText:"OK",this.headers=new h(k.headers),this.url=k.url||"",this._initBody(M)}o.fetch||(I="URLSearchParams"in o,D="Symbol"in o&&"iterator"in Symbol,c="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),m="FormData"in o,(P="ArrayBuffer"in o)&&(a=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],n=function(M){return M&&DataView.prototype.isPrototypeOf(M)},r=ArrayBuffer.isView||function(M){return M&&-1<a.indexOf(Object.prototype.toString.call(M))}),h.prototype.append=function(M,k){M=t(M),k=l(k);var C=this.map[M];this.map[M]=C?C+","+k:k},h.prototype.delete=function(M){delete this.map[t(M)]},h.prototype.get=function(M){return M=t(M),this.has(M)?this.map[M]:null},h.prototype.has=function(M){return this.map.hasOwnProperty(t(M))},h.prototype.set=function(M,k){this.map[t(M)]=l(k)},h.prototype.forEach=function(M,k){for(var C in this.map)this.map.hasOwnProperty(C)&&M.call(k,this.map[C],C,this)},h.prototype.keys=function(){var M=[];return this.forEach(function(k,C){M.push(C)}),$(M)},h.prototype.values=function(){var M=[];return this.forEach(function(k){M.push(k)}),$(M)},h.prototype.entries=function(){var M=[];return this.forEach(function(k,C){M.push([C,k])}),$(M)},D&&(h.prototype[Symbol.iterator]=h.prototype.entries),d=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],S.prototype.clone=function(){return new S(this,{body:this._bodyInit})},J.call(S.prototype),J.call(Q.prototype),Q.prototype.clone=function(){return new Q(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new h(this.headers),url:this.url})},Q.error=function(){var M=new Q(null,{status:0,statusText:""});return M.type="error",M},s=[301,302,303,307,308],Q.redirect=function(M,k){if(s.indexOf(k)===-1)throw new RangeError("Invalid status code");return new Q(null,{status:k,headers:{location:M}})},o.Headers=h,o.Request=S,o.Response=Q,o.fetch=function(M,k){return new Promise(function(C,j){var G=new S(M,k),y=new XMLHttpRequest;y.onload=function(){var g,N={status:y.status,statusText:y.statusText,headers:(N=y.getAllResponseHeaders()||"",g=new h,N.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(F){var F=F.split(":"),f=F.shift().trim();f&&(F=F.join(":").trim(),g.append(f,F))}),g)},w=(N.url="responseURL"in y?y.responseURL:N.headers.get("X-Request-URL"),"response"in y?y.response:y.responseText);C(new Q(w,N))},y.onerror=function(){j(new TypeError("Network request failed"))},y.ontimeout=function(){j(new TypeError("Network request failed"))},y.open(G.method,G.url,!0),G.credentials==="include"?y.withCredentials=!0:G.credentials==="omit"&&(y.withCredentials=!1),"responseType"in y&&c&&(y.responseType="blob"),G.headers.forEach(function(g,N){y.setRequestHeader(N,g)}),y.send(G._bodyInit===void 0?null:G._bodyInit)})},o.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(i,X,p){"use strict";i("core-js/modules/es.function.name"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.split"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o,I=c(i("../core/main")),D=c(i("../color/color_conversion"));function c(a){return a&&a.__esModule?a:{default:a}}var m=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],P=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];I.default.prototype._rgbColorName=function(d){var n,r,d=D.default._rgbaToHSBA(d),s=[(o=d)[0],d[1],d[2]];s[0]!==0&&(s[0]=Math.round(100*s[0]),(d=s[0].toString().split(""))[r=d.length-1]=parseInt(d[r]),d[r]<2.5?d[r]=0:2.5<=d[r]&&d[r]<7.5&&(d[r]=5),d.length===2?(d[0]=parseInt(d[0]),7.5<=d[r]&&(d[r]=0,d[0]=d[0]+1),s[0]=10*d[0]+d[1]):7.5<=d[r]?s[0]=10:s[0]=d[r]),s[2]=s[2]/255;for(var t=s.length-1;1<=t;t--)s[t]<=.25?s[t]=0:.25<s[t]&&s[t]<.75?s[t]=.5:s[t]=1;if(s[0]===0&&s[1]===0&&s[2]===1){for(var l=2;0<=l;l--)o[l]=Math.round(1e4*o[l])/1e4;for(var $=0;$<m.length;$++){if(m[$].h===o[0]&&m[$].s===o[1]&&m[$].b===o[2]){n=m[$].name;break}n="white"}}else for(var h=0;h<P.length;h++)if(P[h].h===s[0]&&P[h].s===s[1]&&P[h].b===s[2]){n=P[h].name;break}return n},i=I.default,p.default=i},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(i,X,p){"use strict";i("core-js/modules/es.array.concat"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.ends-with"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.ends-with"),i("core-js/modules/es.string.replace"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i},I="_Description",D="_fallbackDesc",c="_fallbackTable",m="_Label",P="_labelDesc",a="_labelTable";function n(r){if(r==="label"||r==="fallback")throw new Error("description should not be LABEL or FALLBACK");return r.endsWith(".")||r.endsWith(";")||r.endsWith(",")||r.endsWith("?")||r.endsWith("!")||(r+="."),r}o.default.prototype.describe=function(r,d){var s;o.default._validateParameters("describe",arguments),typeof r=="string"&&(s=this.canvas.id,r=n(r),this.dummyDOM||(this.dummyDOM=document.getElementById(s).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==r&&(this.descriptions.fallback.innerHTML=r):this._describeHTML("fallback",r),d===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==r&&(this.descriptions.label.innerHTML=r):this._describeHTML("label",r)))},o.default.prototype.describeElement=function(r,d,s){var t,l;o.default._validateParameters("describeElement",arguments),typeof d=="string"&&typeof r=="string"&&(t=this.canvas.id,d=n(d),l=function($){if($==="label"||$==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return $.endsWith(".")||$.endsWith(";")||$.endsWith(",")?$=$.replace(/.$/,":"):$.endsWith(":")||($+=":"),$}(r),r=r.replace(/[^a-zA-Z0-9]/g,""),l='<th scope="row">'.concat(l,"</th><td>").concat(d,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(t).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[r]?this.descriptions.fallbackElements[r].innerHTML!==l&&(this.descriptions.fallbackElements[r].innerHTML=l):this._describeElementHTML("fallback",r,l),s===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[r]?this.descriptions.labelElements[r].innerHTML!==l&&(this.descriptions.labelElements[r].innerHTML=l):this._describeElementHTML("label",r,l)))},o.default.prototype._describeHTML=function(r,d){var s,t=this.canvas.id;r==="fallback"?(this.dummyDOM.querySelector("#".concat(t+I))?this.dummyDOM.querySelector("#"+t+c).insertAdjacentHTML("beforebegin",'<p id="'.concat(t+D,'"></p>')):(s='<div id="'.concat(t).concat(I,'" role="region" aria-label="Canvas Description"><p id="').concat(t).concat(D,'"></p></div>'),this.dummyDOM.querySelector("#".concat(t,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(t,"accessibleOutput")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#".concat(t)).innerHTML=s),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(t).concat(D)),this.descriptions.fallback.innerHTML=d):r==="label"&&(this.dummyDOM.querySelector("#".concat(t+m))?this.dummyDOM.querySelector("#".concat(t+a))&&this.dummyDOM.querySelector("#".concat(t+a)).insertAdjacentHTML("beforebegin",'<p id="'.concat(t).concat(P,'"></p>')):(s='<div id="'.concat(t).concat(m,'" class="p5Label"><p id="').concat(t).concat(P,'"></p></div>'),this.dummyDOM.querySelector("#".concat(t,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(t,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",s):this.dummyDOM.querySelector("#"+t).insertAdjacentHTML("afterend",s)),this.descriptions.label=this.dummyDOM.querySelector("#"+t+P),this.descriptions.label.innerHTML=d)},o.default.prototype._describeElementHTML=function(r,d,s){var t,l=this.canvas.id;r==="fallback"?(this.dummyDOM.querySelector("#".concat(l+I))?this.dummyDOM.querySelector("#"+l+c)||this.dummyDOM.querySelector("#"+l+D).insertAdjacentHTML("afterend",'<table id="'.concat(l).concat(c,'"><caption>Canvas elements and their descriptions</caption></table>')):(t='<div id="'.concat(l).concat(I,'" role="region" aria-label="Canvas Description"><table id="').concat(l).concat(c,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutput")).insertAdjacentHTML("beforebegin",t):this.dummyDOM.querySelector("#"+l).innerHTML=t),(t=document.createElement("tr")).id=l+"_fte_"+d,this.dummyDOM.querySelector("#"+l+c).appendChild(t),this.descriptions.fallbackElements[d]=this.dummyDOM.querySelector("#".concat(l).concat("_fte_").concat(d)),this.descriptions.fallbackElements[d].innerHTML=s):r==="label"&&(this.dummyDOM.querySelector("#".concat(l+m))?this.dummyDOM.querySelector("#".concat(l+a))||this.dummyDOM.querySelector("#"+l+P).insertAdjacentHTML("afterend",'<table id="'.concat(l+a,'"></table>')):(t='<div id="'.concat(l).concat(m,'" class="p5Label"><table id="').concat(l).concat(a,'"></table></div>'),this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(l,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",t):this.dummyDOM.querySelector("#"+l).insertAdjacentHTML("afterend",t)),(r=document.createElement("tr")).id=l+"_lte_"+d,this.dummyDOM.querySelector("#"+l+a).appendChild(r),this.descriptions.labelElements[d]=this.dummyDOM.querySelector("#".concat(l).concat("_lte_").concat(d)),this.descriptions.labelElements[d].innerHTML=s)},i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(i,X,p){"use strict";i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.map"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.map"),i("core-js/modules/es.string.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i},i.default.prototype._updateGridOutput=function(o){var I,D,c,m;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(I=this._accessibleOutputs[o],c=function(P,a,n,r){return a="".concat(a," canvas, ").concat(n," by ").concat(r," pixels, contains ").concat(P[0]),a=(P[0]===1?"".concat(a," shape: "):"".concat(a," shapes: ")).concat(P[1]),a}((D=function(P,a){var n,r="",d="",s=0;for(n in a){var t,l=0;for(t in a[n]){var $='<li id="'.concat(P,"shape").concat(s,'">').concat(a[n][t].color," ").concat(n,",");n==="line"?$+=" location = ".concat(a[n][t].pos,", length = ").concat(a[n][t].length," pixels"):($+=" location = ".concat(a[n][t].pos),n!=="point"&&($+=", area = ".concat(a[n][t].area," %")),$+="</li>"),r+=$,l++,s++}d=1<l?"".concat(d," ").concat(l," ").concat(n,"s"):"".concat(d," ").concat(l," ").concat(n)}return{numShapes:[s,d],details:r}}(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(P,a){var n,r,d=0,s="",t=Array.from(Array(10),function(){return Array(10)});for(n in a)for(var l in a[n]){var $=void 0;$=n!=="line"?'<a href="#'.concat(P,"shape").concat(d,'">').concat(a[n][l].color," ").concat(n,"</a>"):'<a href="#'.concat(P,"shape").concat(d,'">').concat(a[n][l].color," ").concat(n," midpoint</a>"),a[n][l].loc.locY<t.length&&a[n][l].loc.locX<t[a[n][l].loc.locY].length&&(t[a[n][l].loc.locY][a[n][l].loc.locX]?t[a[n][l].loc.locY][a[n][l].loc.locX]=t[a[n][l].loc.locY][a[n][l].loc.locX]+"  "+$:t[a[n][l].loc.locY][a[n][l].loc.locX]=$,d++)}for(r in t){var h,L="<tr>";for(h in t[r])L+="<td>",t[r][h]!==void 0&&(L+=t[r][h]),L+="</td>";s=s+L+"</tr>"}return s}(o,this.ingredients.shapes),c!==I.summary.innerHTML&&(I.summary.innerHTML=c),m!==I.map.innerHTML&&(I.map.innerHTML=m),D.details!==I.shapeDetails.innerHTML&&(I.shapeDetails.innerHTML=D.details),this._accessibleOutputs[o]=I)},i=i.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.number.to-fixed"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.map"),i("core-js/modules/es.number.to-fixed"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};function I(c){return function(m){if(Array.isArray(m)){for(var P=0,a=new Array(m.length);P<m.length;P++)a[P]=m[P];return a}}(c)||function(m){if(Symbol.iterator in Object(m)||Object.prototype.toString.call(m)==="[object Arguments]")return Array.from(m)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function D(c,m,P){return m=Math.floor(c[0]/m*10),c=Math.floor(c[1]/P*10),m===10&&(m-=1),c===10&&(c-=1),{locX:m,locY:c}}o.default.prototype.textOutput=function(c){o.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},o.default.prototype.gridOutput=function(c){o.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),c===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},o.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},o.default.prototype._createOutput=function(c,m){var P,a,n,r=this.canvas.id,d=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(r).parentNode),"");m==="Fallback"?(P=r+c,this.dummyDOM.querySelector("#".concat(a=r+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(r,"_Description"))?this.dummyDOM.querySelector("#".concat(r,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(r)).innerHTML='<div id="'.concat(a,'" role="region" aria-label="Canvas Outputs"></div>'))):m==="Label"&&(P=r+c+(d=m),this.dummyDOM.querySelector("#".concat(a=r+"accessibleOutput"+m))||(this.dummyDOM.querySelector("#".concat(r,"_Label"))?this.dummyDOM.querySelector("#".concat(r,"_Label")):this.dummyDOM.querySelector("#".concat(r))).insertAdjacentHTML("afterend",'<div id="'.concat(a,'"></div>'))),this._accessibleOutputs[P]={},c==="textOutput"?(d="#".concat(r,"gridOutput").concat(d),n='<div id="'.concat(P,'">Text Output<div id="').concat(P,'Summary" aria-label="text output summary"><p id="').concat(P,'_summary"></p><ul id="').concat(P,'_list"></ul></div><table id="').concat(P,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(d)?this.dummyDOM.querySelector(d).insertAdjacentHTML("beforebegin",n):this.dummyDOM.querySelector("#".concat(a)).innerHTML=n,this._accessibleOutputs[P].list=this.dummyDOM.querySelector("#".concat(P,"_list"))):c==="gridOutput"&&(d="#".concat(r,"textOutput").concat(d),n='<div id="'.concat(P,'">Grid Output<p id="').concat(P,'_summary" aria-label="grid output summary"><table id="').concat(P,'_map" summary="grid output content"></table><ul id="').concat(P,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(d)?this.dummyDOM.querySelector(d).insertAdjacentHTML("afterend",n):this.dummyDOM.querySelector("#".concat(a)).innerHTML=n,this._accessibleOutputs[P].map=this.dummyDOM.querySelector("#".concat(P,"_map"))),this._accessibleOutputs[P].shapeDetails=this.dummyDOM.querySelector("#".concat(P,"_shapeDetails")),this._accessibleOutputs[P].summary=this.dummyDOM.querySelector("#".concat(P,"_summary"))},o.default.prototype._updateAccsOutput=function(){var c=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(c+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(c+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(c+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(c+"gridOutputLabel"))},o.default.prototype._accsBackground=function(c){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==c&&(this.ingredients.colors.backgroundRGBA=c,this.ingredients.colors.background=this._rgbColorName(c))},o.default.prototype._accsCanvasColors=function(c,m){c==="fill"?this.ingredients.colors.fillRGBA!==m&&(this.ingredients.colors.fillRGBA=m,this.ingredients.colors.fill=this._rgbColorName(m)):c==="stroke"&&this.ingredients.colors.strokeRGBA!==m&&(this.ingredients.colors.strokeRGBA=m,this.ingredients.colors.stroke=this._rgbColorName(m))},o.default.prototype._accsOutput=function(c,m){c==="ellipse"&&m[2]===m[3]?c="circle":c==="rectangle"&&m[2]===m[3]&&(c="square");var P,a,n={},r=!0,d=function(t,l){var $;return t=t==="rectangle"||t==="ellipse"||t==="arc"||t==="circle"||t==="square"?($=Math.round(l[0]+l[2]/2),Math.round(l[1]+l[3]/2)):t==="triangle"?($=(l[0]+l[2]+l[4])/3,(l[1]+l[3]+l[5])/3):t==="quadrilateral"?($=(l[0]+l[2]+l[4]+l[6])/4,(l[1]+l[3]+l[5]+l[7])/4):t==="line"?($=(l[0]+l[2])/2,(l[1]+l[3])/2):($=l[0],l[1]),[$,t]}(c,m);if(c==="line"?(n.color=this.ingredients.colors.stroke,n.length=Math.round(this.dist(m[0],m[1],m[2],m[3])),P=this._getPos(m[0],[1]),a=this._getPos(m[2],[3]),n.loc=D(d,this.width,this.height),n.pos=P===a?"at ".concat(P):"from ".concat(P," to ").concat(a)):(c==="point"?n.color=this.ingredients.colors.stroke:(n.color=this.ingredients.colors.fill,n.area=this._getArea(c,m)),n.pos=this._getPos.apply(this,I(d)),n.loc=D(d,this.width,this.height)),this.ingredients.shapes[c]){if(this.ingredients.shapes[c]!==[n]){for(var s in this.ingredients.shapes[c])JSON.stringify(this.ingredients.shapes[c][s])===JSON.stringify(n)&&(r=!1);r===!0&&this.ingredients.shapes[c].push(n)}}else this.ingredients.shapes[c]=[n]},o.default.prototype._getPos=function(a,P){var a=new DOMPointReadOnly(a,P),P=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),a=a.matrixTransform(P),P=a.x,a=a.y,n=this.width*this._pixelDensity,r=this.height*this._pixelDensity;return P<.4*n?a<.4*r?"top left":.6*r<a?"bottom left":"mid left":.6*n<P?a<.4*r?"top right":.6*r<a?"bottom right":"mid right":a<.4*r?"top middle":.6*r<a?"bottom middle":"middle"},o.default.prototype._getArea=function(c,m){var P,a,n=0,r=(c==="arc"?(n=(P=((m[5]-m[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*m[2]*m[3]/8,m[6]!=="open"&&m[6]!=="chord"||(a=m[0],l=m[1],r=m[0]+m[2]/2*Math.cos(m[4]).toFixed(2),$=m[1]+m[3]/2*Math.sin(m[4]).toFixed(2),s=m[0]+m[2]/2*Math.cos(m[5]).toFixed(2),d=m[1]+m[3]/2*Math.sin(m[5]).toFixed(2),a=Math.abs(a*($-d)+r*(d-l)+s*(l-$))/2,P>Math.PI?n+=a:n-=a)):c==="ellipse"||c==="circle"?n=3.14*m[2]/2*m[3]/2:c==="line"||c==="point"?n=0:c==="quadrilateral"?n=Math.abs((m[6]+m[0])*(m[7]-m[1])+(m[0]+m[2])*(m[1]-m[3])+(m[2]+m[4])*(m[3]-m[5])+(m[4]+m[6])*(m[5]-m[7]))/2:c==="rectangle"||c==="square"?n=m[2]*m[3]:c==="triangle"&&(n=Math.abs(m[0]*(m[3]-m[5])+m[2]*(m[5]-m[1])+m[4]*(m[1]-m[3]))/2),this.width*this._pixelDensity),d=this.height*this._pixelDensity,s=[new DOMPoint(0,0),new DOMPoint(r,0),new DOMPoint(r,d),new DOMPoint(0,d)],t=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),l=s.map(function(h){return h.matrixTransform(t)}),$=Math.abs((l[3].x+l[0].x)*(l[3].y-l[0].y)+(l[0].x+l[1].x)*(l[0].y-l[1].y)+(l[1].x+l[2].x)*(l[1].y-l[2].y)+(l[2].x+l[3].x)*(l[2].y-l[3].y))/2;return Math.round(100*n/$)},i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(i,X,p){"use strict";i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.concat"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i},i.default.prototype._updateTextOutput=function(o){var I,D,c,m;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(I=this._accessibleOutputs[o],c=function(P,a,n,r){return n="Your output is a, ".concat(n," by ").concat(r," pixels, ").concat(a," canvas containing the following"),n=P===1?"".concat(n," shape:"):"".concat(n," ").concat(P," shapes:"),n}((D=function(P,a){var n,r="",d=0;for(n in a)for(var s in a[n]){var t='<li><a href="#'.concat(P,"shape").concat(d,'">').concat(a[n][s].color," ").concat(n,"</a>");n==="line"?t+=", ".concat(a[n][s].pos,", ").concat(a[n][s].length," pixels long.</li>"):(t+=", at ".concat(a[n][s].pos),n!=="point"&&(t+=", covering ".concat(a[n][s].area,"% of the canvas")),t+=".</li>"),r+=t,d++}return{numShapes:d,listShapes:r}}(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),m=function(P,a){var n,r="",d=0;for(n in a)for(var s in a[n]){var t='<tr id="'.concat(P,"shape").concat(d,'"><th>').concat(a[n][s].color," ").concat(n,"</th>");n==="line"?t+="<td>location = ".concat(a[n][s].pos,"</td><td>length = ").concat(a[n][s].length," pixels</td></tr>"):(t+="<td>location = ".concat(a[n][s].pos,"</td>"),n!=="point"&&(t+="<td> area = ".concat(a[n][s].area,"%</td>")),t+="</tr>"),r+=t,d++}return r}(o,this.ingredients.shapes),c!==I.summary.innerHTML&&(I.summary.innerHTML=c),D.listShapes!==I.list.innerHTML&&(I.list.innerHTML=D.listShapes),m!==I.shapeDetails.innerHTML&&(I.shapeDetails.innerHTML=m),this._accessibleOutputs[o]=I)},i=i.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(i,X,p){"use strict";var o=(o=i("./core/main"))&&o.__esModule?o:{default:o};i("./core/constants"),i("./core/environment"),i("./core/friendly_errors/stacktrace"),i("./core/friendly_errors/validate_params"),i("./core/friendly_errors/file_errors"),i("./core/friendly_errors/fes_core"),i("./core/friendly_errors/sketch_reader"),i("./core/helpers"),i("./core/legacy"),i("./core/preload"),i("./core/p5.Element"),i("./core/p5.Graphics"),i("./core/p5.Renderer"),i("./core/p5.Renderer2D"),i("./core/rendering"),i("./core/shim"),i("./core/structure"),i("./core/transform"),i("./core/shape/2d_primitives"),i("./core/shape/attributes"),i("./core/shape/curves"),i("./core/shape/vertex"),i("./accessibility/outputs"),i("./accessibility/textOutput"),i("./accessibility/gridOutput"),i("./accessibility/color_namer"),i("./color/color_conversion"),i("./color/creating_reading"),i("./color/p5.Color"),i("./color/setting"),i("./data/p5.TypedDict"),i("./data/local_storage.js"),i("./dom/dom"),i("./accessibility/describe"),i("./events/acceleration"),i("./events/keyboard"),i("./events/mouse"),i("./events/touch"),i("./image/filters"),i("./image/image"),i("./image/loading_displaying"),i("./image/p5.Image"),i("./image/pixels"),i("./io/files"),i("./io/p5.Table"),i("./io/p5.TableRow"),i("./io/p5.XML"),i("./math/calculation"),i("./math/math"),i("./math/noise"),i("./math/p5.Vector"),i("./math/random"),i("./math/trigonometry"),i("./typography/attributes"),i("./typography/loading_displaying"),i("./typography/p5.Font"),i("./utilities/array_functions"),i("./utilities/conversion"),i("./utilities/string_functions"),i("./utilities/time_date"),i("./webgl/3d_primitives"),i("./webgl/interaction"),i("./webgl/light"),i("./webgl/loading"),i("./webgl/material"),i("./webgl/p5.Camera"),i("./webgl/p5.DataArray"),i("./webgl/p5.Geometry"),i("./webgl/p5.Matrix"),i("./webgl/p5.Quat"),i("./webgl/p5.RendererGL.Immediate"),i("./webgl/p5.RendererGL"),i("./webgl/p5.RendererGL.Retained"),i("./webgl/p5.Framebuffer"),i("./webgl/p5.Shader"),i("./webgl/p5.RenderBuffer"),i("./webgl/p5.Texture"),i("./webgl/text"),i("./core/init"),X.exports=o.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i},i.default.ColorConversion={_hsbaToHSLA:function(o){var I=o[0],D=o[1],c=o[2],m=(2-D)*c/2;return m!=0&&(m==1?D=0:m<.5?D/=2-D:D=D*c/(2-2*m)),[I,D,m,o[3]]},_hsbaToRGBA:function(o){var I,D,c,m,P,a=6*o[0],n=o[1],r=o[2];return n===0?[r,r,r,o[3]]:(D=r*(1-n),c=r*(1-n*(a-(I=Math.floor(a)))),n=r*(1-n*(1+I-a)),a=I===1?(m=c,P=r,D):I===2?(m=D,P=r,n):I===3?(m=D,P=c,r):I===4?(m=n,P=D,r):I===5?(m=r,P=D,c):(m=r,P=n,D),[m,P,a,o[3]])},_hslaToHSBA:function(o){var I=o[0],D=o[1],c=o[2],m=c<.5?(1+D)*c:c+D-c*D;return[I,D=2*(m-c)/m,m,o[3]]},_hslaToRGBA:function(o){var I,D=6*o[0],c=o[1],m=o[2];return c===0?[m,m,m,o[3]]:[(I=function(P,a,n){return P<0?P+=6:6<=P&&(P-=6),P<1?a+(n-a)*P:P<3?n:P<4?a+(n-a)*(4-P):a})(2+D,c=2*m-(m=m<.5?(1+c)*m:m+c-m*c),m),I(D,c,m),I(D-2,c,m),o[3]]},_rgbaToHSBA:function(o){var I,D,c=o[0],m=o[1],P=o[2],a=Math.max(c,m,P),n=a-Math.min(c,m,P);return n==0?D=I=0:(D=n/a,c===a?I=(m-P)/n:m===a?I=2+(P-c)/n:P===a&&(I=4+(c-m)/n),I<0?I+=6:6<=I&&(I-=6)),[I/6,D,a,o[3]]},_rgbaToHSLA:function(o){var I,D,c=o[0],m=o[1],P=o[2],a=Math.max(c,m,P),r=Math.min(c,m,P),n=a+r,r=a-r;return r==0?D=I=0:(D=n<1?r/n:r/(2-n),c===a?I=(m-P)/r:m===a?I=2+(P-c)/r:P===a&&(I=4+(c-m)/r),I<0?I+=6:6<=I&&(I-=6)),[I/6,D,n/2,o[3]]}},i=i.default.ColorConversion,p.default=i},{"../core/main":283}],269:[function(i,X,p){"use strict";function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(a)}function I(a){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(n){return o(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":o(n)})(a)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.map"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(P=i("../core/main"))&&P.__esModule?P:{default:P},c=function(a){if(a&&a.__esModule)return a;if(a===null||I(a)!=="object"&&typeof a!="function")return{default:a};var n=m();if(n&&n.has(a))return n.get(a);var r,d={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in a){var t;Object.prototype.hasOwnProperty.call(a,r)&&((t=s?Object.getOwnPropertyDescriptor(a,r):null)&&(t.get||t.set)?Object.defineProperty(d,r,t):d[r]=a[r])}return d.default=a,n&&n.set(a,d),d}(i("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}i("./p5.Color"),i("../core/friendly_errors/validate_params"),i("../core/friendly_errors/file_errors"),i("../core/friendly_errors/fes_core"),D.default.prototype.alpha=function(a){return D.default._validateParameters("alpha",arguments),this.color(a)._getAlpha()},D.default.prototype.blue=function(a){return D.default._validateParameters("blue",arguments),this.color(a)._getBlue()},D.default.prototype.brightness=function(a){return D.default._validateParameters("brightness",arguments),this.color(a)._getBrightness()},D.default.prototype.color=function(){for(var a,n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];return D.default._validateParameters("color",r),r[0]instanceof D.default.Color?r[0]:(a=Array.isArray(r[0])?r[0]:r,new D.default.Color(this,a))},D.default.prototype.green=function(a){return D.default._validateParameters("green",arguments),this.color(a)._getGreen()},D.default.prototype.hue=function(a){return D.default._validateParameters("hue",arguments),this.color(a)._getHue()},D.default.prototype.lerpColor=function(a,n,r){D.default._validateParameters("lerpColor",arguments);var d,s,t,l=this._colorMode,$=this._colorMaxes;if(l===c.RGB)s=a.levels.map(function(h){return h/255}),t=n.levels.map(function(h){return h/255});else if(l===c.HSB)a._getBrightness(),n._getBrightness(),s=a.hsba,t=n.hsba;else{if(l!==c.HSL)throw new Error("".concat(l," cannot be used for interpolation."));a._getLightness(),n._getLightness(),s=a.hsla,t=n.hsla}return r=Math.max(Math.min(r,1),0),this.lerp===void 0&&(this.lerp=function(h,L,U){return U*(L-h)+h}),l===c.RGB?d=this.lerp(s[0],t[0],r):(.5<Math.abs(s[0]-t[0])&&(s[0]>t[0]?t[0]+=1:s[0]+=1),1<=(d=this.lerp(s[0],t[0],r))&&--d),a=this.lerp(s[1],t[1],r),n=this.lerp(s[2],t[2],r),s=this.lerp(s[3],t[3],r),d*=$[l][0],a*=$[l][1],n*=$[l][2],s*=$[l][3],this.color(d,a,n,s)},D.default.prototype.lightness=function(a){return D.default._validateParameters("lightness",arguments),this.color(a)._getLightness()},D.default.prototype.red=function(a){return D.default._validateParameters("red",arguments),this.color(a)._getRed()},D.default.prototype.saturation=function(a){return D.default._validateParameters("saturation",arguments),this.color(a)._getSaturation()};var P=D.default;p.default=P},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(d,X,p){"use strict";function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(h)}function I(h){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(L){return o(L)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":o(L)})(h)}d("core-js/modules/es.symbol"),d("core-js/modules/es.symbol.description"),d("core-js/modules/es.symbol.iterator"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.iterator"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.get-own-property-descriptor"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.iterator"),d("core-js/modules/es.string.trim"),d("core-js/modules/es.weak-map"),d("core-js/modules/web.dom-collections.iterator"),d("core-js/modules/es.array.includes"),d("core-js/modules/es.array.join"),d("core-js/modules/es.array.map"),d("core-js/modules/es.array.slice"),d("core-js/modules/es.object.to-string"),d("core-js/modules/es.regexp.constructor"),d("core-js/modules/es.regexp.exec"),d("core-js/modules/es.regexp.to-string"),d("core-js/modules/es.string.includes"),d("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=a(d("../core/main")),c=function(h){if(h&&h.__esModule)return h;if(h===null||I(h)!=="object"&&typeof h!="function")return{default:h};var L=P();if(L&&L.has(h))return L.get(h);var U,T={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in h){var J;Object.prototype.hasOwnProperty.call(h,U)&&((J=B?Object.getOwnPropertyDescriptor(h,U):null)&&(J.get||J.set)?Object.defineProperty(T,U,J):T[U]=h[U])}return T.default=h,L&&L.set(h,T),T}(d("../core/constants")),m=a(d("./color_conversion"));function P(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,P=function(){return h},h)}function a(h){return h&&h.__esModule?h:{default:h}}function n(h,L){for(var U=0;U<L.length;U++){var T=L[U];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(h,T.key,T)}}var r={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},d=/\s*/,$=/(\d{1,3})/,s=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,t=new RegExp("".concat(s.source,"%")),l={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",$.source,",",$.source,",",$.source,"\\)$"].join(d.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",t.source,",",t.source,",",t.source,"\\)$"].join(d.source),"i"),RGBA:new RegExp(["^rgba\\(",$.source,",",$.source,",",$.source,",",s.source,"\\)$"].join(d.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",t.source,",",t.source,",",t.source,",",s.source,"\\)$"].join(d.source),"i"),HSL:new RegExp(["^hsl\\(",$.source,",",t.source,",",t.source,"\\)$"].join(d.source),"i"),HSLA:new RegExp(["^hsla\\(",$.source,",",t.source,",",t.source,",",s.source,"\\)$"].join(d.source),"i"),HSB:new RegExp(["^hsb\\(",$.source,",",t.source,",",t.source,"\\)$"].join(d.source),"i"),HSBA:new RegExp(["^hsba\\(",$.source,",",t.source,",",t.source,",",s.source,"\\)$"].join(d.source),"i")},$=(D.default.Color=function(){function h(B,J){if(!(this instanceof h))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(B._colorMode,B._colorMaxes),![c.RGB,c.HSL,c.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=h._parseInputs.apply(this,J),this._calculateLevels()}var L,U,T;return L=h,T=[{key:"_parseInputs",value:function(B,J,S,A){var Q,M=arguments.length,k=this.mode,C=this.maxes[k],j=[];if(3<=M){for(j[0]=B/C[0],j[1]=J/C[1],j[2]=S/C[2],j[3]=typeof A=="number"?A/C[3]:1,Q=j.length-1;0<=Q;--Q){var G=j[Q];G<0?j[Q]=0:1<G&&(j[Q]=1)}return k===c.HSL?m.default._hslaToRGBA(j):k===c.HSB?m.default._hsbaToRGBA(j):j}if(M===1&&typeof B=="string"){if(S=B.trim().toLowerCase(),r[S])return h._parseInputs.call(this,r[S]);if(l.HEX3.test(S))return(j=l.HEX3.exec(S).slice(1).map(function(y){return parseInt(y+y,16)/255}))[3]=1,j;if(l.HEX6.test(S))return(j=l.HEX6.exec(S).slice(1).map(function(y){return parseInt(y,16)/255}))[3]=1,j;if(l.HEX4.test(S))return j=l.HEX4.exec(S).slice(1).map(function(y){return parseInt(y+y,16)/255});if(l.HEX8.test(S))return j=l.HEX8.exec(S).slice(1).map(function(y){return parseInt(y,16)/255});if(l.RGB.test(S))return(j=l.RGB.exec(S).slice(1).map(function(y){return y/255}))[3]=1,j;if(l.RGB_PERCENT.test(S))return(j=l.RGB_PERCENT.exec(S).slice(1).map(function(y){return parseFloat(y)/100}))[3]=1,j;if(l.RGBA.test(S))return j=l.RGBA.exec(S).slice(1).map(function(y,g){return g===3?parseFloat(y):y/255});if(l.RGBA_PERCENT.test(S))return j=l.RGBA_PERCENT.exec(S).slice(1).map(function(y,g){return g===3?parseFloat(y):parseFloat(y)/100});if(l.HSL.test(S)?(j=l.HSL.exec(S).slice(1).map(function(y,g){return g===0?parseInt(y,10)/360:parseInt(y,10)/100}))[3]=1:l.HSLA.test(S)&&(j=l.HSLA.exec(S).slice(1).map(function(y,g){return g===0?parseInt(y,10)/360:g===3?parseFloat(y):parseInt(y,10)/100})),(j=j.map(function(y){return Math.max(Math.min(y,1),0)})).length)return m.default._hslaToRGBA(j);if(l.HSB.test(S)?(j=l.HSB.exec(S).slice(1).map(function(y,g){return g===0?parseInt(y,10)/360:parseInt(y,10)/100}))[3]=1:l.HSBA.test(S)&&(j=l.HSBA.exec(S).slice(1).map(function(y,g){return g===0?parseInt(y,10)/360:g===3?parseFloat(y):parseInt(y,10)/100})),j.length){for(Q=j.length-1;0<=Q;--Q)j[Q]=Math.max(Math.min(j[Q],1),0);return m.default._hsbaToRGBA(j)}j=[1,1,1,1]}else{if(M!==1&&M!==2||typeof B!="number")throw new Error("".concat(arguments,"is not a valid color representation."));j[0]=B/C[2],j[1]=B/C[2],j[2]=B/C[2],j[3]=typeof J=="number"?J/C[3]:1,j=j.map(function(y){return Math.max(Math.min(y,1),0)})}return j}}],(U=[{key:"toString",value:function(B){var J=this.levels,S=this._array,A=S[3];switch(B){case"#rrggbb":return"#".concat(J[0]<16?"0".concat(J[0].toString(16)):J[0].toString(16),J[1]<16?"0".concat(J[1].toString(16)):J[1].toString(16),J[2]<16?"0".concat(J[2].toString(16)):J[2].toString(16));case"#rrggbbaa":return"#".concat(J[0]<16?"0".concat(J[0].toString(16)):J[0].toString(16),J[1]<16?"0".concat(J[1].toString(16)):J[1].toString(16),J[2]<16?"0".concat(J[2].toString(16)):J[2].toString(16),J[3]<16?"0".concat(J[3].toString(16)):J[3].toString(16));case"#rgb":return"#".concat(Math.round(15*S[0]).toString(16),Math.round(15*S[1]).toString(16),Math.round(15*S[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*S[0]).toString(16),Math.round(15*S[1]).toString(16),Math.round(15*S[2]).toString(16),Math.round(15*S[3]).toString(16));case"rgb":return"rgb(".concat(J[0],", ",J[1],", ",J[2],")");case"rgb%":return"rgb(".concat((100*S[0]).toPrecision(3),"%, ",(100*S[1]).toPrecision(3),"%, ",(100*S[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*S[0]).toPrecision(3),"%, ",(100*S[1]).toPrecision(3),"%, ",(100*S[2]).toPrecision(3),"%, ",(100*S[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[c.HSB][0],", ",this.hsba[1]*this.maxes[c.HSB][1],", ",this.hsba[2]*this.maxes[c.HSB][2],", ",A,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[c.HSL][0],", ",this.hsla[1]*this.maxes[c.HSL][1],", ",this.hsla[2]*this.maxes[c.HSL][2],", ",A,")");case"hsla%":return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*A).toPrecision(3),"%)");default:return"rgba(".concat(J[0],",",J[1],",",J[2],",",A,")")}}},{key:"setRed",value:function(B){this._array[0]=B/this.maxes[c.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(B){this._array[1]=B/this.maxes[c.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(B){this._array[2]=B/this.maxes[c.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(B){this._array[3]=B/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var B=this._array,J=this.levels=new Array(B.length),S=B.length-1;0<=S;--S)J[S]=Math.round(255*B[S]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(B,J){this.mode=B,this.maxes=J}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[c.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[c.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[c.RGB][1]}},{key:"_getHue",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[c.HSB][0]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[c.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[c.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[c.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===c.HSB?(this.hsba||(this.hsba=m.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[c.HSB][1]):(this.hsla||(this.hsla=m.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[c.HSL][1])}}])&&n(L.prototype,U),T&&n(L,T),h}(),D.default.Color);p.default=$},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(i,X,p){"use strict";function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(a)}function I(a){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(n){return o(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":o(n)})(a)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.fill"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(P=i("../core/main"))&&P.__esModule?P:{default:P},c=function(a){if(a&&a.__esModule)return a;if(a===null||I(a)!=="object"&&typeof a!="function")return{default:a};var n=m();if(n&&n.has(a))return n.get(a);var r,d={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in a){var t;Object.prototype.hasOwnProperty.call(a,r)&&((t=s?Object.getOwnPropertyDescriptor(a,r):null)&&(t.get||t.set)?Object.defineProperty(d,r,t):d[r]=a[r])}return d.default=a,n&&n.set(a,d),d}(i("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}i("./p5.Color"),D.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},D.default.prototype.endClip=function(){this._renderer.endClip()},D.default.prototype.clip=function(a,n){this._renderer.beginClip(n),a(),this._renderer.endClip(n)},D.default.prototype.background=function(){var a;return(a=this._renderer).background.apply(a,arguments),this},D.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},D.default.prototype.colorMode=function(a,n,r,d,s){return D.default._validateParameters("colorMode",arguments),a!==c.RGB&&a!==c.HSB&&a!==c.HSL||(this._colorMode=a,a=this._colorMaxes[a],arguments.length===2?(a[0]=n,a[1]=n,a[2]=n,a[3]=n):arguments.length===4?(a[0]=n,a[1]=r,a[2]=d):arguments.length===5&&(a[0]=n,a[1]=r,a[2]=d,a[3]=s)),this},D.default.prototype.fill=function(){var a;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(a=this._renderer).fill.apply(a,arguments),this},D.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},D.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},D.default.prototype.stroke=function(){var a;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(a=this._renderer).stroke.apply(a,arguments),this},D.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},D.default.prototype.noErase=function(){return this._renderer.noErase(),this};var P=D.default;p.default=P},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.QUADRATIC=p.LINEAR=p._CTX_MIDDLE=p._DEFAULT_LEADMULT=p._DEFAULT_TEXT_FILL=p.WORD=p.CHAR=p.BOLDITALIC=p.BOLD=p.ITALIC=p.NORMAL=p.BLUR=p.ERODE=p.DILATE=p.POSTERIZE=p.INVERT=p.OPAQUE=p.GRAY=p.THRESHOLD=p.BURN=p.DODGE=p.SOFT_LIGHT=p.HARD_LIGHT=p.OVERLAY=p.REPLACE=p.SCREEN=p.MULTIPLY=p.EXCLUSION=p.SUBTRACT=p.DIFFERENCE=p.LIGHTEST=p.DARKEST=p.ADD=p.REMOVE=p.BLEND=p.UP_ARROW=p.TAB=p.SHIFT=p.RIGHT_ARROW=p.RETURN=p.OPTION=p.LEFT_ARROW=p.ESCAPE=p.ENTER=p.DOWN_ARROW=p.DELETE=p.CONTROL=p.BACKSPACE=p.ALT=p.AUTO=p.HSL=p.HSB=p.RGB=p.MITER=p.BEVEL=p.ROUND=p.SQUARE=p.PROJECT=p.PIE=p.CHORD=p.OPEN=p.CLOSE=p.TESS=p.QUAD_STRIP=p.QUADS=p.TRIANGLE_STRIP=p.TRIANGLE_FAN=p.TRIANGLES=p.LINE_LOOP=p.LINE_STRIP=p.LINES=p.POINTS=p.BASELINE=p.BOTTOM=p.TOP=p.CENTER=p.LEFT=p.RIGHT=p.RADIUS=p.CORNERS=p.CORNER=p.RAD_TO_DEG=p.DEG_TO_RAD=p.RADIANS=p.DEGREES=p.TWO_PI=p.TAU=p.QUARTER_PI=p.PI=p.HALF_PI=p.WAIT=p.TEXT=p.MOVE=p.HAND=p.CROSS=p.ARROW=p.WEBGL2=p.WEBGL=p.P2D=p.VERSION=void 0,p.RGBA=p.HALF_FLOAT=p.FLOAT=p.UNSIGNED_INT=p.UNSIGNED_BYTE=p.COVER=p.CONTAIN=p.FALLBACK=p.LABEL=p.AXES=p.GRID=p._DEFAULT_FILL=p._DEFAULT_STROKE=p.PORTRAIT=p.LANDSCAPE=p.SMOOTH=p.FLAT=p.MIRROR=p.CLAMP=p.REPEAT=p.NEAREST=p.IMAGE=p.IMMEDIATE=p.TEXTURE=p.FILL=p.STROKE=p.CURVE=p.BEZIER=void 0;var o=Math.PI,I=(p.VERSION="1.10.0",p.P2D="p2d",p.WEBGL="webgl",p.WEBGL2="webgl2",p.ARROW="default",p.CROSS="crosshair",p.HAND="pointer",p.MOVE="move",p.TEXT="text",p.WAIT="wait",o/2),I=(p.HALF_PI=I,o),I=(p.PI=I,o/4),I=(p.QUARTER_PI=I,2*o),I=(p.TAU=I,2*o),I=(p.TWO_PI=I,p.DEGREES="degrees",p.RADIANS="radians",o/180),I=(p.DEG_TO_RAD=I,180/o);p.RAD_TO_DEG=I,p.CORNER="corner",p.CORNERS="corners",p.RADIUS="radius",p.RIGHT="right",p.LEFT="left",p.CENTER="center",p.TOP="top",p.BOTTOM="bottom",p.BASELINE="alphabetic",p.POINTS=0,p.LINES=1,p.LINE_STRIP=3,p.LINE_LOOP=2,p.TRIANGLES=4,p.TRIANGLE_FAN=6,p.TRIANGLE_STRIP=5,p.QUADS="quads",p.QUAD_STRIP="quad_strip",p.TESS="tess",p.CLOSE="close",p.OPEN="open",p.CHORD="chord",p.PIE="pie",p.PROJECT="square",p.SQUARE="butt",p.ROUND="round",p.BEVEL="bevel",p.MITER="miter",p.RGB="rgb",p.HSB="hsb",p.HSL="hsl",p.AUTO="auto",p.ALT=18,p.BACKSPACE=8,p.CONTROL=17,p.DELETE=46,p.DOWN_ARROW=40,p.ENTER=13,p.ESCAPE=27,p.LEFT_ARROW=37,p.OPTION=18,p.RETURN=13,p.RIGHT_ARROW=39,p.SHIFT=16,p.TAB=9,p.UP_ARROW=38,p.BLEND="source-over",p.REMOVE="destination-out",p.ADD="lighter",p.DARKEST="darken",p.LIGHTEST="lighten",p.DIFFERENCE="difference",p.SUBTRACT="subtract",p.EXCLUSION="exclusion",p.MULTIPLY="multiply",p.SCREEN="screen",p.REPLACE="copy",p.OVERLAY="overlay",p.HARD_LIGHT="hard-light",p.SOFT_LIGHT="soft-light",p.DODGE="color-dodge",p.BURN="color-burn",p.THRESHOLD="threshold",p.GRAY="gray",p.OPAQUE="opaque",p.INVERT="invert",p.POSTERIZE="posterize",p.DILATE="dilate",p.ERODE="erode",p.BLUR="blur",p.NORMAL="normal",p.ITALIC="italic",p.BOLD="bold",p.BOLDITALIC="bold italic",p.CHAR="CHAR",p.WORD="WORD",p._DEFAULT_TEXT_FILL="#000000",p._DEFAULT_LEADMULT=1.25,p._CTX_MIDDLE="middle",p.LINEAR="linear",p.QUADRATIC="quadratic",p.BEZIER="bezier",p.CURVE="curve",p.STROKE="stroke",p.FILL="fill",p.TEXTURE="texture",p.IMMEDIATE="immediate",p.IMAGE="image",p.NEAREST="nearest",p.REPEAT="repeat",p.CLAMP="clamp",p.MIRROR="mirror",p.FLAT="flat",p.SMOOTH="smooth",p.LANDSCAPE="landscape",p.PORTRAIT="portrait",p._DEFAULT_STROKE="#000000",p._DEFAULT_FILL="#FFFFFF",p.GRID="grid",p.AXES="axes",p.LABEL="label",p.FALLBACK="fallback",p.CONTAIN="contain",p.COVER="cover",p.UNSIGNED_BYTE="unsigned-byte",p.UNSIGNED_INT="unsigned-int",p.FLOAT="float",p.HALF_FLOAT="half-float",p.RGBA="rgba"},{}],273:[function(i,X,p){"use strict";function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(s)}function I(s){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(t){return o(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(s)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.search"),i("core-js/modules/es.string.split"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.search"),i("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(c=i("./main"))&&c.__esModule?c:{default:c},c=function(s){if(s&&s.__esModule)return s;if(s===null||I(s)!=="object"&&typeof s!="function")return{default:s};var t=m();if(t&&t.has(s))return t.get(s);var l,$={},h=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(l in s){var L;Object.prototype.hasOwnProperty.call(s,l)&&((L=h?Object.getOwnPropertyDescriptor(s,l):null)&&(L.get||L.set)?Object.defineProperty($,l,L):$[l]=s[l])}return $.default=s,t&&t.set(s,$),$}(i("./constants"));function m(){var s;return typeof WeakMap!="function"?null:(s=new WeakMap,m=function(){return s},s)}var P=[c.ARROW,c.CROSS,c.HAND,c.MOVE,c.TEXT,c.WAIT],a=(D.default.prototype._frameRate=0,D.default.prototype._lastFrameTime=window.performance.now(),D.default.prototype._targetFrameRate=60,window.print),n=!1;function r(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function d(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}D.default.prototype.print=function(){var s;arguments.length?(s=console).log.apply(s,arguments):n||(a(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(n=!0))},D.default.prototype.frameCount=0,D.default.prototype.deltaTime=0,D.default.prototype.focused=document.hasFocus(),D.default.prototype.cursor=function(s,t,l){var $,h="auto",L=this._curElement.elt;P.includes(s)?h=s:typeof s=="string"&&($="",t&&l&&typeof t=="number"&&typeof l=="number"&&($="".concat(t," ").concat(l)),h=s.substring(0,7)==="http://"||s.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(s)?"url(".concat(s,") ").concat($,", auto"):s),L.style.cursor=h},D.default.prototype.frameRate=function(s){return D.default._validateParameters("frameRate",arguments),typeof s!="number"||s<0?this._frameRate:(this._setProperty("_targetFrameRate",s),s===0&&this._setProperty("_frameRate",s),this)},D.default.prototype.getFrameRate=function(){return this.frameRate()},D.default.prototype.setFrameRate=function(s){return this.frameRate(s)},D.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},D.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},D.default.prototype.webglVersion=c.P2D,D.default.prototype.displayWidth=screen.width,D.default.prototype.displayHeight=screen.height,D.default.prototype.windowWidth=0,D.default.prototype.windowHeight=0,D.default.prototype._onresize=function(s){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",d());var t=this._isGlobal?window:this;typeof t.windowResized!="function"||(t=t.windowResized(s))===void 0||t||s.preventDefault()},D.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",r()),this._setProperty("windowHeight",d())},D.default.prototype.width=0,D.default.prototype.height=0,D.default.prototype.fullscreen=function(s){if(D.default._validateParameters("fullscreen",arguments),s===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(s){if(s=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");s.requestFullscreen?s.requestFullscreen():s.mozRequestFullScreen?s.mozRequestFullScreen():s.webkitRequestFullscreen?s.webkitRequestFullscreen():s.msRequestFullscreen&&s.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},D.default.prototype.pixelDensity=function(s){var t;return D.default._validateParameters("pixelDensity",arguments),typeof s=="number"?(s!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=s),(t=this).resizeCanvas(this.width,this.height,!0)):t=this._pixelDensity,t},D.default.prototype.displayDensity=function(){return window.devicePixelRatio},D.default.prototype.getURL=function(){return location.href},D.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(s){return s!==""})},D.default.prototype.getURLParams=function(){for(var s,t=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,l={};(s=t.exec(location.search))!=null;)s.index===t.lastIndex&&t.lastIndex++,l[s[1]]=s[2];return l},i=D.default,p.default=i},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.some"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.get-own-property-names"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.starts-with"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.some"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.get-own-property-names"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.starts-with"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(P=i("../main"))&&P.__esModule?P:{default:P};i("../internationalization");function I(a,n){n=n||console.log.bind(console),D||m(),D.some(function(r){var d;if(a.message&&a.message.match("\\W?".concat(r.name,"\\W"))!==null)return d=r.type==="function"?"".concat(r.name,"()"):r.name,n("Did you just try to use p5.js's ".concat(d," ").concat(r.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(c)),!0})}var D=null,m=null,c=(o.default._friendlyError=o.default._checkForUserDefinedFunctions=o.default._fesErrorMonitor=function(){},D=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),m=function(){function a(r){return Object.getOwnPropertyNames(r).filter(function(d){return d[0]!=="_"&&!(d in n)&&(n[d]=!0)}).map(function(d){var s=typeof r[d]=="function"?"function":d===d.toUpperCase()?"constant":"variable";return{name:d,type:s}})}var n={};(D=[].concat(a(o.default.prototype),a(i("../constants")))).sort(function(r,d){return d.name.length-r.name.length})},P=(o.default.prototype._helpForMisusedAtTopLevelCode=I,document.readyState!=="complete"&&(window.addEventListener("error",I,!1),window.addEventListener("load",function(){window.removeEventListener("error",I,!1)})),o.default);p.default=P},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(o=i("../main"))&&o.__esModule?o:{default:o};i("../internationalization"),o.default._friendlyFileLoadError=function(){},i=o.default,p.default=i},{"../internationalization":281,"../main":283}],276:[function(i,X,p){"use strict";function o(f){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(f)}function I(f){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(E){return o(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":o(E)})(f)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),i("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=y(i("../main")),c=i("../internationalization"),m=G(i("../constants")),P,a,n,r,d,s,t,l,$,h,L,U,T,B,J,S,A,Q,M,k,C;function j(){var f;return typeof WeakMap!="function"?null:(f=new WeakMap,j=function(){return f},f)}function G(f){if(f&&f.__esModule)return f;if(f===null||I(f)!=="object"&&typeof f!="function")return{default:f};var E=j();if(E&&E.has(f))return E.get(f);var Z,W,ee={},De=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Z in f)Object.prototype.hasOwnProperty.call(f,Z)&&((W=De?Object.getOwnPropertyDescriptor(f,Z):null)&&(W.get||W.set)?Object.defineProperty(ee,Z,W):ee[Z]=f[Z]);return ee.default=f,E&&E.set(f,ee),ee}function y(f){return f&&f.__esModule?f:{default:f}}function g(f){return ce(f)||w(f)||N()}function N(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(f){if(Symbol.iterator in Object(f)||Object.prototype.toString.call(f)==="[object Arguments]")return Array.from(f)}function ce(f){if(Array.isArray(f)){for(var E=0,Z=new Array(f.length);E<f.length;E++)Z[E]=f[E];return Z}}D.default._fesCodeReader=function(){};var F=D.default;p.default=F},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(i,X,p){"use strict";i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../main"))&&i.__esModule?i:{default:i};function o(){var I=/(^|@)\S+:\d+/,D=/^\s*at .*(\S+:\d+|\(native\))/m,c=/^(eval@)?(\[native code])?$/;return{parse:function(m){return m.stacktrace!==void 0||m["opera#sourceloc"]!==void 0?this.parseOpera(m):m.stack&&m.stack.match(D)?this.parseV8OrIE(m):m.stack?this.parseFFOrSafari(m):void 0},extractLocation:function(m){return m.indexOf(":")===-1?[m]:[(m=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(m.replace(/[()]/g,"")))[1],m[2]||void 0,m[3]||void 0]},parseV8OrIE:function(m){return m.stack.split(`
`).filter(function(P){return!!P.match(D)},this).map(function(P){var a=(P=-1<P.indexOf("(eval ")?P.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):P).replace(/^\s+/,"").replace(/\(eval code/g,"("),n=a.match(/ (\((.+):(\d+):(\d+)\)$)/),a=(a=n?a.replace(n[0],""):a).split(/\s+/).slice(1),n=this.extractLocation(n?n[1]:a.pop());return{functionName:a.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(n[0])?void 0:n[0],lineNumber:n[1],columnNumber:n[2],source:P}},this)},parseFFOrSafari:function(m){return m.stack.split(`
`).filter(function(P){return!P.match(c)},this).map(function(P){var a,n;return(P=-1<P.indexOf(" > eval")?P.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):P).indexOf("@")===-1&&P.indexOf(":")===-1?{functionName:P}:{functionName:(n=P.match(a=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&n[1]?n[1]:void 0,fileName:(n=this.extractLocation(P.replace(a,"")))[0],lineNumber:n[1],columnNumber:n[2],source:P}},this)},parseOpera:function(m){return!m.stacktrace||-1<m.message.indexOf(`
`)&&m.message.split(`
`).length>m.stacktrace.split(`
`).length?this.parseOpera9(m):m.stack?this.parseOpera11(m):this.parseOpera10(m)},parseOpera9:function(m){for(var P=/Line (\d+).*script (?:in )?(\S+)/i,a=m.message.split(`
`),n=[],r=2,d=a.length;r<d;r+=2){var s=P.exec(a[r]);s&&n.push({fileName:s[2],lineNumber:s[1],source:a[r]})}return n},parseOpera10:function(m){for(var P=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,a=m.stacktrace.split(`
`),n=[],r=0,d=a.length;r<d;r+=2){var s=P.exec(a[r]);s&&n.push({functionName:s[3]||void 0,fileName:s[2],lineNumber:s[1],source:a[r]})}return n},parseOpera11:function(m){return m.stack.split(`
`).filter(function(P){return!!P.match(I)&&!P.match(/^Error created at/)},this).map(function(P){var a,r=P.split("@"),n=this.extractLocation(r.pop()),r=r.shift()||"";return{functionName:r.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(a=r.match(/\(([^)]*)\)/)?r.replace(/^[^(]+\(([^)]*)\)$/,"$1"):a)===void 0||a==="[arguments not available]"?void 0:a.split(","),fileName:n[0],lineNumber:n[1],columnNumber:n[2],source:P}},this)}}}i.default._getErrorStackParser=function(){return new o},i=i.default,p.default=i},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(i,X,p){"use strict";function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(m)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.last-index-of"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.function.name"),i("core-js/modules/es.map"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.reflect.construct"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.set"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.split"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.last-index-of"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.function.name"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.set"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.split"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var I=(I=i("../main"))&&I.__esModule?I:{default:I};(function(m){if(!(m&&m.__esModule)&&!(m===null||c(m)!=="object"&&typeof m!="function")){var P=D();if(P&&P.has(m))return P.get(m);var a,n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in m){var d;Object.prototype.hasOwnProperty.call(m,a)&&((d=r?Object.getOwnPropertyDescriptor(m,a):null)&&(d.get||d.set)?Object.defineProperty(n,a,d):n[a]=m[a])}n.default=m,P&&P.set(m,n)}})(i("../constants")),i("../internationalization");function D(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,D=function(){return m},m)}function c(m){return(c=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(P){return o(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":o(P)})(m)}I.default._validateParameters=I.default._clearValidateParamsCache=function(){},i=I.default,p.default=i},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(i,X,p){"use strict";function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(m)}function I(m){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(P){return o(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":o(P)})(m)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=function(m){if(m&&m.__esModule)return m;if(m===null||I(m)!=="object"&&typeof m!="function")return{default:m};var P=c();if(P&&P.has(m))return P.get(m);var a,n={},r=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(a in m){var d;Object.prototype.hasOwnProperty.call(m,a)&&((d=r?Object.getOwnPropertyDescriptor(m,a):null)&&(d.get||d.set)?Object.defineProperty(n,a,d):n[a]=m[a])}return n.default=m,P&&P.set(m,n),n}(i("./constants"));function c(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,c=function(){return m},m)}p.default={modeAdjust:function(m,P,a,n,r){return r===D.CORNER?{x:m,y:P,w:a,h:n}:r===D.CORNERS?{x:m,y:P,w:a-m,h:n-P}:r===D.RADIUS?{x:m-a,y:P-n,w:2*a,h:2*n}:r===D.CENTER?{x:m-.5*a,y:P-.5*n,w:a,h:n}:void 0}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(i,X,p){"use strict";i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator");var o=(I=i("../core/main"))&&I.__esModule?I:{default:I};i("./internationalization");var I=Promise.resolve();Promise.all([new Promise(function(D,c){document.readyState==="complete"?D():window.addEventListener("load",D,!1)}),I]).then(function(){window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!o.default.instance&&new o.default})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(i,X,p){"use strict";i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.split"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.split"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.setTranslatorLanguage=p.currentTranslatorLanguage=p.availableTranslatorLanguages=p.initialize=p.translator=void 0;var o,I,D=m(i("i18next")),c=m(i("i18next-browser-languagedetector"));function m(n){return n&&n.__esModule?n:{default:n}}function P(n,r){for(var d=0;d<r.length;d++){var s=r[d];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}var a=function(){function n(t,l){if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this.init(t,l)}var r,d,s;return r=n,(d=[{key:"fetchWithTimeout",value:function(t,l){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(t,l),new Promise(function(h,L){return setTimeout(function(){return L(new Error("timeout"))},$)})])}},{key:"init",value:function(t){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=t,this.options=l}},{key:"read",value:function(t,l,$){var h=this.options.loadPath;t===this.options.fallback?$(null,o[t][l]):I.includes(t)?(h=this.services.interpolator.interpolate(h,{lng:t,ns:l}),this.loadUrl(h,$)):$("Not found",!1)}},{key:"loadUrl",value:function(t,l){this.fetchWithTimeout(t).then(function($){if($.ok)return $.json();throw new Error("failed loading ".concat(t))},function(){throw new Error("failed loading ".concat(t))}).then(function($){return l(null,$)}).catch(l)}}])&&P(r.prototype,d),s&&P(r,s),n}();a.type="backend",p.translator=function(n,r){console.debug("p5.js translator called before translations were loaded"),D.default.t(n,r)},p.initialize=function(){return D.default.use(c.default).use(a).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:o}).then(function(n){p.translator=n},function(n){return console.debug("Translations failed to load (".concat(n,")"))})},p.availableTranslatorLanguages=function(){return D.default.languages},p.currentTranslatorLanguage=function(n){return D.default.language},p.setTranslatorLanguage=function(n){return D.default.changeLanguage(n||void 0,function(r){return console.debug("Translations failed to load (".concat(r,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("./main"))&&i.__esModule?i:{default:i},i.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},i.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},i.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},i.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},i=i.default,p.default=i},{"./main":283}],283:[function(i,X,p){"use strict";function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function I(n){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.get-own-property-names"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.object.get-own-property-names"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i("./shim");var D=function(n){if(n&&n.__esModule)return n;if(n===null||I(n)!=="object"&&typeof n!="function")return{default:n};var r=c();if(r&&r.has(n))return r.get(n);var d,s={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in n){var l;Object.prototype.hasOwnProperty.call(n,d)&&((l=t?Object.getOwnPropertyDescriptor(n,d):null)&&(l.get||l.set)?Object.defineProperty(s,d,l):s[d]=n[d])}return s.default=n,r&&r.set(n,s),s}(i("./constants"));function c(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,c=function(){return n},n)}function m(n,r){for(var d=0;d<r.length;d++){var s=r[d];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}var P,a=function(){function n(t,h){var $=this;if(!(this instanceof n))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=h,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var h=Object.getOwnPropertyNames(n.prototype._registeredMethods),L=!0,U=!1,T=void 0;try{for(var B,J=h[Symbol.iterator]();!(L=(B=J.next()).done);L=!0){var S=B.value;this._registeredMethods[S]=n.prototype._registeredMethods[S].slice()}}catch(g){U=!0,T=g}finally{try{L||J.return==null||J.return()}finally{if(U)throw T}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),n.prototype.callRegisteredHooksFor=function(g){var N=this||n.prototype,w=this._isGlobal?window:this;if(N._registeredMethods.hasOwnProperty(g)){var N=N._registeredMethods[g],ce=!0,g=!1,F=void 0;try{for(var f,E=N[Symbol.iterator]();!(ce=(f=E.next()).done);ce=!0){var Z=f.value;typeof Z=="function"&&Z.call(w)}}catch(De){g=!0,F=De}finally{try{ce||E.return==null||E.return()}finally{if(g)throw F}}}},this._start=function(){$._userNode&&typeof $._userNode=="string"&&($._userNode=document.getElementById($._userNode));var g=$._isGlobal?window:$;if(g.preload){$.callRegisteredHooksFor("beforePreload");var N,w=document.getElementById($._loadingScreenId),ce=(w||((w=document.createElement("div")).innerHTML="Loading...",w.style.position="absolute",w.id=$._loadingScreenId,($._userNode||document.body).appendChild(w)),$._preloadMethods);for(N in ce){ce[N]=ce[N]||n;var F=ce[N];F!==n.prototype&&F!==n||($._isGlobal&&(window[N]=$._wrapPreload($,N)),F=$),$._registeredPreloadMethods[N]=F[N],F[N]=$._wrapPreload(F,N)}g.preload(),$._runIfPreloadsAreDone()}else $._setup(),$._recording||$._draw()},this._runIfPreloadsAreDone=function(){var g,N=this._isGlobal?window:this;N._preloadCount===0&&((g=document.getElementById(N._loadingScreenId))&&g.parentNode.removeChild(g),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),N._setup(),this._recording||N._draw()))},this._decrementPreload=function(){var g=this._isGlobal?window:this;g._preloadDone||typeof g.preload!="function"||(g._setProperty("_preloadCount",g._preloadCount-1),g._runIfPreloadsAreDone())},this._wrapPreload=function(g,N){var w=this;return function(){w._incrementPreload();for(var ce=arguments.length,F=new Array(ce),f=0;f<ce;f++)F[f]=arguments[f];return w._registeredPreloadMethods[N].apply(g,F)}},this._incrementPreload=function(){var g=this._isGlobal?window:this;g._preloadDone||g._setProperty("_preloadCount",g._preloadCount+1)},this._setup=function(){$.callRegisteredHooksFor("beforeSetup"),$.createCanvas($._defaultCanvasSize.width,$._defaultCanvasSize.height,"p2d");var g=$._isGlobal?window:$;if(typeof g.preload=="function")for(var N in $._preloadMethods)g[N]=$._preloadMethods[N][N],g[N]&&$&&(g[N]=g[N].bind($));$._millisStart=window.performance.now(),g._preloadDone=!0,typeof g.setup=="function"&&g.setup();var w=document.getElementsByTagName("canvas"),ce=!0,F=!1,f=void 0;try{for(var E,Z=w[Symbol.iterator]();!(ce=(E=Z.next()).done);ce=!0){var W=E.value;W.dataset.hidden==="true"&&(W.style.visibility="",delete W.dataset.hidden)}}catch(ee){F=!0,f=ee}finally{try{ce||Z.return==null||Z.return()}finally{if(F)throw f}}$._lastTargetFrameTime=window.performance.now(),$._lastRealFrameTime=window.performance.now(),$._setupDone=!0,($._accessibleOutputs.grid||$._accessibleOutputs.text)&&$._updateAccsOutput(),$.callRegisteredHooksFor("afterSetup")},this._draw=function(N){var N=N||window.performance.now(),w=N-$._lastTargetFrameTime,ce=1e3/$._targetFrameRate;(!$._loop||ce-5<=w)&&($.deltaTime=N-$._lastRealFrameTime,$._setProperty("deltaTime",$.deltaTime),$._frameRate=1e3/$.deltaTime,$.redraw(),$._lastTargetFrameTime=Math.max($._lastTargetFrameTime+ce,N),$._lastRealFrameTime=N,$._updateMouseCoords!==void 0&&($._updateMouseCoords(),$._setProperty("movedX",0),$._setProperty("movedY",0))),$._loop&&($._requestAnimId=window.requestAnimationFrame($._draw))},this._setProperty=function(g,N){$[g]=N,$._isGlobal&&(window[g]=N)},this.remove=function(){$._startListener&&window.removeEventListener("load",$._startListener,!1);var g=document.getElementById($._loadingScreenId);if(g&&(g.parentNode.removeChild(g),$._incrementPreload()),$._curElement){for(var N in $._loop=!1,$._requestAnimId&&window.cancelAnimationFrame($._requestAnimId),$._events)window.removeEventListener(N,$._events[N]);var w=!0,g=!1,ce=void 0;try{for(var F,f=$._elements[Symbol.iterator]();!(w=(F=f.next()).done);w=!0){var E,Z=F.value;for(E in Z.elt&&Z.elt.parentNode&&Z.elt.parentNode.removeChild(Z.elt),Z._events)Z.elt.removeEventListener(E,Z._events[E])}}catch(te){g=!0,ce=te}finally{try{w||f.return==null||f.return()}finally{if(g)throw ce}}var W=$;$._registeredMethods.remove.forEach(function(te){te!==void 0&&te.call(W)})}if($._isGlobal){for(var ee in n.prototype)try{delete window[ee]}catch{window[ee]=void 0}for(var De in $)if($.hasOwnProperty(De))try{delete window[De]}catch{window[De]=void 0}n.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(g){g!==void 0&&g.call(this)},this),this._setupPromisePreloads();var A,Q,M=this._createFriendlyGlobalFunctionBinder();if(t)t(this),n._checkForUserDefinedFunctions(this);else{for(var k in this._isGlobal=!0,n.instance=this,n.prototype)typeof n.prototype[k]=="function"?(A=k.substring(2),this._events.hasOwnProperty(A)||(Math.hasOwnProperty(k)&&Math[k]===n.prototype[k]?M(k,n.prototype[k]):M(k,n.prototype[k].bind(this)))):M(k,n.prototype[k]);for(var C in this)this.hasOwnProperty(C)&&M(C,this[C])}for(Q in this._events){var j=this["_on".concat(Q)];j&&(j=j.bind(this),window.addEventListener(Q,j,{passive:!1}),this._events[Q]=j)}function G(){$._setProperty("focused",!0)}function y(){$._setProperty("focused",!1)}window.addEventListener("focus",G),window.addEventListener("blur",y),this.registerMethod("remove",function(){window.removeEventListener("focus",G),window.removeEventListener("blur",y)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var r,d,s;return r=n,(d=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=D.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(t,l){n.prototype._preloadMethods.hasOwnProperty(t)||(n.prototype._preloadMethods[t]=l)}},{key:"registerMethod",value:function(t,l){var $=this||n.prototype;$._registeredMethods.hasOwnProperty(t)||($._registeredMethods[t]=[]),$._registeredMethods[t].push(l)}},{key:"unregisterMethod",value:function(t,l){var $=this||n.prototype;if($._registeredMethods.hasOwnProperty(t)){for(var h=$._registeredMethods[t],L=[],U=0;U<h.length;U++)h[U]===l&&L.push(U);for(var T=L.length-1;0<=T;T--)h.splice(L[T],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var t=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},l=t.globalObject||window;return t.log||console.log.bind(console),function($,h){n.disableFriendlyErrors,l[$]=h}}}])&&m(r.prototype,d),s&&m(r,s),n}();for(P in a.instance=null,a.disableFriendlyErrors=!1,D)a.prototype[P]=D[P];a.VERSION=D.VERSION,a.prototype._preloadMethods={loadJSON:a.prototype,loadImage:a.prototype,loadStrings:a.prototype,loadXML:a.prototype,loadBytes:a.prototype,loadTable:a.prototype,loadFont:a.prototype,loadModel:a.prototype,loadShader:a.prototype},a.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},a.prototype._registeredPreloadMethods={},p.default=a},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("./main"))&&i.__esModule?i:{default:i};function I(D,c){for(var m=0;m<c.length;m++){var P=c[m];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}o.default.Element=function(){function D(a,n){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function");this.elt=a,this._pInst=this._pixelsState=n,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var c,m,P;return c=D,P=[{key:"_adjustListener",value:function(a,n,r){return n===!1?o.default.Element._detachListener(a,r):o.default.Element._attachListener(a,n,r),this}},{key:"_attachListener",value:function(a,n,r){r._events[a]&&o.default.Element._detachListener(a,r),n=n.bind(r),r.elt.addEventListener(a,n,!1),r._events[a]=n}},{key:"_detachListener",value:function(a,n){var r=n._events[a];n.elt.removeEventListener(a,r,!1),n._events[a]=null}}],(m=[{key:"parent",value:function(a){return a===void 0?this.elt.parentNode:(typeof a=="string"?(a[0]==="#"&&(a=a.substring(1)),a=document.getElementById(a)):a instanceof o.default.Element&&(a=a.elt),a.appendChild(this.elt),this)}},{key:"id",value:function(a){return a===void 0?this.elt.id:(this.elt.id=a,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(a){return a===void 0?this.elt.className:(this.elt.className=a,this)}},{key:"mousePressed",value:function(a){return o.default.Element._adjustListener("mousedown",function(n){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(n),a.call(this,n)},this),this}},{key:"doubleClicked",value:function(a){return o.default.Element._adjustListener("dblclick",a,this),this}},{key:"mouseWheel",value:function(a){return o.default.Element._adjustListener("wheel",a,this),this}},{key:"mouseReleased",value:function(a){return o.default.Element._adjustListener("mouseup",a,this),this}},{key:"mouseClicked",value:function(a){return o.default.Element._adjustListener("click",a,this),this}},{key:"mouseMoved",value:function(a){return o.default.Element._adjustListener("mousemove",a,this),this}},{key:"mouseOver",value:function(a){return o.default.Element._adjustListener("mouseover",a,this),this}},{key:"mouseOut",value:function(a){return o.default.Element._adjustListener("mouseout",a,this),this}},{key:"touchStarted",value:function(a){return o.default.Element._adjustListener("touchstart",a,this),this}},{key:"touchMoved",value:function(a){return o.default.Element._adjustListener("touchmove",a,this),this}},{key:"touchEnded",value:function(a){return o.default.Element._adjustListener("touchend",a,this),this}},{key:"dragOver",value:function(a){return o.default.Element._adjustListener("dragover",a,this),this}},{key:"dragLeave",value:function(a){return o.default.Element._adjustListener("dragleave",a,this),this}},{key:"_setProperty",value:function(a,n){this[a]=n}}])&&I(c.prototype,m),P&&I(c,P),D}(),i=o.default.Element,p.default=i},{"./main":283}],285:[function(i,X,p){"use strict";function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(l)}function I(l){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function($){return o($)}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":o($)})(l)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.reflect.construct"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(t=i("./main"))&&t.__esModule?t:{default:t},c=function(l){if(l&&l.__esModule)return l;if(l===null||I(l)!=="object"&&typeof l!="function")return{default:l};var $=m();if($&&$.has(l))return $.get(l);var h,L={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in l){var T;Object.prototype.hasOwnProperty.call(l,h)&&((T=U?Object.getOwnPropertyDescriptor(l,h):null)&&(T.get||T.set)?Object.defineProperty(L,h,T):L[h]=l[h])}return L.default=l,$&&$.set(l,L),L}(i("./constants"));function m(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,m=function(){return l},l)}function P(l,$){for(var h=0;h<$.length;h++){var L=$[h];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(l,L.key,L)}}function a(l,$){return(a=Object.setPrototypeOf||function(h,L){return h.__proto__=L,h})(l,$)}function n(l){return function(){var $,h=s(l);return r(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?($=s(this).constructor,Reflect.construct(h,arguments,$)):h.apply(this,arguments))}}function r(l,$){return!$||I($)!=="object"&&typeof $!="function"?d(l):$}function d(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function s(l){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)})(l)}D.default.Graphics=function(l){var $=U;if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(l&&l.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),l&&a($,l);var h,L=n(U);function U(T,B,C,S,A){var Q;if(!(this instanceof U))throw new TypeError("Cannot call a class as a function");k=A||document.createElement("canvas"),(Q=L.call(this,k,S)).canvas=k;var M,k=C||c.P2D,C=S._userNode||document.body;for(M in A||C.appendChild(Q.canvas),D.default.prototype)Q[M]||(typeof D.default.prototype[M]=="function"?Q[M]=D.default.prototype[M].bind(d(Q)):Q[M]=D.default.prototype[M]);return D.default.prototype._initializeInstanceVariables.apply(d(Q)),Q.width=T,Q.height=B,Q._pixelDensity=S._pixelDensity,k===c.WEBGL?(Q._renderer=new D.default.RendererGL(Q.canvas,d(Q),!1),T=(A=Q._renderer._adjustDimensions(T,B)).adjustedWidth,B=A.adjustedHeight):Q._renderer=new D.default.Renderer2D(Q.canvas,d(Q),!1),S._elements.push(d(Q)),Object.defineProperty(d(Q),"deltaTime",{get:function(){return this._pInst.deltaTime}}),Q._renderer.resize(T,B),Q._renderer._applyDefaults(),r(Q,d(Q))}return $=U,(l=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var T,B=this._pInst._elements.indexOf(this);for(T in B!==-1&&this._pInst._elements.splice(B,1),this._events)this.elt.removeEventListener(T,this._events[T]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(T){return new D.default.Framebuffer(this,T)}}])&&P($.prototype,l),h&&P($,h),U}(D.default.Element);var t=D.default.Graphics;p.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(i,X,p){"use strict";function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(l)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.reflect.construct"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var I=(s=i("./main"))&&s.__esModule?s:{default:s},D=function(l){if(l&&l.__esModule)return l;if(l===null||m(l)!=="object"&&typeof l!="function")return{default:l};var $=c();if($&&$.has(l))return $.get(l);var h,L={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in l){var T;Object.prototype.hasOwnProperty.call(l,h)&&((T=U?Object.getOwnPropertyDescriptor(l,h):null)&&(T.get||T.set)?Object.defineProperty(L,h,T):L[h]=l[h])}return L.default=l,$&&$.set(l,L),L}(i("../core/constants"));function c(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,c=function(){return l},l)}function m(l){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function($){return o($)}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":o($)})(l)}function P(l,$){for(var h=0;h<$.length;h++){var L=$[h];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(l,L.key,L)}}function a(l,$){return(a=Object.setPrototypeOf||function(h,L){return h.__proto__=L,h})(l,$)}function n(l){return function(){var $,h,L=d(l);return $=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?($=d(this).constructor,Reflect.construct(L,arguments,$)):L.apply(this,arguments),L=this,!(h=$)||m(h)!=="object"&&typeof h!="function"?r(L):h}}function r(l){if(l===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return l}function d(l){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)})(l)}var s=function(l){var $=U;if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function");$.prototype=Object.create(l&&l.prototype,{constructor:{value:$,writable:!0,configurable:!0}}),l&&a($,l);var h,L=n(U);function U(T,B,J){var S;if(this instanceof U)return(S=L.call(this,T,B)).canvas=T,S._pixelsState=B,J?(S._isMainCanvas=!0,S._pInst._setProperty("_curElement",r(S)),S._pInst._setProperty("canvas",S.canvas),S._pInst._setProperty("width",S.width),S._pInst._setProperty("height",S.height)):(S.canvas.style.display="none",S._styles=[]),S._clipping=!1,S._clipInvert=!1,S._textSize=12,S._textLeading=15,S._textFont="sans-serif",S._textStyle=D.NORMAL,S._textAscent=null,S._textDescent=null,S._textAlign=D.LEFT,S._textBaseline=D.BASELINE,S._textWrap=D.WORD,S._rectMode=D.CORNER,S._ellipseMode=D.CENTER,S._curveTightness=0,S._imageMode=D.CORNER,S._tint=null,S._doStroke=!0,S._doFill=!0,S._strokeSet=!1,S._fillSet=!1,S._leadingSet=!1,S._pushPopDepth=0,S;throw new TypeError("Cannot call a class as a function")}return $=U,(l=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(T){this._pushPopDepth--,T.properties&&Object.assign(this,T.properties)}},{key:"beginClip",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=T.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(T,B){this.width=T,this.height=B,this.elt.width=T*this._pInst._pixelDensity,this.elt.height=B*this._pInst._pixelDensity,this.elt.style.width="".concat(T,"px"),this.elt.style.height="".concat(B,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(T,B,J,S){var A=this._pixelsState,Q=A._pixelDensity,M=this.canvas;if(T===void 0&&B===void 0)T=B=0,J=A.width,S=A.height;else if(T*=Q,B*=Q,J===void 0&&S===void 0)return T<0||B<0||T>=M.width||B>=M.height?[0,0,0,0]:this._getPixel(T,B);return A=new I.default.Image(J*Q,S*Q),A.pixelDensity(Q),A.canvas.getContext("2d").drawImage(M,T,B,J*Q,S*Q,0,0,J*Q,S*Q),A}},{key:"textLeading",value:function(T){return typeof T=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",T),this._pInst):this._textLeading}},{key:"textStyle",value:function(T){return T?(T!==D.NORMAL&&T!==D.ITALIC&&T!==D.BOLD&&T!==D.BOLDITALIC||this._setProperty("_textStyle",T),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(T,B){return T!==void 0?(this._setProperty("_textAlign",T),B!==void 0&&this._setProperty("_textBaseline",B),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(T){return this._setProperty("_textWrap",T),this._textWrap}},{key:"text",value:function(T,B,J,S,A){var Q,M,k,C,j=this._pInst,G=this._textWrap,y=Number.MAX_VALUE,g=J;if((this._doFill||this._doStroke)&&T!==void 0){if(Q=(T=(T=typeof T!="string"?T.toString():T).replace(/(\t)/g,"  ")).split(`
`),S!==void 0){switch(this._rectMode===D.CENTER&&(B-=S/2),this._textAlign){case D.CENTER:B+=S/2;break;case D.RIGHT:B+=S}if(A!==void 0){this._rectMode===D.CENTER&&(J-=A/2,g-=A/2);var T=J,N=j.textAscent();switch(this._textBaseline){case D.BOTTOM:C=J+A,J=Math.max(C,J),g+=N;break;case D.CENTER:C=J+A/2,J=Math.max(C,J),g+=N/2}y=J+A-N,this._textBaseline===D.CENTER&&(y=T+A-N/2)}else this._textBaseline!==D.BOTTOM&&this._textBaseline!==D.CENTER||(g=J-(T=j.textSize()*this._textLeading)/2,y=J+T/2);if(G===D.WORD){for(var w=[],ce=0;ce<Q.length;ce++){for(var F="",f=Q[ce].split(" "),E=0;E<f.length;E++)M="".concat(F+f[E])+" ",F=S<(k=this.textWidth(M))&&0<F.length?(w.push(F),"".concat(f[E])+" "):M;w.push(F)}var Z=0;this._textBaseline===D.CENTER?Z=(w.length-1)*j.textLeading()/2:this._textBaseline===D.BOTTOM&&(Z=(w.length-1)*j.textLeading());for(var W=0;W<Q.length;W++){F="",f=Q[W].split(" ");for(var ee=0;ee<f.length;ee++)M="".concat(F+f[ee])+" ",S<(k=this.textWidth(M))&&0<F.length?(this._renderText(j,F.trim(),B,J-Z,y,g),F="".concat(f[ee])+" ",J+=j.textLeading()):F=M;this._renderText(j,F.trim(),B,J-Z,y,g),J+=j.textLeading()}}else{for(var De=[],$e=0;$e<Q.length;$e++)for(var te=Q[$e].split(F=""),de=0;de<te.length;de++)M="".concat(F+te[de]),(k=this.textWidth(M))<=S?F+=te[de]:S<k&&0<F.length&&(De.push(F),F="".concat(te[de]));De.push(F);var ne=0;this._textBaseline===D.CENTER?ne=(De.length-1)*j.textLeading()/2:this._textBaseline===D.BOTTOM&&(ne=(De.length-1)*j.textLeading());for(var z=0;z<Q.length;z++){te=Q[z].split(F="");for(var oe=0;oe<te.length;oe++)M="".concat(F+te[oe]),(k=this.textWidth(M))<=S?F+=te[oe]:S<k&&0<F.length&&(this._renderText(j,F.trim(),B,J-ne,y,g),J+=j.textLeading(),F="".concat(te[oe]))}this._renderText(j,F.trim(),B,J-ne,y,g),J+=j.textLeading()}}else{var he=0;this._textBaseline===D.CENTER?he=(Q.length-1)*j.textLeading()/2:this._textBaseline===D.BOTTOM&&(he=(Q.length-1)*j.textLeading());for(var Je=0;Je<Q.length;Je++)this._renderText(j,Q[Je],B,J-he,y,g-he),J+=j.textLeading()}return j}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var T=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return m(T)==="object"&&T.font&&T.font.supported}},{key:"_updateTextMetrics",value:function(){var T,B,J,S,A,Q;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((T=document.createElement("span")).style.fontFamily=this._textFont,T.style.fontSize="".concat(this._textSize,"px"),T.innerHTML="ABCjgq|",(Q=document.createElement("div")).style.display="inline-block",Q.style.width="1px",Q.style.height="0px",S=((B=document.createElement("div")).appendChild(T),B.appendChild(Q),B.style.height="0px",B.style.overflow="hidden",document.body.appendChild(B),Q.style.verticalAlign="baseline",t(Q)),A=t(T),J=S[1]-A[1],S=(Q.style.verticalAlign="bottom",t(Q)),A=t(T),Q=S[1]-A[1]-J,document.body.removeChild(B),this._setProperty("_textAscent",J),this._setProperty("_textDescent",Q)),this}}])&&P($.prototype,l),h&&P($,h),U}(I.default.Element);function t(l){var $=0,h=0;if(l.offsetParent)for(;$+=l.offsetLeft,h+=l.offsetTop,l=l.offsetParent;);else $+=l.offsetLeft,h+=l.offsetTop;return[$,h]}s.prototype.textSize=function(l){return typeof l=="number"?(this._setProperty("_textSize",l),this._leadingSet||this._setProperty("_textLeading",l*D._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},I.default.Renderer=s,i=I.default.Renderer,p.default=i},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(l,X,p){"use strict";function o($){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})($)}function I($){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})($)}l("core-js/modules/es.symbol"),l("core-js/modules/es.symbol.description"),l("core-js/modules/es.symbol.iterator"),l("core-js/modules/es.array.concat"),l("core-js/modules/es.array.fill"),l("core-js/modules/es.array.for-each"),l("core-js/modules/es.array.iterator"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.function.name"),l("core-js/modules/es.number.to-fixed"),l("core-js/modules/es.object.get-own-property-descriptor"),l("core-js/modules/es.object.get-prototype-of"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.reflect.construct"),l("core-js/modules/es.reflect.get"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),l("core-js/modules/es.string.iterator"),l("core-js/modules/es.weak-map"),l("core-js/modules/web.dom-collections.iterator"),l("core-js/modules/es.array.concat"),l("core-js/modules/es.array.fill"),l("core-js/modules/es.array.for-each"),l("core-js/modules/es.array.join"),l("core-js/modules/es.array.slice"),l("core-js/modules/es.function.name"),l("core-js/modules/es.number.to-fixed"),l("core-js/modules/es.object.get-prototype-of"),l("core-js/modules/es.object.to-string"),l("core-js/modules/es.regexp.exec"),l("core-js/modules/es.regexp.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(t=l("./main"))&&t.__esModule?t:{default:t},c=function($){if($&&$.__esModule)return $;if($===null||I($)!=="object"&&typeof $!="function")return{default:$};var h=m();if(h&&h.has($))return h.get($);var L,U={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in $){var B;Object.prototype.hasOwnProperty.call($,L)&&((B=T?Object.getOwnPropertyDescriptor($,L):null)&&(B.get||B.set)?Object.defineProperty(U,L,B):U[L]=$[L])}return U.default=$,h&&h.set($,U),U}(l("./constants"));function m(){var $;return typeof WeakMap!="function"?null:($=new WeakMap,m=function(){return $},$)}function P($,h){for(var L=0;L<h.length;L++){var U=h[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty($,U.key,U)}}function a($,h,L){return(a=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(J,T,B){var J=function(S,A){for(;!Object.prototype.hasOwnProperty.call(S,A)&&(S=d(S))!==null;);return S}(J,T);if(J)return(J=Object.getOwnPropertyDescriptor(J,T)).get?J.get.call(B):J.value})($,h,L||$)}function n($,h){return(n=Object.setPrototypeOf||function(L,U){return L.__proto__=U,L})($,h)}function r($){return function(){var h,L=d($),L=(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=d(this).constructor,Reflect.construct(L,arguments,h)):L.apply(this,arguments),this);if(!h||I(h)!=="object"&&typeof h!="function"){if(L!==void 0)return L;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}function d($){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})($)}l("./p5.Renderer");var s="rgba(0,0,0,0)",t=function($){var h=T;if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create($&&$.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),$&&n(h,$);var L,U=r(T);function T(B,J,S){if(this instanceof T)return(B=U.call(this,B,J,S)).drawingContext=B.canvas.getContext("2d"),B._pInst._setProperty("drawingContext",B.drawingContext),B;throw new TypeError("Cannot call a class as a function")}return h=T,($=[{key:"getFilterGraphicsLayer",value:function(){var B;return this.filterGraphicsLayer||(B=(this._pInst instanceof D.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new D.default.Graphics(this.width,this.height,c.WEBGL,B)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=c.BLEND,this._setFill(c._DEFAULT_FILL),this._setStroke(c._DEFAULT_STROKE),this.drawingContext.lineCap=c.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(B,J){a(d(T.prototype),"resize",this).call(this,B,J),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var B,J;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof D.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(B=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(B,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(B=this._getFill(),J=(J=this._pInst).color.apply(J,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(J.levels),J=J.toString(),this._setFill(J),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(B),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var B=(B=this._pInst).color.apply(B,arguments);this._setFill(B.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",B.levels)}},{key:"stroke",value:function(){var B=(B=this._pInst).color.apply(B,arguments);this._setStroke(B.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",B.levels)}},{key:"erase",value:function(B,J){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,B=this._pInst.color(255,B).toString(),this.drawingContext.fillStyle=B,this._cachedStrokeStyle=this.drawingContext.strokeStyle,B=this._pInst.color(255,J).toString(),this.drawingContext.strokeStyle=B,J=this._cachedBlendMode,this.blendMode(c.REMOVE),this._cachedBlendMode=J,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var B=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},B=(a(d(T.prototype),"beginClip",this).call(this,B),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),B=(this.drawingContext.fillStyle=B,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),B=(this.drawingContext.strokeStyle=B,this._cachedBlendMode);this.blendMode(c.BLEND),this._cachedBlendMode=B,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),a(d(T.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(B,J,S,A,Q,M,k,C,j){B.gifProperties&&B._animateGif(this._pInst);try{D.default.MediaElement&&B instanceof D.default.MediaElement&&B._ensureCanvas();var G=(G=this._tint&&B.canvas?this._getTintedImageCanvas(B):G)||B.canvas||B.elt,y=1;B.width&&0<B.width&&(y=G.width/B.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(G,y*J,y*S,y*A,y*Q,M,k,C,j),this._isErasing&&this._pInst.erase()}catch(g){if(g.name!=="NS_ERROR_NOT_AVAILABLE")throw g}}},{key:"_getTintedImageCanvas",value:function(B){if(!B.canvas)return B;B.tintCanvas||(B.tintCanvas=document.createElement("canvas")),B.tintCanvas.width!==B.canvas.width&&(B.tintCanvas.width=B.canvas.width),B.tintCanvas.height!==B.canvas.height&&(B.tintCanvas.height=B.canvas.height);var J=B.tintCanvas.getContext("2d");return J.save(),J.clearRect(0,0,B.canvas.width,B.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(J.drawImage(B.canvas,0,0),J.globalCompositeOperation="luminosity",J.drawImage(B.canvas,0,0),J.globalCompositeOperation="color",J.drawImage(B.canvas,0,0),J.globalCompositeOperation="multiply",J.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),J.fillRect(0,0,B.canvas.width,B.canvas.height),J.globalCompositeOperation="destination-in"),J.globalAlpha=this._tint[3]/255,J.drawImage(B.canvas,0,0),J.restore(),B.tintCanvas}},{key:"blendMode",value:function(B){if(B===c.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(B!==c.BLEND&&B!==c.REMOVE&&B!==c.DARKEST&&B!==c.LIGHTEST&&B!==c.DIFFERENCE&&B!==c.MULTIPLY&&B!==c.EXCLUSION&&B!==c.SCREEN&&B!==c.REPLACE&&B!==c.OVERLAY&&B!==c.HARD_LIGHT&&B!==c.SOFT_LIGHT&&B!==c.DODGE&&B!==c.BURN&&B!==c.ADD)throw new Error("Mode ".concat(B," not recognized."));this._cachedBlendMode=B,this.drawingContext.globalCompositeOperation=B}}},{key:"blend",value:function(){for(var B=this.drawingContext.globalCompositeOperation,J=arguments.length,S=new Array(J),A=0;A<J;A++)S[A]=arguments[A];var Q=S[S.length-1],M=Array.prototype.slice.call(S,0,S.length-1);this.drawingContext.globalCompositeOperation=Q,D.default.prototype.copy.apply(this,M),this.drawingContext.globalCompositeOperation=B}},{key:"_getPixel",value:function(B,J){return B=this.drawingContext.getImageData(B,J,1,1).data,[B[0],B[1],B[2],B[3]]}},{key:"loadPixels",value:function(){var B=this._pixelsState,J=B._pixelDensity,S=this.width*J,J=this.height*J,S=this.drawingContext.getImageData(0,0,S,J);B._setProperty("imageData",S),B._setProperty("pixels",S.data)}},{key:"set",value:function(B,J,S){B=Math.floor(B),J=Math.floor(J);var A=this._pixelsState;if(S instanceof D.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(A._pixelDensity,A._pixelDensity),this.drawingContext.clearRect(B,J,S.width,S.height),this.drawingContext.drawImage(S.canvas,B,J),this.drawingContext.restore();else{var Q=0,M=0,k=0,C=0,j=4*(J*A._pixelDensity*(this.width*A._pixelDensity)+B*A._pixelDensity);if(A.imageData||A.loadPixels(),typeof S=="number")j<A.pixels.length&&(k=M=Q=S,C=255);else if(Array.isArray(S)){if(S.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");j<A.pixels.length&&(Q=S[0],M=S[1],k=S[2],C=S[3])}else S instanceof D.default.Color&&j<A.pixels.length&&(Q=S.levels[0],M=S.levels[1],k=S.levels[2],C=S.levels[3]);for(var G=0;G<A._pixelDensity;G++)for(var y=0;y<A._pixelDensity;y++)j=4*((J*A._pixelDensity+y)*this.width*A._pixelDensity+(B*A._pixelDensity+G)),A.pixels[j]=Q,A.pixels[j+1]=M,A.pixels[j+2]=k,A.pixels[j+3]=C}}},{key:"updatePixels",value:function(B,J,S,A){var Q=this._pixelsState,M=Q._pixelDensity;B===void 0&&J===void 0&&S===void 0&&A===void 0&&(J=B=0,S=this.width,A=this.height),B*=M,J*=M,S*=M,A*=M,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=Q.imageData),this.drawingContext.putImageData(Q.imageData,B,J,0,0,S,A)}},{key:"_acuteArcToBezier",value:function(B,J){var M=J/2,S=Math.cos(M),C=Math.sin(M),A=1/Math.tan(M),M=B+M,Q=Math.cos(M),M=Math.sin(M),k=(4-S)/3,C=C+(S-k)*A;return{ax:Math.cos(B).toFixed(7),ay:Math.sin(B).toFixed(7),bx:(k*Q+C*M).toFixed(7),by:(k*M-C*Q).toFixed(7),cx:(k*Q-C*M).toFixed(7),cy:(k*M+C*Q).toFixed(7),dx:Math.cos(B+J).toFixed(7),dy:Math.sin(B+J).toFixed(7)}}},{key:"arc",value:function(B,J,S,A,Q,M,k){var C,j=this.drawingContext,G=S/2,y=A/2,g=[];for(B+=G,J+=y;1e-5<=M-Q;)C=Math.min(M-Q,c.HALF_PI),g.push(this._acuteArcToBezier(Q,C)),Q+=C;return this._doFill&&(this._clipping||j.beginPath(),g.forEach(function(N,w){w===0&&j.moveTo(B+N.ax*G,J+N.ay*y),j.bezierCurveTo(B+N.bx*G,J+N.by*y,B+N.cx*G,J+N.cy*y,B+N.dx*G,J+N.dy*y)}),k!==c.PIE&&k!=null||j.lineTo(B,J),j.closePath(),this._clipping||j.fill()),this._doStroke&&(this._clipping||j.beginPath(),g.forEach(function(N,w){w===0&&j.moveTo(B+N.ax*G,J+N.ay*y),j.bezierCurveTo(B+N.bx*G,J+N.by*y,B+N.cx*G,J+N.cy*y,B+N.dx*G,J+N.dy*y)}),k===c.PIE?(j.lineTo(B,J),j.closePath()):k===c.CHORD&&j.closePath(),this._clipping||j.stroke()),this}},{key:"ellipse",value:function(C){var J=this.drawingContext,S=this._doFill,A=this._doStroke,Q=parseFloat(C[0]),M=parseFloat(C[1]),k=parseFloat(C[2]),C=parseFloat(C[3]);if(S&&!A){if(this._getFill()===s)return this}else if(!S&&A&&this._getStroke()===s)return this;Q+=k/2,M+=C/2,k/=2,C/=2,this._clipping||J.beginPath(),J.ellipse(Q,M,k,C,0,0,2*Math.PI),!this._clipping&&S&&J.fill(),!this._clipping&&A&&J.stroke()}},{key:"line",value:function(B,J,S,A){var Q=this.drawingContext;return this._doStroke&&this._getStroke()!==s&&(this._clipping||Q.beginPath(),Q.moveTo(B,J),Q.lineTo(S,A),Q.stroke()),this}},{key:"point",value:function(B,J){var S,A,Q=this.drawingContext;return!this._doStroke||this._getStroke()===s?this:(S=this._getStroke(),A=this._getFill(),this._clipping||this._setFill(S),this._clipping||Q.beginPath(),Q.arc(B,J,Q.lineWidth/2,0,c.TWO_PI,!1),void(this._clipping||(Q.fill(),this._setFill(A))))}},{key:"quad",value:function(B,J,S,A,Q,M,k,C){var j=this.drawingContext,G=this._doFill,y=this._doStroke;if(G&&!y){if(this._getFill()===s)return this}else if(!G&&y&&this._getStroke()===s)return this;return this._clipping||j.beginPath(),j.moveTo(B,J),j.lineTo(S,A),j.lineTo(Q,M),j.lineTo(k,C),j.closePath(),!this._clipping&&G&&j.fill(),!this._clipping&&y&&j.stroke(),this}},{key:"rect",value:function(y){var J,S,A=y[0],Q=y[1],M=y[2],k=y[3],C=y[4],j=y[5],G=y[6],y=y[7],g=this.drawingContext,N=this._doFill,w=this._doStroke;if(N&&!w){if(this._getFill()===s)return this}else if(!N&&w&&this._getStroke()===s)return this;return this._clipping||g.beginPath(),C===void 0?g.rect(A,Q,M,k):(j===void 0&&(j=C),G===void 0&&(G=j),y===void 0&&(y=G),w=(N=Math.abs(M))/2,S=(J=Math.abs(k))/2,J<2*(C=N<2*C?w:C)&&(C=S),J<2*(j=N<2*j?w:j)&&(j=S),J<2*(G=N<2*G?w:G)&&(G=S),J<2*(y=N<2*y?w:y)&&(y=S),this._clipping||g.beginPath(),g.moveTo(A+C,Q),g.arcTo(A+M,Q,A+M,Q+k,j),g.arcTo(A+M,Q+k,A,Q+k,G),g.arcTo(A,Q+k,A,Q,y),g.arcTo(A,Q,A+M,Q,C),g.closePath()),!this._clipping&&this._doFill&&g.fill(),!this._clipping&&this._doStroke&&g.stroke(),this}},{key:"triangle",value:function(G){var J=this.drawingContext,S=this._doFill,A=this._doStroke,Q=G[0],M=G[1],k=G[2],C=G[3],j=G[4],G=G[5];if(S&&!A){if(this._getFill()===s)return this}else if(!S&&A&&this._getStroke()===s)return this;this._clipping||J.beginPath(),J.moveTo(Q,M),J.lineTo(k,C),J.lineTo(j,G),J.closePath(),!this._clipping&&S&&J.fill(),!this._clipping&&A&&J.stroke()}},{key:"endShape",value:function(B,J,S,A,Q,M,k){if(J.length!==0&&(this._doStroke||this._doFill)){var C,j,G,y=B===c.CLOSE,g=(y&&!M&&J.push(J[0]),J.length);if(S&&k===null){if(3<g){var N=[],w=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(J[1][0],J[1][1]),j=1;j+2<g;j++)C=J[j],N[0]=[C[0],C[1]],N[1]=[C[0]+(w*J[j+1][0]-w*J[j-1][0])/6,C[1]+(w*J[j+1][1]-w*J[j-1][1])/6],N[2]=[J[j+1][0]+(w*J[j][0]-w*J[j+2][0])/6,J[j+1][1]+(w*J[j][1]-w*J[j+2][1])/6],N[3]=[J[j+1][0],J[j+1][1]],this.drawingContext.bezierCurveTo(N[1][0],N[1][1],N[2][0],N[2][1],N[3][0],N[3][1]);y&&this.drawingContext.lineTo(J[j+1][0],J[j+1][1]),this._doFillStrokeClose(y)}}else if(A&&k===null){for(this._clipping||this.drawingContext.beginPath(),j=0;j<g;j++)J[j].isVert?J[j].moveTo?this.drawingContext.moveTo(J[j][0],J[j][1]):this.drawingContext.lineTo(J[j][0],J[j][1]):this.drawingContext.bezierCurveTo(J[j][0],J[j][1],J[j][2],J[j][3],J[j][4],J[j][5]);this._doFillStrokeClose(y)}else if(Q&&k===null){for(this._clipping||this.drawingContext.beginPath(),j=0;j<g;j++)J[j].isVert?J[j].moveTo?this.drawingContext.moveTo(J[j][0],J[j][1]):this.drawingContext.lineTo(J[j][0],J[j][1]):this.drawingContext.quadraticCurveTo(J[j][0],J[j][1],J[j][2],J[j][3]);this._doFillStrokeClose(y)}else if(k===c.POINTS)for(j=0;j<g;j++)C=J[j],this._doStroke&&this._pInst.stroke(C[6]),this._pInst.point(C[0],C[1]);else if(k===c.LINES)for(j=0;j+1<g;j+=2)C=J[j],this._doStroke&&this._pInst.stroke(J[j+1][6]),this._pInst.line(C[0],C[1],J[j+1][0],J[j+1][1]);else if(k===c.TRIANGLES)for(j=0;j+2<g;j+=3)C=J[j],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[0],C[1]),this.drawingContext.lineTo(J[j+1][0],J[j+1][1]),this.drawingContext.lineTo(J[j+2][0],J[j+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(J[j+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(J[j+2][6]),this.drawingContext.stroke());else if(k===c.TRIANGLE_STRIP)for(j=0;j+1<g;j++)C=J[j],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(J[j+1][0],J[j+1][1]),this.drawingContext.lineTo(C[0],C[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(J[j+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(J[j+1][5]),j+2<g&&(this.drawingContext.lineTo(J[j+2][0],J[j+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(J[j+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(J[j+2][5])),this._doFillStrokeClose(y);else if(k===c.TRIANGLE_FAN){if(2<g){for(this._clipping||this.drawingContext.beginPath(),j=2;j<g;j++)C=J[j],this.drawingContext.moveTo(J[0][0],J[0][1]),this.drawingContext.lineTo(J[j-1][0],J[j-1][1]),this.drawingContext.lineTo(C[0],C[1]),this.drawingContext.lineTo(J[0][0],J[0][1]),j<g-1&&(this._doFill&&C[5]!==J[j+1][5]||this._doStroke&&C[6]!==J[j+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(C[5]),this.drawingContext.fill(),this._pInst.fill(J[j+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(C[6]),this.drawingContext.stroke(),this._pInst.stroke(J[j+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(y)}}else if(k===c.QUADS)for(j=0;j+3<g;j+=4){for(C=J[j],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(C[0],C[1]),G=1;G<4;G++)this.drawingContext.lineTo(J[j+G][0],J[j+G][1]);this.drawingContext.lineTo(C[0],C[1]),!this._clipping&&this._doFill&&this._pInst.fill(J[j+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(J[j+3][6]),this._doFillStrokeClose(y)}else if(k===c.QUAD_STRIP){if(3<g)for(j=0;j+1<g;j+=2)C=J[j],this._clipping||this.drawingContext.beginPath(),j+3<g?(this.drawingContext.moveTo(J[j+2][0],J[j+2][1]),this.drawingContext.lineTo(C[0],C[1]),this.drawingContext.lineTo(J[j+1][0],J[j+1][1]),this.drawingContext.lineTo(J[j+3][0],J[j+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(J[j+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(J[j+3][6])):(this.drawingContext.moveTo(C[0],C[1]),this.drawingContext.lineTo(J[j+1][0],J[j+1][1])),this._doFillStrokeClose(y)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(J[0][0],J[0][1]),j=1;j<g;j++)(C=J[j]).isVert&&(C.moveTo?(y&&this.drawingContext.closePath(),this.drawingContext.moveTo(C[0],C[1])):this.drawingContext.lineTo(C[0],C[1]));this._doFillStrokeClose(y)}M=Q=A=S=!1,y&&J.pop()}return this}},{key:"strokeCap",value:function(B){return B!==c.ROUND&&B!==c.SQUARE&&B!==c.PROJECT||(this.drawingContext.lineCap=B),this}},{key:"strokeJoin",value:function(B){return B!==c.ROUND&&B!==c.BEVEL&&B!==c.MITER||(this.drawingContext.lineJoin=B),this}},{key:"strokeWeight",value:function(B){return this.drawingContext.lineWidth=B===void 0||B===0?1e-4:B,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(B){B!==this._cachedFillStyle&&(this.drawingContext.fillStyle=B,this._cachedFillStyle=B)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(B){B!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=B,this._cachedStrokeStyle=B)}},{key:"bezier",value:function(B,J,S,A,Q,M,k,C){return this._pInst.beginShape(),this._pInst.vertex(B,J),this._pInst.bezierVertex(S,A,Q,M,k,C),this._pInst.endShape(),this}},{key:"curve",value:function(B,J,S,A,Q,M,k,C){return this._pInst.beginShape(),this._pInst.curveVertex(B,J),this._pInst.curveVertex(S,A),this._pInst.curveVertex(Q,M),this._pInst.curveVertex(k,C),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(B){B&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(B,J,S,A,Q,M){this.drawingContext.transform(B,J,S,A,Q,M)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(B){this.drawingContext.rotate(B)}},{key:"scale",value:function(B,J){return this.drawingContext.scale(B,J),this}},{key:"translate",value:function(B,J){return B instanceof D.default.Vector&&(J=B.y,B=B.x),this.drawingContext.translate(B,J),this}},{key:"_renderText",value:function(B,J,S,A,Q,M){if(!(A<M||Q<=A))return B.push(),this._isOpenType()?this._textFont._renderPath(J,S,A,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(J,S,A),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(c._DEFAULT_TEXT_FILL),this.drawingContext.fillText(J,S,A))),B.pop(),B}},{key:"textWidth",value:function(B){return this._isOpenType()?this._textFont._textWidth(B,this._textSize):this.drawingContext.measureText(B).width}},{key:"_applyTextProperties",value:function(){var B=this._pInst,J=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),J=this._textFont,this._isOpenType()&&(J=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),J||"sans-serif");return/\s/.exec(J)&&(J='"'.concat(J,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(J),this.drawingContext.textAlign=this._textAlign,this._textBaseline===c.CENTER?this.drawingContext.textBaseline=c._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,B}},{key:"push",value:function(){return this.drawingContext.save(),a(d(T.prototype),"push",this).call(this)}},{key:"pop",value:function(B){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,a(d(T.prototype),"pop",this).call(this,B)}}])&&P(h.prototype,$),L&&P(h,L),T}(D.default.Renderer),l=(t.prototype.text=function($,h,L,J,T){J!==void 0&&this.drawingContext.textBaseline===c.BASELINE&&(B=!0,this.drawingContext.textBaseline=c.TOP);var B,J=D.default.Renderer.prototype.text.apply(this,arguments);return B&&(this.drawingContext.textBaseline=c.BASELINE),J},D.default.Renderer2D=t,D.default.Renderer2D);p.default=l},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator");var o=(i=i("./main"))&&i.__esModule?i:{default:i};o.default.prototype._promisePreloads=[];function I(){return{}}var D=!(o.default.prototype.registerPromisePreload=function(c){o.default.prototype._promisePreloads.push(c)});o.default.prototype._setupPromisePreloads=function(){var c=!0,m=!1,P=void 0;try{for(var a,n=this._promisePreloads[Symbol.iterator]();!(c=(a=n.next()).done);c=!0){var r=a.value,d=this,s=r.method,t=r.addCallbacks,l=r.legacyPreloadSetup,$=r.target||this,h=$[s].bind($);if($===o.default.prototype){if(D)continue;d=null,h=$[s]}$[s]=this._wrapPromisePreload(d,h,t),l&&($[l.method]=this._legacyPreloadGenerator(d,l,$[s]))}}catch(L){m=!0,P=L}finally{try{c||n.return==null||n.return()}finally{if(m)throw P}}D=!0},o.default.prototype._wrapPromisePreload=function(c,m,P){var a=function(){for(var n=this,r=(this._incrementPreload(),null),d=null,s=arguments.length,t=new Array(s),l=0;l<s;l++)t[l]=arguments[l];if(P)for(var $=t.length-1;0<=$&&!d&&typeof t[$]=="function";$--)d=r,r=t.pop();var h=Promise.resolve(m.apply(this,t));return r&&h.then(r),d&&h.catch(d),h.then(function(){return n._decrementPreload()}),h};return a=c?a.bind(c):a},o.default.prototype._legacyPreloadGenerator=function(c,n,P){var a=n.createBaseObject||I,n=function(){var r=this;this._incrementPreload();for(var d=arguments.length,s=new Array(d),t=0;t<d;t++)s[t]=arguments[t];var l=a.apply(this,s);return P.apply(this,s).then(function($){Object.assign(l,$),r._decrementPreload()}),l};return n=c?n.bind(c):n}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(i,X,p){"use strict";function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var I=(a=i("./main"))&&a.__esModule?a:{default:a},D=function(n){if(n&&n.__esModule)return n;if(n===null||m(n)!=="object"&&typeof n!="function")return{default:n};var r=c();if(r&&r.has(n))return r.get(n);var d,s={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in n){var l;Object.prototype.hasOwnProperty.call(n,d)&&((l=t?Object.getOwnPropertyDescriptor(n,d):null)&&(l.get||l.set)?Object.defineProperty(s,d,l):s[d]=n[d])}return s.default=n,r&&r.set(n,s),s}(i("./constants"));function c(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,c=function(){return n},n)}function m(n){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}i("./p5.Graphics"),i("./p5.Renderer2D"),i("../webgl/p5.RendererGL");var P="defaultCanvas0",a=(I.default.prototype.createCanvas=function(n,r,d,s){var t,l,$;if(I.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(d=D.P2D,s=arguments[2]):t=d||D.P2D,s)($=document.getElementById(P))&&$.parentNode.removeChild($),$=s,this._defaultGraphicsCreated=!1;else{if(t===D.WEBGL)($=document.getElementById(P))&&($.parentNode.removeChild($),l=this._renderer,this._elements=this._elements.filter(function(L){return L!==l})),($=document.createElement("canvas")).id=P,$.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)$=this.canvas;else{$=s||document.createElement("canvas");for(var h=0;document.getElementById("defaultCanvas".concat(h));)h++;P="defaultCanvas".concat(h),$.id=P,$.classList.add("p5Canvas")}this._setupDone||($.dataset.hidden=!0,$.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(d=document.createElement("main"),document.body.appendChild(d)),document.getElementsByTagName("main")[0])).appendChild($)}return t===D.WEBGL?(this._setProperty("_renderer",new I.default.RendererGL($,this,!0)),this._elements.push(this._renderer),n=(s=this._renderer._adjustDimensions(n,r)).adjustedWidth,r=s.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new I.default.Renderer2D($,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(n,r),this._renderer._applyDefaults(),this._renderer},I.default.prototype.resizeCanvas=function(n,r,d){if(I.default._validateParameters("resizeCanvas",arguments),this._renderer){var s,t,l,$={};for(s in this.drawingContext){var h=this.drawingContext[s];m(h)!=="object"&&typeof h!="function"&&($[s]=h)}for(l in this._renderer instanceof I.default.RendererGL&&(n=(t=this._renderer._adjustDimensions(n,r)).adjustedWidth,r=t.adjustedHeight),this.width=n,this.height=r,this._renderer.resize(n,r),$)try{this.drawingContext[l]=$[l]}catch{}d||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},I.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},I.default.prototype.createGraphics=function(n,r){for(var d=arguments.length,s=new Array(2<d?d-2:0),t=2;t<d;t++)s[t-2]=arguments[t];return s[0]instanceof HTMLCanvasElement&&(s[1]=s[0],s[0]=D.P2D),I.default._validateParameters("createGraphics",arguments),new I.default.Graphics(n,r,s[0],this,s[1])},I.default.prototype.createFramebuffer=function(n){return new I.default.Framebuffer(this,n)},I.default.prototype.clearDepth=function(n){this._assert3d("clearDepth"),this._renderer.clearDepth(n)},I.default.prototype.blendMode=function(n){I.default._validateParameters("blendMode",arguments),n===D.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),n=D.BLEND),this._renderer.blendMode(n)},I.default);p.default=a},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(i,X,p){"use strict";function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(r)}function I(r){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(d){return o(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":o(d)})(r)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.slice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=a(i("../main")),c=function(r){if(r&&r.__esModule)return r;if(r===null||I(r)!=="object"&&typeof r!="function")return{default:r};var d=P();if(d&&d.has(r))return d.get(r);var s,t={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in r){var $;Object.prototype.hasOwnProperty.call(r,s)&&(($=l?Object.getOwnPropertyDescriptor(r,s):null)&&($.get||$.set)?Object.defineProperty(t,s,$):t[s]=r[s])}return t.default=r,d&&d.set(r,t),t}(i("../constants")),m=a(i("../helpers"));function P(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,P=function(){return r},r)}function a(r){return r&&r.__esModule?r:{default:r}}function n(r){return function(d){if(Array.isArray(d)){for(var s=0,t=new Array(d.length);s<d.length;s++)t[s]=d[s];return t}}(r)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i("../friendly_errors/fes_core"),i("../friendly_errors/file_errors"),i("../friendly_errors/validate_params"),D.default.prototype._normalizeArcAngles=function(r,d,s,t,l){var $;return r-=c.TWO_PI*Math.floor(r/c.TWO_PI),d-=c.TWO_PI*Math.floor(d/c.TWO_PI),$=Math.min(Math.abs(r-d),c.TWO_PI-Math.abs(r-d)),l&&(r=r<=c.HALF_PI?Math.atan(s/t*Math.tan(r)):r>c.HALF_PI&&r<=3*c.HALF_PI?Math.atan(s/t*Math.tan(r))+c.PI:Math.atan(s/t*Math.tan(r))+c.TWO_PI,d=d<=c.HALF_PI?Math.atan(s/t*Math.tan(d)):d>c.HALF_PI&&d<=3*c.HALF_PI?Math.atan(s/t*Math.tan(d))+c.PI:Math.atan(s/t*Math.tan(d))+c.TWO_PI),d<r&&(d+=c.TWO_PI),{start:r,stop:d,correspondToSamePoint:$<1e-5}},D.default.prototype.arc=function(r,d,s,t,l,$,h,L){return D.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&l!==$&&(l=this._toRadians(l),$=this._toRadians($),s=Math.abs(s),t=Math.abs(t),r=m.default.modeAdjust(r,d,s,t,this._renderer._ellipseMode),(d=this._normalizeArcAngles(l,$,r.w,r.h,!0)).correspondToSamePoint?this._renderer.ellipse([r.x,r.y,r.w,r.h,L]):(this._renderer.arc(r.x,r.y,r.w,r.h,d.start,d.stop,h,L),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[r.x,r.y,r.w,r.h,d.start,d.stop,h]))),this},D.default.prototype.ellipse=function(r,d,s,t,l){return D.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},D.default.prototype.circle=function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];D.default._validateParameters("circle",d);var t=d.slice(0,2);return t.push(d[2],d[2]),this._renderEllipse.apply(this,n(t))},D.default.prototype._renderEllipse=function(r,d,s,t,l){return(this._renderer._doStroke||this._renderer._doFill)&&(s<0&&(s=Math.abs(s)),t===void 0?t=s:t<0&&(t=Math.abs(t)),r=m.default.modeAdjust(r,d,s,t,this._renderer._ellipseMode),this._renderer.ellipse([r.x,r.y,r.w,r.h,l]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[r.x,r.y,r.w,r.h])),this},D.default.prototype.line=function(){for(var r,d=arguments.length,s=new Array(d),t=0;t<d;t++)s[t]=arguments[t];return D.default._validateParameters("line",s),this._renderer._doStroke&&(r=this._renderer).line.apply(r,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",s),this},D.default.prototype.point=function(){for(var r,d=arguments.length,s=new Array(d),t=0;t<d;t++)s[t]=arguments[t];return D.default._validateParameters("point",s),this._renderer._doStroke&&(s.length===1&&s[0]instanceof D.default.Vector?this._renderer.point.call(this._renderer,s[0].x,s[0].y,s[0].z):((r=this._renderer).point.apply(r,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",s))),this},D.default.prototype.quad=function(){for(var r,d=arguments.length,s=new Array(d),t=0;t<d;t++)s[t]=arguments[t];return D.default._validateParameters("quad",s),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&s.length<12?this._renderer.quad.call(this._renderer,s[0],s[1],0,s[2],s[3],0,s[4],s[5],0,s[6],s[7],0,s[8],s[9]):((r=this._renderer).quad.apply(r,s),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",s))),this},D.default.prototype.rect=function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];return D.default._validateParameters("rect",d),this._renderRect.apply(this,d)},D.default.prototype.square=function(r,d,s,t,l,$,h){return D.default._validateParameters("square",arguments),this._renderRect.call(this,r,d,s,s,t,l,$,h)},D.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var r=m.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),d=[r.x,r.y,r.w,r.h],s=4;s<arguments.length;s++)d[s]=arguments[s];this._renderer.rect(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[r.x,r.y,r.w,r.h])}return this},D.default.prototype.triangle=function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];return D.default._validateParameters("triangle",d),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(d),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",d),this},i=D.default,p.default=i},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(i,X,p){"use strict";function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(a)}function I(a){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(n){return o(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":o(n)})(a)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(P=i("../main"))&&P.__esModule?P:{default:P},c=function(a){if(a&&a.__esModule)return a;if(a===null||I(a)!=="object"&&typeof a!="function")return{default:a};var n=m();if(n&&n.has(a))return n.get(a);var r,d={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in a){var t;Object.prototype.hasOwnProperty.call(a,r)&&((t=s?Object.getOwnPropertyDescriptor(a,r):null)&&(t.get||t.set)?Object.defineProperty(d,r,t):d[r]=a[r])}return d.default=a,n&&n.set(a,d),d}(i("../constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}D.default.prototype.ellipseMode=function(a){return D.default._validateParameters("ellipseMode",arguments),a!==c.CORNER&&a!==c.CORNERS&&a!==c.RADIUS&&a!==c.CENTER||(this._renderer._ellipseMode=a),this},D.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},D.default.prototype.rectMode=function(a){return D.default._validateParameters("rectMode",arguments),a!==c.CORNER&&a!==c.CORNERS&&a!==c.RADIUS&&a!==c.CENTER||(this._renderer._rectMode=a),this},D.default.prototype.smooth=function(){return this.setAttributes("antialias",!0),this._renderer.isP3D||"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},D.default.prototype.strokeCap=function(a){return D.default._validateParameters("strokeCap",arguments),a!==c.ROUND&&a!==c.SQUARE&&a!==c.PROJECT||this._renderer.strokeCap(a),this},D.default.prototype.strokeJoin=function(a){return D.default._validateParameters("strokeJoin",arguments),a!==c.ROUND&&a!==c.BEVEL&&a!==c.MITER||this._renderer.strokeJoin(a),this},D.default.prototype.strokeWeight=function(a){return D.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(a),this};var P=D.default;p.default=P},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(I=i("../main"))&&I.__esModule?I:{default:I};i("../friendly_errors/fes_core"),i("../friendly_errors/file_errors"),i("../friendly_errors/validate_params"),o.default.prototype.bezier=function(){for(var D,c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];return o.default._validateParameters("bezier",m),(this._renderer._doStroke||this._renderer._doFill)&&(D=this._renderer).bezier.apply(D,m),this},o.default.prototype.bezierDetail=function(D){return o.default._validateParameters("bezierDetail",arguments),this._bezierDetail=D,this},o.default.prototype.bezierPoint=function(D,c,m,P,a){o.default._validateParameters("bezierPoint",arguments);var n=1-a;return Math.pow(n,3)*D+3*Math.pow(n,2)*a*c+3*n*Math.pow(a,2)*m+Math.pow(a,3)*P},o.default.prototype.bezierTangent=function(D,c,m,P,a){o.default._validateParameters("bezierTangent",arguments);var n=1-a;return 3*P*Math.pow(a,2)-3*m*Math.pow(a,2)+6*m*n*a-6*c*n*a+3*c*Math.pow(n,2)-3*D*Math.pow(n,2)},o.default.prototype.curve=function(){for(var D,c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];return o.default._validateParameters("curve",m),this._renderer._doStroke&&(D=this._renderer).curve.apply(D,m),this},o.default.prototype.curveDetail=function(D){return o.default._validateParameters("curveDetail",arguments),this._curveDetail=D<3?3:D,this},o.default.prototype.curveTightness=function(D){return o.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=D,this},o.default.prototype.curvePoint=function(D,c,m,P,a){o.default._validateParameters("curvePoint",arguments);var n=this._renderer._curveTightness,r=a*a*a,d=a*a;return D*((n-1)/2*r+(1-n)*d+(n-1)/2*a)+c*((n+3)/2*r+(-5-n)/2*d+1)+m*((-3-n)/2*r+(n+2)*d+(1-n)/2*a)+P*((1-n)/2*r+(n-1)/2*d)},o.default.prototype.curveTangent=function(D,c,m,P,d){o.default._validateParameters("curveTangent",arguments);var n=this._renderer._curveTightness,r=d*d*3,d=2*d;return D*((n-1)/2*r+(1-n)*d+(n-1)/2)+c*((n+3)/2*r+(-5-n)/2*d)+m*((-3-n)/2*r+(n+2)*d+(1-n)/2)+P*((1-n)/2*r+(n-1)/2*d)};var I=o.default;p.default=I},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(i,X,p){"use strict";function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(h)}function I(h){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(L){return o(L)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":o(L)})(h)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.slice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=($=i("../main"))&&$.__esModule?$:{default:$},c=function(h){if(h&&h.__esModule)return h;if(h===null||I(h)!=="object"&&typeof h!="function")return{default:h};var L=m();if(L&&L.has(h))return L.get(h);var U,T={},B=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(U in h){var J;Object.prototype.hasOwnProperty.call(h,U)&&((J=B?Object.getOwnPropertyDescriptor(h,U):null)&&(J.get||J.set)?Object.defineProperty(T,U,J):T[U]=h[U])}return T.default=h,L&&L.set(h,T),T}(i("../constants"));function m(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,m=function(){return h},h)}var P=null,a=[],n=[],r=!1,d=!1,s=!1,t=!1,l=!0,$=(D.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(n=[],t=!0),this},D.default.prototype.beginShape=function(h){var L;return D.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(L=this._renderer).beginShape.apply(L,arguments):(P=h===c.POINTS||h===c.LINES||h===c.TRIANGLES||h===c.TRIANGLE_FAN||h===c.TRIANGLE_STRIP||h===c.QUADS||h===c.QUAD_STRIP?h:null,a=[],n=[]),this},D.default.prototype.bezierVertex=function(){for(var h,L=arguments.length,U=new Array(L),T=0;T<L;T++)U[T]=arguments[T];if(D.default._validateParameters("bezierVertex",U),this._renderer.isP3D)(h=this._renderer).bezierVertex.apply(h,U);else if(a.length===0)D.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{r=!0;for(var B=[],J=0;J<U.length;J++)B[J]=U[J];B.isVert=!1,(t?n:a).push(B)}return this},D.default.prototype.curveVertex=function(){for(var h,L=arguments.length,U=new Array(L),T=0;T<L;T++)U[T]=arguments[T];return D.default._validateParameters("curveVertex",U),this._renderer.isP3D?(h=this._renderer).curveVertex.apply(h,U):(d=!0,this.vertex(U[0],U[1])),this},D.default.prototype.endContour=function(){if(!this._renderer.isP3D){var h=n[0].slice();h.isVert=n[0].isVert,h.moveTo=!1,n.push(h),l&&(a.push(a[0]),l=!1);for(var L=0;L<n.length;L++)a.push(n[L])}return this},D.default.prototype.endShape=function(h){var L=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(D.default._validateParameters("endShape",arguments),L<1&&(console.log("\u{1F338} p5.js says: You can not have less than one instance"),L=1),this._renderer.isP3D)this._renderer.endShape(h,d,r,s,t,P,L);else{if(L!==1&&console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode"),a.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;L=h===c.CLOSE,L&&!t&&a.push(a[0]),this._renderer.endShape(h,a,d,r,s,t,P),l=!(t=s=r=d=!1),L&&a.pop()}return this},D.default.prototype.quadraticVertex=function(){for(var h,L=arguments.length,U=new Array(L),T=0;T<L;T++)U[T]=arguments[T];if(D.default._validateParameters("quadraticVertex",U),this._renderer.isP3D)(h=this._renderer).quadraticVertex.apply(h,U);else{if(this._contourInited)return(h={}).x=U[0],h.y=U[1],h.x3=U[2],h.y3=U[3],h.type=c.QUADRATIC,this._contourVertices.push(h),this;if(0<a.length){s=!0;for(var B=[],J=0;J<U.length;J++)B[J]=U[J];B.isVert=!1,(t?n:a).push(B)}else D.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},D.default.prototype.vertex=function(h,L,U,T,B){var J;return this._renderer.isP3D?(J=this._renderer).vertex.apply(J,arguments):((J=[]).isVert=!0,J[0]=h,J[1]=L,J[2]=0,J[3]=0,J[4]=0,J[5]=this._renderer._getFill(),J[6]=this._renderer._getStroke(),U&&(J.moveTo=U),(t?(n.length===0&&(J.moveTo=!0),n):a).push(J)),this},D.default.prototype.normal=function(h,L,U){var T;return this._assert3d("normal"),D.default._validateParameters("normal",arguments),(T=this._renderer).normal.apply(T,arguments),this},D.default);p.default=$},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(i,X,p){},{}],295:[function(i,X,p){"use strict";i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.assign"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("./main"))&&i.__esModule?i:{default:i},i.default.prototype.noLoop=function(){this._loop=!1},i.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},i.default.prototype.isLooping=function(){return this._loop},i.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},i.default.prototype.pop=function(){var o=this._styles.pop();o?(this._renderer.pop(o.renderer),Object.assign(this,o.props)):console.warn("pop() was called without matching push()")},i.default.prototype.redraw=function(o){if(!this._inUserDraw&&this._setupDone){var I=parseInt(o),D=((isNaN(I)||I<1)&&(I=1),this._isGlobal?window:this);if(typeof D.draw=="function"){D.setup===void 0&&D.scale(D._pixelDensity,D._pixelDensity);for(var c=0;c<I;c++){D.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),D._renderer.isP3D&&D._renderer._update(),D._setProperty("frameCount",D.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{D.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},i=i.default,p.default=i},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("./main"))&&i.__esModule?i:{default:i};function I(D){return function(c){if(Array.isArray(c)){for(var m=0,P=new Array(c.length);m<c.length;m++)P[m]=c[m];return P}}(D)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(D)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.applyMatrix=function(){var D=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||D?(D=this._renderer).applyMatrix.apply(D,I(arguments.length<=0?void 0:arguments[0])):(D=this._renderer).applyMatrix.apply(D,arguments),this},o.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},o.default.prototype.rotate=function(D,c){return o.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(D),c),this},o.default.prototype.rotateX=function(D){return this._assert3d("rotateX"),o.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(D)),this},o.default.prototype.rotateY=function(D){return this._assert3d("rotateY"),o.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(D)),this},o.default.prototype.rotateZ=function(D){return this._assert3d("rotateZ"),o.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(D)),this},o.default.prototype.scale=function(D,c,m){var P;return o.default._validateParameters("scale",arguments),D instanceof o.default.Vector?(D=(P=D).x,c=P.y,m=P.z):Array.isArray(D)&&(D=(P=D)[0],c=P[1],m=P[2]||1),isNaN(c)?c=m=D:isNaN(m)&&(m=1),this._renderer.scale(D,c,m),this},o.default.prototype.shearX=function(D){return o.default._validateParameters("shearX",arguments),D=this._toRadians(D),this._renderer.applyMatrix(1,0,Math.tan(D),1,0,0),this},o.default.prototype.shearY=function(D){return o.default._validateParameters("shearY",arguments),D=this._toRadians(D),this._renderer.applyMatrix(1,Math.tan(D),0,1,0,0),this},o.default.prototype.translate=function(D,c,m){return o.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(D,c,m):this._renderer.translate(D,c),this},i=o.default,p.default=i},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(i,X,p){"use strict";function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(P){return typeof P}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P})(m)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.ends-with"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.ends-with"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator");var I=(i=i("../core/main"))&&i.__esModule?i:{default:i};function D(m){return function(P){if(Array.isArray(P)){for(var a=0,n=new Array(P.length);a<P.length;a++)n[a]=P[a];return n}}(m)||function(P){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]")return Array.from(P)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(m){return(c=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(P){return o(P)}:function(P){return P&&typeof Symbol=="function"&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":o(P)})(m)}I.default.prototype.storeItem=function(m,P){typeof m!="string"&&console.log("The argument that you passed to storeItem() - ".concat(m," is not a string.")),m.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(m," must not end with 'p5TypeID'.")),P===void 0&&console.log("You cannot store undefined variables using storeItem().");var a=c(P);switch(a){case"number":case"boolean":P=P.toString();break;case"object":P instanceof I.default.Color?a="p5.Color":P instanceof I.default.Vector&&(a="p5.Vector",P=[P.x,P.y,P.z]),P=JSON.stringify(P)}localStorage.setItem(m,P),m="".concat(m,"p5TypeID"),localStorage.setItem(m,a)},I.default.prototype.getItem=function(m){var P=localStorage.getItem(m),a=localStorage.getItem("".concat(m,"p5TypeID"));if(a===void 0)console.log("Unable to determine type of item stored under ".concat(m,"in local storage. Did you save the item with something other than setItem()?"));else if(P!==null)switch(a){case"number":P=parseFloat(P);break;case"boolean":P=P==="true";break;case"object":P=JSON.parse(P);break;case"p5.Color":P=JSON.parse(P),P=this.color.apply(this,D(P.levels));break;case"p5.Vector":P=JSON.parse(P),P=this.createVector.apply(this,D(P))}return P},I.default.prototype.clearStorage=function(){var m=this;Object.keys(localStorage).forEach(function(P){P.endsWith("p5TypeID")&&m.removeItem(P.replace("p5TypeID",""))})},I.default.prototype.removeItem=function(m){typeof m!="string"&&console.log("The argument that you passed to removeItem() - ".concat(m," is not a string.")),localStorage.removeItem(m),localStorage.removeItem("".concat(m,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(i,X,p){"use strict";function o(s){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(s)}function I(s){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(t){return o(t)}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":o(t)})(s)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.reflect.construct"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.object.keys"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(i=i("../core/main"))&&i.__esModule?i:{default:i};function c(s,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(t&&t.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),t&&m(s,t)}function m(s,t){return(m=Object.setPrototypeOf||function(l,$){return l.__proto__=$,l})(s,t)}function P(s){return function(){var t,l=a(s),l=(t=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(t=a(this).constructor,Reflect.construct(l,arguments,t)):l.apply(this,arguments),this);if(!t||I(t)!=="object"&&typeof t!="function"){if(l!==void 0)return l;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t}}function a(s){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(s)}function n(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}function r(s,t){for(var l=0;l<t.length;l++){var $=t[l];$.enumerable=$.enumerable||!1,$.configurable=!0,"value"in $&&($.writable=!0),Object.defineProperty(s,$.key,$)}}function d(s,t,l){t&&r(s.prototype,t),l&&r(s,l)}D.default.prototype.createStringDict=function(s,t){return D.default._validateParameters("createStringDict",arguments),new D.default.StringDict(s,t)},D.default.prototype.createNumberDict=function(s,t){return D.default._validateParameters("createNumberDict",arguments),new D.default.NumberDict(s,t)},D.default.TypedDict=function(){function s(t,l){return n(this,s),t instanceof Object?this.data=t:(this.data={},this.data[t]=l),this}return d(s,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(t){return this.data.hasOwnProperty(t)}},{key:"get",value:function(t){if(this.data.hasOwnProperty(t))return this.data[t];console.log("".concat(t," does not exist in this Dictionary"))}},{key:"set",value:function(t,l){this._validate(l)?this.data[t]=l:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(t){for(var l in t)this.set(l,t[l])}},{key:"create",value:function(t,l){t instanceof Object&&l===void 0?this._addObj(t):t!==void 0?this.set(t,l):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(t){if(!this.data.hasOwnProperty(t))throw new Error("".concat(t," does not exist in this Dictionary"));delete this.data[t]}},{key:"print",value:function(){for(var t in this.data)console.log("key:".concat(t," value:").concat(this.data[t]))}},{key:"saveTable",value:function(t){var l,$="";for(l in this.data)$+="".concat(l,",").concat(this.data[l],`
`);var h=new Blob([$],{type:"text/csv"});D.default.prototype.downloadFile(h,t||"mycsv","csv")}},{key:"saveJSON",value:function(t,l){D.default.prototype.saveJSON(this.data,t,l)}},{key:"_validate",value:function(t){return!0}}]),s}(),D.default.StringDict=function(){c(t,D.default.TypedDict);var s=P(t);function t(){n(this,t);for(var l=arguments.length,$=new Array(l),h=0;h<l;h++)$[h]=arguments[h];return s.call.apply(s,[this].concat($))}return d(t,[{key:"_validate",value:function(l){return typeof l=="string"}}]),t}(),D.default.NumberDict=function(){c(t,D.default.TypedDict);var s=P(t);function t(){n(this,t);for(var l=arguments.length,$=new Array(l),h=0;h<l;h++)$[h]=arguments[h];return s.call.apply(s,[this].concat($))}return d(t,[{key:"_validate",value:function(l){return typeof l=="number"}},{key:"add",value:function(l,$){this.data.hasOwnProperty(l)?this.data[l]+=$:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"sub",value:function(l,$){this.add(l,-$)}},{key:"mult",value:function(l,$){this.data.hasOwnProperty(l)?this.data[l]*=$:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"div",value:function(l,$){this.data.hasOwnProperty(l)?this.data[l]/=$:console.log("The key - ".concat(l," does not exist in this dictionary."))}},{key:"_valueTest",value:function(l){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var $,h=this.data[Object.keys(this.data)[0]];for($ in this.data)this.data[$]*l<h*l&&(h=this.data[$]);return h}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(l){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var $=Object.keys(this.data)[0],h=1;h<Object.keys(this.data).length;h++)Object.keys(this.data)[h]*l<$*l&&($=Object.keys(this.data)[h]);return $}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),t}(),i=D.default.TypedDict,p.default=i},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(i,X,p){"use strict";function o($){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})($)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.every"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.reflect.construct"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/web.url"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.every"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/web.url"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var I=(i=i("../core/main"))&&i.__esModule?i:{default:i};function D($,h){for(var L=0;L<h.length;L++){var U=h[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty($,U.key,U)}}function c($,h,L){h&&D($.prototype,h),L&&D($,L)}function m($,h){return(m=Object.setPrototypeOf||function(L,U){return L.__proto__=U,L})($,h)}function P($){return function(){var h,L,U=n($);return h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=n(this).constructor,Reflect.construct(U,arguments,h)):U.apply(this,arguments),U=this,!(L=h)||d(L)!=="object"&&typeof L!="function"?a(U):L}}function a($){if($===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return $}function n($){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})($)}function r($,h){if(!($ instanceof h))throw new TypeError("Cannot call a class as a function")}function d($){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})($)}function s($,h,L){return(h._userNode||document.body).appendChild($),L=new(L?I.default.MediaElement:I.default.Element)($,h),h._elements.push(L),L}function t($,J,L,U){var T=document.createElement(J),B=(typeof(L=L||"")=="string"&&(L=[L]),!0),J=!1,S=void 0;try{for(var A,Q=L[Symbol.iterator]();!(B=(A=Q.next()).done);B=!0){var M=A.value,k=document.createElement("source");k.setAttribute("src",M),T.appendChild(k)}}catch(j){J=!0,S=j}finally{try{B||Q.return==null||Q.return()}finally{if(J)throw S}}typeof U=="function"&&T.addEventListener("canplaythrough",function j(){U(),T.removeEventListener("canplaythrough",j)});var C=s(T,$,!0);return C.loadedmetadata=!1,T.addEventListener("loadedmetadata",function(){C.width=T.videoWidth,C.height=T.videoHeight,C.elt.width===0&&(C.elt.width=T.videoWidth),C.elt.height===0&&(C.elt.height=T.videoHeight),C.presetPlaybackRate&&(C.elt.playbackRate=C.presetPlaybackRate,delete C.presetPlaybackRate),C.loadedmetadata=!0}),C}I.default.prototype.select=function($,h){return I.default._validateParameters("select",arguments),h=this._getContainer(h).querySelector($),h?this._wrapElement(h):null},I.default.prototype.selectAll=function($,h){I.default._validateParameters("selectAll",arguments);var L=[],U=this._getContainer(h).querySelectorAll($);if(U)for(var T=0;T<U.length;T++){var B=this._wrapElement(U[T]);L.push(B)}return L},I.default.prototype._getContainer=function($){var h=document;return typeof $=="string"?h=document.querySelector($)||document:$ instanceof I.default.Element?h=$.elt:$ instanceof HTMLElement&&(h=$),h},I.default.prototype._wrapElement=function($){var h,L=Array.prototype.slice.call($.children);return $.tagName==="INPUT"&&$.type==="checkbox"?((h=new I.default.Element($,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},h):$.tagName==="VIDEO"||$.tagName==="AUDIO"?new I.default.MediaElement($,this):$.tagName==="SELECT"?this.createSelect(new I.default.Element($,this)):0<L.length&&L.every(function(U){return U.tagName==="INPUT"||U.tagName==="LABEL"})&&($.tagName==="DIV"||$.tagName==="SPAN")?this.createRadio(new I.default.Element($,this)):new I.default.Element($,this)},I.default.prototype.removeElements=function($){I.default._validateParameters("removeElements",arguments),this._elements.filter(function(h){return!(h.elt instanceof HTMLCanvasElement)}).map(function(h){return h.remove()})},I.default.Element.prototype.changed=function($){return I.default.Element._adjustListener("change",$,this),this},I.default.Element.prototype.input=function($){return I.default.Element._adjustListener("input",$,this),this},I.default.prototype.createDiv=function(){var $=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",h=document.createElement("div");return h.innerHTML=$,s(h,this)},I.default.prototype.createP=function(){var $=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",h=document.createElement("p");return h.innerHTML=$,s(h,this)},I.default.prototype.createSpan=function(){var $=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",h=document.createElement("span");return h.innerHTML=$,s(h,this)},I.default.prototype.createImg=function(){I.default._validateParameters("createImg",arguments);var $,h=document.createElement("img"),L=arguments;return 1<L.length&&typeof L[1]=="string"&&(h.alt=L[1]),2<L.length&&typeof L[2]=="string"&&(h.crossOrigin=L[2]),h.src=L[0],$=s(h,this),h.addEventListener("load",function(){$.width=h.offsetWidth||h.width,$.height=h.offsetHeight||h.height;var U=L[L.length-1];typeof U=="function"&&U($)}),$},I.default.prototype.createA=function($,h,L){I.default._validateParameters("createA",arguments);var U=document.createElement("a");return U.href=$,U.innerHTML=h,L&&(U.target=L),s(U,this)},I.default.prototype.createSlider=function($,h,L,U){I.default._validateParameters("createSlider",arguments);var T=document.createElement("input");return T.type="range",T.min=$,T.max=h,U===0?T.step=1e-18:U&&(T.step=U),typeof L=="number"&&(T.value=L),s(T,this)},I.default.prototype.createButton=function($,h){I.default._validateParameters("createButton",arguments);var L=document.createElement("button");return L.innerHTML=$,h&&(L.value=h),s(L,this)},I.default.prototype.createCheckbox=function(){for(var $=arguments.length,h=new Array($),L=0;L<$;L++)h[L]=arguments[L];I.default._validateParameters("createCheckbox",h);var U=document.createElement("div"),T=document.createElement("input"),B=(T.type="checkbox",document.createElement("label")),J=(B.appendChild(T),U.appendChild(B),s(U,this));return J.checked=function(){var S=J.elt.firstElementChild.getElementsByTagName("input")[0];if(S){if(arguments.length===0)return S.checked;S.checked=!(arguments.length<=0||!arguments[0])}return J},this.value=function(S){return J.value=S,this},h[0]&&(J.value(h[0]),(U=document.createElement("span")).innerHTML=h[0],B.appendChild(U)),h[1]&&(T.checked=!0),J},I.default.prototype.createSelect=function(){for(var $,h=arguments.length,L=new Array(h),U=0;U<h;U++)L[U]=arguments[U];I.default._validateParameters("createSelect",L);var T,B=L[0];return B instanceof I.default.Element&&B.elt instanceof HTMLSelectElement?this.elt=($=B).elt:B instanceof HTMLSelectElement?($=s(B,this),this.elt=B):(T=document.createElement("select"),B&&typeof B=="boolean"&&T.setAttribute("multiple","true"),$=s(T,this),this.elt=T),$.option=function(J,S){var A;if(J!==void 0){for(var Q,M=0;M<this.elt.length;M+=1)if(this.elt[M].textContent===J){A=M;break}A!==void 0?S===!1?this.elt.remove(A):this.elt[A].value=S:((Q=document.createElement("option")).textContent=J,Q.value=S===void 0?J:S,this.elt.appendChild(Q),this._pInst._elements.push(Q))}},$.selected=function(J){if(J!==void 0){for(var S=0;S<this.elt.length;S+=1)this.elt[S].value.toString()===J.toString()&&(this.elt.selectedIndex=S);return this}if(this.elt.getAttribute("multiple")){var A=[],Q=!0,M=!1,k=void 0;try{for(var C,j=this.elt.selectedOptions[Symbol.iterator]();!(Q=(C=j.next()).done);Q=!0){var G=C.value;A.push(G.value)}}catch(y){M=!0,k=y}finally{try{Q||j.return==null||j.return()}finally{if(M)throw k}}return A}return this.elt.value},$.disable=function(J){if(typeof J=="string")for(var S=0;S<this.elt.length;S++)this.elt[S].value.toString()===J&&(this.elt[S].disabled=!0,this.elt[S].selected=!1);else this.elt.disabled=!0;return this},$.enable=function(J){if(typeof J=="string")for(var S=0;S<this.elt.length;S++)this.elt[S].value.toString()===J&&(this.elt[S].disabled=!1,this.elt[S].selected=!1);else{this.elt.disabled=!1;for(var A=0;A<this.elt.length;A++)this.elt[A].disabled=!1,this.elt[A].selected=!1}return this},$},I.default.prototype.createRadio=function(){function $(J){return J instanceof HTMLInputElement&&J.type==="radio"}function h(J){return J instanceof HTMLLabelElement}var L,U,T,B=arguments.length<=0?void 0:arguments[0];return B instanceof I.default.Element&&(B.elt instanceof HTMLDivElement||B.elt instanceof HTMLSpanElement)?(L=B,this.elt=B.elt):B instanceof HTMLDivElement||B instanceof HTMLSpanElement?(L=s(B,this),U=this.elt=B,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(T=arguments.length<=1?void 0:arguments[1])):(typeof B=="string"&&(T=B),U=document.createElement("div"),L=s(U,this),this.elt=U),L._name=T||"radioOption",L._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(J){return $(J)||h(J)&&$(J.firstElementChild)}).map(function(J){return $(J)?J:J.firstElementChild})},L.option=function(J,S){var A,Q,M,k=!0,C=!1,j=void 0;try{for(var G,y=L._getOptionsArray()[Symbol.iterator]();!(k=(G=y.next()).done);k=!0){var g=G.value;if(g.value===J){A=g;break}}}catch(N){C=!0,j=N}finally{try{k||y.return==null||y.return()}finally{if(C)throw j}}return A===void 0&&((A=document.createElement("input")).setAttribute("type","radio"),A.setAttribute("value",J)),A.setAttribute("name",L._name),h(A.parentElement)?Q=A.parentElement:(Q=document.createElement("label")).insertAdjacentElement("afterbegin",A),Q.lastElementChild instanceof HTMLSpanElement?M=Q.lastElementChild:(M=document.createElement("span"),A.insertAdjacentElement("afterend",M)),M.innerHTML=S===void 0?J:S,this.elt.appendChild(Q),A},L.remove=function(J){var S=!0,A=!1,Q=void 0;try{for(var M,k=L._getOptionsArray()[Symbol.iterator]();!(S=(M=k.next()).done);S=!0){var C=M.value;if(C.value===J)return void(h(C.parentElement)?C.parentElement:C).remove()}}catch(j){A=!0,Q=j}finally{try{S||k.return==null||k.return()}finally{if(A)throw Q}}},L.value=function(){var J="",S=!0,A=!1,Q=void 0;try{for(var M,k=L._getOptionsArray()[Symbol.iterator]();!(S=(M=k.next()).done);S=!0){var C=M.value;if(C.checked){J=C.value;break}}}catch(j){A=!0,Q=j}finally{try{S||k.return==null||k.return()}finally{if(A)throw Q}}return J},L.selected=function(J){var S=null;if(J===void 0){var A=!0,Q=!1,M=void 0;try{for(var k,C=L._getOptionsArray()[Symbol.iterator]();!(A=(k=C.next()).done);A=!0){var j=k.value;if(j.checked){S=j;break}}}catch(w){Q=!0,M=w}finally{try{A||C.return==null||C.return()}finally{if(Q)throw M}}}else{L._getOptionsArray().forEach(function(F){F.checked=!1,F.removeAttribute("checked")});var G=!0,Q=!1,M=void 0;try{for(var y,g=L._getOptionsArray()[Symbol.iterator]();!(G=(y=g.next()).done);G=!0){var N=y.value;N.value===J&&(N.setAttribute("checked",!0),N.checked=!0,S=N)}}catch(F){Q=!0,M=F}finally{try{G||g.return==null||g.return()}finally{if(Q)throw M}}}return S},L.disable=function(){var J=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],S=!0,A=!1,Q=void 0;try{for(var M,k=L._getOptionsArray()[Symbol.iterator]();!(S=(M=k.next()).done);S=!0)M.value.setAttribute("disabled",J)}catch(C){A=!0,Q=C}finally{try{S||k.return==null||k.return()}finally{if(A)throw Q}}},L},I.default.prototype.createColorPicker=function($){I.default._validateParameters("createColorPicker",arguments);var h=document.createElement("input");return h.type="color",$?$ instanceof I.default.Color?h.value=$.toString("#rrggbb"):(I.default.prototype._colorMode="rgb",I.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},h.value=I.default.prototype.color($).toString("#rrggbb")):h.value="#000000",(h=s(h,this)).color=function(){return $&&($.mode&&(I.default.prototype._colorMode=$.mode),$.maxes&&(I.default.prototype._colorMaxes=$.maxes)),I.default.prototype.color(this.elt.value)},h},I.default.prototype.createInput=function(){var $=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",L=(I.default._validateParameters("createInput",arguments),document.createElement("input"));return L.setAttribute("value",$),L.setAttribute("type",h),s(L,this)},I.default.prototype.createFileInput=function($){var h,L=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(I.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(h=document.createElement("input")).setAttribute("type","file"),L&&h.setAttribute("multiple",!0),h.addEventListener("change",function(U){var T=!0,B=!1,J=void 0;try{for(var S,A=U.target.files[Symbol.iterator]();!(T=(S=A.next()).done);T=!0){var Q=S.value;I.default.File._load(Q,$)}}catch(M){B=!0,J=M}finally{try{T||A.return==null||A.return()}finally{if(B)throw J}}},!1),s(h,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},I.default.prototype.createVideo=function($,h){return I.default._validateParameters("createVideo",arguments),t(this,"video",$,h)},I.default.prototype.createAudio=function($,h){return I.default._validateParameters("createAudio",arguments),t(this,"audio",$,h)},I.default.prototype.VIDEO="video",I.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function($){var h=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return h?new Promise(function(L,U){h.call(navigator,$,L,U)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),I.default.prototype.createCapture=function(){for(var $=arguments.length,h=new Array($),L=0;L<$;L++)h[L]=arguments[L];if(I.default._validateParameters("createCapture",h),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var U,T=!0,B=!0,J=!1,S=0,A=h;S<A.length;S++){var Q=A[S];Q===I.default.prototype.VIDEO?B=!1:Q===I.default.prototype.AUDIO?T=!1:d(Q)==="object"?(Q.flipped!==void 0&&(J=Q.flipped,delete Q.flipped),M=Object.assign({},M,Q)):typeof Q=="function"&&(U=Q)}var M=Object.assign({},{video:T,audio:B},M),k=document.createElement("video"),C=(k.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(M).then(function(j){try{"srcObject"in k?k.srcObject=j:k.src=window.URL.createObjectURL(j)}catch{k.src=j}}).catch(function(j){j.name==="NotFoundError"&&I.default._friendlyError("No webcam found on this device","createCapture"),j.name==="NotAllowedError"&&I.default._friendlyError("Access to the camera was denied","createCapture"),console.error(j)}),s(k,this,!0));return C.loadedmetadata=!1,k.addEventListener("loadedmetadata",function(){k.play(),k.width?(C.width=k.width,C.height=k.height,J&&(C.elt.style.transform="scaleX(-1)")):(C.width=C.elt.width=k.videoWidth,C.height=C.elt.height=k.videoHeight),C.loadedmetadata=!0,U&&U(k.srcObject)}),C.flipped=J,C},I.default.prototype.createElement=function($,h){return I.default._validateParameters("createElement",arguments),$=document.createElement($),h!==void 0&&($.innerHTML=h),s($,this)},I.default.Element.prototype.addClass=function($){return this.elt.className?this.hasClass($)||(this.elt.className=this.elt.className+" "+$):this.elt.className=$,this},I.default.Element.prototype.removeClass=function($){return this.elt.classList.remove($),this},I.default.Element.prototype.hasClass=function($){return this.elt.classList.contains($)},I.default.Element.prototype.toggleClass=function($){return this.elt.classList.contains($)?this.elt.classList.remove($):this.elt.classList.add($),this},I.default.Element.prototype.child=function($){return $===void 0?this.elt.childNodes:(typeof $=="string"?($[0]==="#"&&($=$.substring(1)),$=document.getElementById($)):$ instanceof I.default.Element&&($=$.elt),$ instanceof HTMLElement&&this.elt.appendChild($),this)},I.default.Element.prototype.center=function($){var h=this.elt.style.display,L=this.elt.style.display==="none",U=this.parent().style.display==="none",T={x:this.elt.offsetLeft,y:this.elt.offsetTop},B=(L&&this.show(),U&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),J=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return $==="both"||$===void 0?this.position(B/2+this.parent().offsetLeft,J/2+this.parent().offsetTop):$==="horizontal"?this.position(B/2+this.parent().offsetLeft,T.y):$==="vertical"&&this.position(T.x,J/2+this.parent().offsetTop),this.style("display",h),L&&this.hide(),U&&this.parent().hide(),this},I.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},I.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},I.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var $="";return this.elt.style.transform&&($=($=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=$,this},I.default.Element.prototype._rotate=function(){var $="";return this.elt.style.transform&&($=($=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=$,this},I.default.Element.prototype.style=function($,h){if((h=h instanceof I.default.Color?"rgba("+h.levels[0]+","+h.levels[1]+","+h.levels[2]+","+h.levels[3]/255+")":h)===void 0){if($.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue($);for(var L=$.split(";"),U=0;U<L.length;U++){var T=L[U].split(":");T[0]&&T[1]&&(this.elt.style[T[0].trim()]=T[1].trim())}}else this.elt.style[$]=h,$!=="width"&&$!=="height"&&$!=="left"&&$!=="top"||(h=window.getComputedStyle(this.elt).getPropertyValue($).replace(/[^\d.]/g,""),this[$]=Math.round(parseFloat(h,10)));return this},I.default.Element.prototype.attribute=function($,h){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return h===void 0?this.elt.getAttribute($):(this.elt.setAttribute($,h),this);if(h===void 0)return this.elt.firstChild.getAttribute($);for(var L=0;L<this.elt.childNodes.length;L++)this.elt.childNodes[L].setAttribute($,h)},I.default.Element.prototype.removeAttribute=function($){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var h=0;h<this.elt.childNodes.length;h++)this.elt.childNodes[h].removeAttribute($);return this.elt.removeAttribute($),this},I.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},I.default.Element.prototype.show=function(){return this.elt.style.display="block",this},I.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},I.default.Element.prototype.size=function($,h){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var L=$,U=h,T=I.default.prototype.AUTO;if(L!==T||U!==T){if(L===T?L=h*this.width/this.height:U===T&&(U=$*this.height/this.width),this.elt instanceof HTMLCanvasElement){var B,J={},S=this.elt.getContext("2d");for(B in S)J[B]=S[B];for(B in this.elt.setAttribute("width",L*this._pInst._pixelDensity),this.elt.setAttribute("height",U*this._pInst._pixelDensity),this.elt.style.width=L+"px",this.elt.style.height=U+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),J)this.elt.getContext("2d")[B]=J[B]}else this.elt.style.width=L+"px",this.elt.style.height=U+"px",this.elt.width=L,this.elt.height=U;this.width=L,this.height=U,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",L),this._pInst._setProperty("height",U))}return this},I.default.Element.prototype.remove=function(){this instanceof I.default.MediaElement&&(this.stop(),(h=this.elt.srcObject)!==null&&h.getTracks().forEach(function(L){L.stop()}));var $,h=this._pInst._elements.indexOf(this);for($ in h!==-1&&this._pInst._elements.splice(h,1),this._events)this.elt.removeEventListener($,this._events[$]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},I.default.Element.prototype.drop=function($,h){var L;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",L=function(U){U.preventDefault()}),this.elt.addEventListener("dragleave",L)),I.default.Element._attachListener("drop",function(T){T.preventDefault(),typeof h=="function"&&h.call(this,T);var T=T.dataTransfer.files,B=!0,J=!1,S=void 0;try{for(var A,Q=T[Symbol.iterator]();!(B=(A=Q.next()).done);B=!0){var M=A.value;I.default.File._load(M,$)}}catch(k){J=!0,S=k}finally{try{B||Q.return==null||Q.return()}finally{if(J)throw S}}},this)):console.log("The File APIs are not fully supported in this browser."),this},I.default.Element.prototype.draggable=function($){var h,L="ontouchstart"in window,U=0,T=0,B=0,J=0,S=L?"touchend":"mouseup",A=L?"touchmove":"mousemove";function Q(k){var C;k=k||window.event,J=L?(C=k.changedTouches,U=B-parseInt(C[0].clientX),T=J-parseInt(C[0].clientY),B=parseInt(C[0].clientX),parseInt(C[0].clientY)):(U=B-parseInt(k.clientX),T=J-parseInt(k.clientY),B=parseInt(k.clientX),parseInt(k.clientY)),$.style.left=$.offsetLeft-U+"px",$.style.top=$.offsetTop-T+"px"}function M(){document.removeEventListener(S,M,!1),document.removeEventListener(A,Q,!1)}return $===void 0?h=$=this.elt:$!==this.elt&&$.elt!==this.elt&&($=$.elt,h=this.elt),h.addEventListener(L?"touchstart":"mousedown",function(k){{var C;k=k||window.event,J=L?(C=k.changedTouches,B=parseInt(C[0].clientX),parseInt(C[0].clientY)):(B=parseInt(k.clientX),parseInt(k.clientY))}return document.addEventListener(S,M,!1),document.addEventListener(A,Q,!1),!1},!1),h.style.cursor="move",this};function l($,h,L,U){r(this,l),this.callback=$,this.time=h,this.id=L,this.val=U}i=function($){var h=U;if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create($&&$.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),$&&m(h,$);var L=P(U);function U(T,B){r(this,U);var J=a(B=L.call(this,T,B));return B.elt.crossOrigin="anonymous",B._prevTime=0,B._cueIDCounter=0,B._cues=[],B.pixels=[],B._pixelsState=a(B),B._pixelDensity=1,B._modified=!1,B._frameOnCanvas=-1,Object.defineProperty(J,"src",{get:function(){var S=J.elt.children[0].src,A=J.elt.src===window.location.href?"":J.elt.src;return S===window.location.href?A:S},set:function(S){for(var A=0;A<J.elt.children.length;A++)J.elt.removeChild(J.elt.children[A]);var Q=document.createElement("source");Q.src=S,T.appendChild(Q),J.elt.src=S,J.modified=!0}}),J._onended=function(){},J.elt.onended=function(){J._onended(J)},B}return c(U,[{key:"play",value:function(){var T;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(T=this.elt.play())&&T.catch&&T.catch(function(B){B.name==="NotAllowedError"?console.error(B):console.error("Media play method encountered an unexpected error",B)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var T=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(T)},{passive:!0,once:!0})}},{key:"autoplay",value:function(T){var B=this,J=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",T),T&&!J&&(T=function(){return B._setupAutoplayFailDetection()},this.elt.readyState===4?T():this.elt.addEventListener("canplay",T,{passive:!0,once:!0})),this}},{key:"volume",value:function(T){if(T===void 0)return this.elt.volume;this.elt.volume=T}},{key:"speed",value:function(T){if(T===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=T:this.presetPlaybackRate=T}},{key:"time",value:function(T){return T===void 0?this.elt.currentTime:(this.elt.currentTime=T,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var T=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&T&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var T=arguments.length,B=new Array(T),J=0;J<T;J++)B[J]=arguments[J];return I.default.Renderer2D.prototype.loadPixels.apply(this,B)}},{key:"updatePixels",value:function(T,B,J,S){return this.loadedmetadata&&(this._ensureCanvas(),I.default.Renderer2D.prototype.updatePixels.call(this,T,B,J,S)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var T=arguments.length,B=new Array(T),J=0;J<T;J++)B[J]=arguments[J];return I.default.Renderer2D.prototype.get.apply(this,B)}},{key:"_getPixel",value:function(){this.loadPixels();for(var T=arguments.length,B=new Array(T),J=0;J<T;J++)B[J]=arguments[J];return I.default.Renderer2D.prototype._getPixel.apply(this,B)}},{key:"set",value:function(T,B,J){this.loadedmetadata&&(this._ensureCanvas(),I.default.Renderer2D.prototype.set.call(this,T,B,J),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var T=arguments.length,B=new Array(T),J=0;J<T;J++)B[J]=arguments[J];I.default.prototype.copy.apply(this,B)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var T=arguments.length,B=new Array(T),J=0;J<T;J++)B[J]=arguments[J];I.default.Image.prototype.mask.apply(this,B)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(T){this._modified=T}},{key:"onended",value:function(T){return this._onended=T,this}},{key:"connect",value:function(T){var B,J;if(typeof I.default.prototype.getAudioContext=="function")B=I.default.prototype.getAudioContext(),J=I.default.soundOut.input;else try{J=(B=T.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=B.createMediaElementSource(this.elt),this.audioSourceNode.connect(J)),T?T.input?this.audioSourceNode.connect(T.input):this.audioSourceNode.connect(T):this.audioSourceNode.connect(J)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(T,A,J){var S=this._cueIDCounter++,A=new l(A,T,S,J);return this._cues.push(A),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),S}},{key:"removeCue",value:function(T){for(var B=0;B<this._cues.length;B++)this._cues[B].id===T&&(console.log(T),this._cues.splice(B,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var T=this.time(),B=0;B<this._cues.length;B++){var J=this._cues[B].time,S=this._cues[B].val;this._prevTime<J&&J<=T&&this._cues[B].callback(S)}this._prevTime=T}}]),U}(I.default.Element),I.default.MediaElement=i,i=function(){function $(h,L){r(this,$),this.file=h,this._pInst=L,L=h.type.split("/"),this.type=L[0],this.subtype=L[1],this.name=h.name,this.size=h.size,this.data=void 0}return c($,null,[{key:"_createLoader",value:function(h,L){var U=new FileReader;return U.onload=function(T){var B,J=new I.default.File(h);J.file.type==="application/json"?J.data=JSON.parse(T.target.result):J.file.type==="text/xml"?(B=new DOMParser().parseFromString(T.target.result,"text/xml"),J.data=new I.default.XML(B.documentElement)):J.data=T.target.result,L(J)},U}},{key:"_load",value:function(h,L){var U;/^text\//.test(h.type)||h.type==="application/json"?I.default.File._createLoader(h,L).readAsText(h):/^(video|audio)\//.test(h.type)?((U=new I.default.File(h)).data=URL.createObjectURL(h),L(U)):I.default.File._createLoader(h,L).readAsDataURL(h)}}]),$}(),I.default.File=i,i=I.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(d,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(d=d("../core/main"))&&d.__esModule?d:{default:d};o.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",o.default.prototype.accelerationX=0,o.default.prototype.accelerationY=0,o.default.prototype.accelerationZ=0,o.default.prototype.pAccelerationX=0,o.default.prototype.pAccelerationY=0,o.default.prototype.pAccelerationZ=0,o.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},o.default.prototype.rotationX=0,o.default.prototype.rotationY=0,o.default.prototype.rotationZ=0,o.default.prototype.pRotationX=0,o.default.prototype.pRotationY=0;var I=o.default.prototype.pRotationZ=0,D=0,c=0,m="clockwise",P="clockwise",a="clockwise",n=(o.default.prototype.pRotateDirectionX=void 0,o.default.prototype.pRotateDirectionY=void 0,o.default.prototype.pRotateDirectionZ=void 0,o.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},o.default.prototype.turnAxis=void 0,.5),r=30,d=(o.default.prototype.setMoveThreshold=function(s){o.default._validateParameters("setMoveThreshold",arguments),n=s},o.default.prototype.setShakeThreshold=function(s){o.default._validateParameters("setShakeThreshold",arguments),r=s},o.default.prototype._ondeviceorientation=function(s){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(s.beta)),this._setProperty("rotationY",this._fromDegrees(s.gamma)),this._setProperty("rotationZ",this._fromDegrees(s.alpha)),this._handleMotion()},o.default.prototype._ondevicemotion=function(s){this._updatePAccelerations(),this._setProperty("accelerationX",2*s.acceleration.x),this._setProperty("accelerationY",2*s.acceleration.y),this._setProperty("accelerationZ",2*s.acceleration.z),this._handleMotion()},o.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var s,t,l,$,h,L=this._isGlobal?window:this;typeof L.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>n||Math.abs(this.accelerationY-this.pAccelerationY)>n||Math.abs(this.accelerationZ-this.pAccelerationZ)>n)&&L.deviceMoved(),typeof L.deviceTurned=="function"&&(t=this._toDegrees(this.rotationX)+180,l=this._toDegrees(this.pRotationX)+180,s=I+180,0<t-l&&t-l<270||t-l<-270?m="clockwise":(t-l<0||270<t-l)&&(m="counter-clockwise"),m!==this.pRotateDirectionX&&(s=t),90<Math.abs(t-s)&&Math.abs(t-s)<270&&(s=t,this._setProperty("turnAxis","X"),L.deviceTurned()),this.pRotateDirectionX=m,I=s-180,l=this._toDegrees(this.rotationY)+180,t=this._toDegrees(this.pRotationY)+180,s=D+180,0<l-t&&l-t<270||l-t<-270?P="clockwise":(l-t<0||270<l-this.pRotationY)&&(P="counter-clockwise"),P!==this.pRotateDirectionY&&(s=l),90<Math.abs(l-s)&&Math.abs(l-s)<270&&(s=l,this._setProperty("turnAxis","Y"),L.deviceTurned()),this.pRotateDirectionY=P,D=s-180,0<(t=this._toDegrees(this.rotationZ))-(l=this._toDegrees(this.pRotationZ))&&t-l<270||t-l<-270?a="clockwise":(t-l<0||270<t-l)&&(a="counter-clockwise"),a!==this.pRotateDirectionZ&&(c=t),90<Math.abs(t-c)&&Math.abs(t-c)<270&&(c=t,this._setProperty("turnAxis","Z"),L.deviceTurned()),this.pRotateDirectionZ=a,this._setProperty("turnAxis",void 0)),typeof L.deviceShaken=="function"&&(this.pAccelerationX!==null&&($=Math.abs(this.accelerationX-this.pAccelerationX),h=Math.abs(this.accelerationY-this.pAccelerationY)),r<$+h&&L.deviceShaken())},o.default);p.default=d},{"../core/main":283}],301:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};o.default.prototype.isKeyPressed=!1,o.default.prototype.keyIsPressed=!1,o.default.prototype.key="",o.default.prototype.keyCode=0,o.default.prototype._onkeydown=function(I){var D;this._downKeys[I.which]||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",I.which),this._downKeys[I.which]=!0,this._setProperty("key",I.key||String.fromCharCode(I.which)||I.which),typeof(D=this._isGlobal?window:this).keyPressed!="function"||I.charCode||D.keyPressed(I)===!1&&I.preventDefault())},o.default.prototype._onkeyup=function(I){this._downKeys[I.which]=!1,this._areDownKeys()||(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1)),this._setProperty("_lastKeyCodeTyped",null),this._setProperty("key",I.key||String.fromCharCode(I.which)||I.which),this._setProperty("keyCode",I.which);var D=this._isGlobal?window:this;typeof D.keyReleased=="function"&&D.keyReleased(I)===!1&&I.preventDefault()},o.default.prototype._onkeypress=function(I){var D;I.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",I.which),this._setProperty("key",I.key||String.fromCharCode(I.which)||I.which),typeof(D=this._isGlobal?window:this).keyTyped=="function"&&D.keyTyped(I)===!1&&I.preventDefault())},o.default.prototype._onblur=function(I){this._downKeys={}},o.default.prototype.keyIsDown=function(I){return o.default._validateParameters("keyIsDown",arguments),this._downKeys[I]||!1},o.default.prototype._areDownKeys=function(){for(var I in this._downKeys)if(this._downKeys.hasOwnProperty(I)&&this._downKeys[I]===!0)return!0;return!1},i=o.default,p.default=i},{"../core/main":283}],302:[function(i,X,p){"use strict";function o(P){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(a){return typeof a}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(P)}function I(P){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(a){return o(a)}:function(a){return a&&typeof Symbol=="function"&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":o(a)})(P)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(D=i("../core/main"))&&D.__esModule?D:{default:D},c=function(P){if(P&&P.__esModule)return P;if(P===null||I(P)!=="object"&&typeof P!="function")return{default:P};var a=m();if(a&&a.has(P))return a.get(P);var n,r={},d=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in P){var s;Object.prototype.hasOwnProperty.call(P,n)&&((s=d?Object.getOwnPropertyDescriptor(P,n):null)&&(s.get||s.set)?Object.defineProperty(r,n,s):r[n]=P[n])}return r.default=P,a&&a.set(P,r),r}(i("../core/constants"));function m(){var P;return typeof WeakMap!="function"?null:(P=new WeakMap,m=function(){return P},P)}D.default.prototype.movedX=0,D.default.prototype.movedY=0,D.default.prototype._hasMouseInteracted=!1,D.default.prototype.mouseX=0,D.default.prototype.mouseY=0,D.default.prototype.pmouseX=0,D.default.prototype.pmouseY=0,D.default.prototype.winMouseX=0,D.default.prototype.winMouseY=0,D.default.prototype.pwinMouseX=0,D.default.prototype.pwinMouseY=0,D.default.prototype.mouseButton=0,D.default.prototype.mouseIsPressed=!1,D.default.prototype._updateNextMouseCoords=function(P){var a,n,r,d,s;this._curElement!==null&&(!P.touches||0<P.touches.length)&&(a=this._curElement.elt,n=this.width,r=this.height,(d=P)&&!d.clientX&&(d.touches?d=d.touches[0]:d.changedTouches&&(d=d.changedTouches[0])),s=a.getBoundingClientRect(),n=a.scrollWidth/n||1,a=a.scrollHeight/r||1,r={x:(d.clientX-s.left)/n,y:(d.clientY-s.top)/a,winX:d.clientX,winY:d.clientY,id:d.identifier},this._setProperty("movedX",P.movementX),this._setProperty("movedY",P.movementY),this._setProperty("mouseX",r.x),this._setProperty("mouseY",r.y),this._setProperty("winMouseX",r.winX),this._setProperty("winMouseY",r.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},D.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},D.default.prototype._setMouseButton=function(P){P.button===1?this._setProperty("mouseButton",c.CENTER):P.button===2?this._setProperty("mouseButton",c.RIGHT):this._setProperty("mouseButton",c.LEFT)},D.default.prototype._onmousemove=function(P){var a=this._isGlobal?window:this;this._updateNextMouseCoords(P),this.mouseIsPressed?typeof a.mouseDragged=="function"?a.mouseDragged(P)===!1&&P.preventDefault():typeof a.touchMoved=="function"&&a.touchMoved(P)===!1&&P.preventDefault():typeof a.mouseMoved=="function"&&a.mouseMoved(P)===!1&&P.preventDefault()},D.default.prototype._onmousedown=function(P){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(P),this._updateNextMouseCoords(P),this.touchstart||(typeof a.mousePressed=="function"?a.mousePressed(P)===!1&&P.preventDefault():typeof a.touchStarted=="function"&&a.touchStarted(P)===!1&&P.preventDefault(),this.touchstart=!1)},D.default.prototype._onmouseup=function(P){var a=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof a.mouseReleased=="function"?a.mouseReleased(P)===!1&&P.preventDefault():typeof a.touchEnded=="function"&&a.touchEnded(P)===!1&&P.preventDefault(),this.touchend=!1)},D.default.prototype._ondragend=D.default.prototype._onmouseup,D.default.prototype._ondragover=D.default.prototype._onmousemove,D.default.prototype._onclick=function(P){var a=this._isGlobal?window:this;typeof a.mouseClicked=="function"&&a.mouseClicked(P)===!1&&P.preventDefault()},D.default.prototype._ondblclick=function(P){var a=this._isGlobal?window:this;typeof a.doubleClicked=="function"&&a.doubleClicked(P)===!1&&P.preventDefault()},D.default.prototype._mouseWheelDeltaY=0,D.default.prototype._pmouseWheelDeltaY=0,D.default.prototype._onwheel=function(P){var a=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",P.deltaY),typeof a.mouseWheel=="function"&&(P.delta=P.deltaY,a.mouseWheel(P)===!1&&P.preventDefault())},D.default.prototype.requestPointerLock=function(){var P=this._curElement.elt;return P.requestPointerLock=P.requestPointerLock||P.mozRequestPointerLock,P.requestPointerLock?(P.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},D.default.prototype.exitPointerLock=function(){document.exitPointerLock()},i=D.default,p.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i},i.default.prototype.touches=[],i.default.prototype._updateTouchCoords=function(o){if(this._curElement!==null){for(var I=[],D=0;D<o.touches.length;D++)I[D]=function(s,d,t,a){var n=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,r=s.getBoundingClientRect(),d=s.scrollWidth/d||1,s=s.scrollHeight/t||1,t=a.touches[n]||a.changedTouches[n];return{x:(t.clientX-r.left)/d,y:(t.clientY-r.top)/s,winX:t.clientX,winY:t.clientY,id:t.identifier}}(this._curElement.elt,this.width,this.height,o,D);this._setProperty("touches",I)}},i.default.prototype._ontouchstart=function(o){var I=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(o),this._updateNextMouseCoords(o),this._updateMouseCoords(),typeof I.touchStarted=="function"&&(I.touchStarted(o)===!1&&o.preventDefault(),this.touchstart=!0)},i.default.prototype._ontouchmove=function(o){var I=this._isGlobal?window:this;this._updateTouchCoords(o),this._updateNextMouseCoords(o),typeof I.touchMoved=="function"?I.touchMoved(o)===!1&&o.preventDefault():typeof I.mouseDragged=="function"&&I.mouseDragged(o)===!1&&o.preventDefault()},i.default.prototype._ontouchend=function(o){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(o),this._updateNextMouseCoords(o);var I=this._isGlobal?window:this;typeof I.touchEnded=="function"&&(I.touchEnded(o)===!1&&o.preventDefault(),this.touchend=!0)},i=i.default,p.default=i},{"../core/main":283}],304:[function(i,X,p){"use strict";i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.typed-array.int32-array"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.typed-array.int32-array"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o,I,D,c,m={_toPixels:function(P){var a,n;return P instanceof ImageData?P.data:P.getContext("2d")?P.getContext("2d").getImageData(0,0,P.width,P.height).data:P.getContext("webgl")?(n=(a=P.getContext("webgl")).drawingBufferWidth*a.drawingBufferHeight*4,n=new Uint8Array(n),a.readPixels(0,0,P.width,P.height,a.RGBA,a.UNSIGNED_BYTE,n),n):void 0},_getARGB:function(P,a){return a*=4,P[3+a]<<24&4278190080|P[a]<<16&16711680|P[1+a]<<8&65280|255&P[2+a]},_setPixels:function(P,a){for(var n,r=0,d=P.length;r<d;r++)P[0+(n=4*r)]=(16711680&a[r])>>>16,P[1+n]=(65280&a[r])>>>8,P[2+n]=255&a[r],P[3+n]=(4278190080&a[r])>>>24},_toImageData:function(P){return P instanceof ImageData?P:P.getContext("2d").getImageData(0,0,P.width,P.height)},_createImageData:function(P,a){return m._tmpCanvas=document.createElement("canvas"),m._tmpCtx=m._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(P,a)},apply:function(P,s,n){var r=P.getContext("2d"),d=r.getImageData(0,0,P.width,P.height),s=s(d,n);s instanceof ImageData?r.putImageData(s,0,0,0,0,P.width,P.height):r.putImageData(d,0,0,0,0,P.width,P.height)},threshold:function(P){for(var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,n=m._toPixels(P),r=Math.floor(255*a),d=0;d<n.length;d+=4){var s=void 0,s=r<=.2126*n[d]+.7152*n[d+1]+.0722*n[d+2]?255:0;n[d]=n[d+1]=n[d+2]=s}},gray:function(P){for(var a=m._toPixels(P),n=0;n<a.length;n+=4){var r=a[n],d=a[n+1],s=a[n+2];a[n]=a[n+1]=a[n+2]=.2126*r+.7152*d+.0722*s}},opaque:function(P){for(var a=m._toPixels(P),n=0;n<a.length;n+=4)a[n+3]=255;return a},invert:function(P){for(var a=m._toPixels(P),n=0;n<a.length;n+=4)a[n]=255-a[n],a[n+1]=255-a[n+1],a[n+2]=255-a[n+2]},posterize:function(P){var a=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,n=m._toPixels(P);if(a<2||255<a)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var r=a-1,d=0;d<n.length;d+=4){var s=n[d],t=n[d+1],l=n[d+2];n[d]=255*(s*a>>8)/r,n[d+1]=255*(t*a>>8)/r,n[d+2]=255*(l*a>>8)/r}},dilate:function(P){for(var a,n,r,d,s,t,l,$,h,L=m._toPixels(P),U=0,T=L.length?L.length/4:0,B=new Int32Array(T);U<T;)for(n=(a=U)+P.width;U<n;)d=r=m._getARGB(L,U),(h=U-1)<a&&(h=U),n<=($=U+1)&&($=U),(s=U-P.width)<0&&(s=0),T<=(t=U+P.width)&&(t=U),s=m._getARGB(L,s),h=m._getARGB(L,h),t=m._getARGB(L,t),(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))<(l=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))&&(r=h,d=l),d<(l=77*((h=m._getARGB(L,$))>>16&255)+151*(h>>8&255)+28*(255&h))&&(r=h,d=l),d<($=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))&&(r=s,d=$),d<(h=77*(t>>16&255)+151*(t>>8&255)+28*(255&t))&&(r=t,d=h),B[U++]=r;m._setPixels(L,B)},erode:function(P){for(var a,n,r,d,s,t,l,$,h,L=m._toPixels(P),U=0,T=L.length?L.length/4:0,B=new Int32Array(T);U<T;)for(n=(a=U)+P.width;U<n;)d=r=m._getARGB(L,U),(h=U-1)<a&&(h=U),n<=($=U+1)&&($=U),(s=U-P.width)<0&&(s=0),T<=(t=U+P.width)&&(t=U),s=m._getARGB(L,s),h=m._getARGB(L,h),t=m._getARGB(L,t),(l=77*(h>>16&255)+151*(h>>8&255)+28*(255&h))<(d=77*(d>>16&255)+151*(d>>8&255)+28*(255&d))&&(r=h,d=l),(l=77*((h=m._getARGB(L,$))>>16&255)+151*(h>>8&255)+28*(255&h))<d&&(r=h,d=l),($=77*(s>>16&255)+151*(s>>8&255)+28*(255&s))<d&&(r=s,d=$),(h=77*(t>>16&255)+151*(t>>8&255)+28*(255&t))<d&&(r=t,d=h),B[U++]=r;m._setPixels(L,B)},blur:function(P,a){for(var n,r,d,s,t,l,$,h,L,U,T=m._toPixels(P),B=P.width,J=P.height,S=B*J,A=new Int32Array(S),Q=0;Q<S;Q++)A[Q]=m._getARGB(T,Q);var M,k,C,j,G,y,g,N,w=new Int32Array(S),ce=new Int32Array(S),F=new Int32Array(S),f=new Int32Array(S),E=0,Z=3.5*a|0;if(o!==(Z=Z<1?1:Z<248?Z:248)){I=1+(o=Z)<<1,D=new Int32Array(I),c=new Array(I);for(var W=0;W<I;W++)c[W]=new Int32Array(256);for(var ee=1,De=Z-1;ee<Z;ee++){D[Z+ee]=D[De]=y=De*De,g=c[Z+ee],N=c[De--];for(var $e=0;$e<256;$e++)g[$e]=N[$e]=y*$e}G=D[Z]=Z*Z,g=c[Z];for(var te=0;te<256;te++)g[te]=G*te}for(k=0;k<J;k++){for(M=0;M<B;M++){if(s=d=r=t=n=0,(l=M-o)<0)U=-l,l=0;else{if(B<=l)break;U=0}for(C=U;C<I&&!(B<=l);C++){var de=A[l+E];j=c[C],t+=j[(-16777216&de)>>>24],r+=j[(16711680&de)>>16],d+=j[(65280&de)>>8],s+=j[255&de],n+=D[C],l++}w[$=E+M]=t/n,ce[$]=r/n,F[$]=d/n,f[$]=s/n}E+=B}for(L=(h=-o)*B,k=E=0;k<J;k++){for(M=0;M<B;M++){if(s=d=r=t=n=0,h<0)U=$=-h,l=M;else{if(J<=h)break;U=0,$=h,l=M+L}for(C=U;C<I&&!(J<=$);C++)j=c[C],t+=j[w[l]],r+=j[ce[l]],d+=j[F[l]],s+=j[f[l]],n+=D[C],$++,l+=B;A[M+E]=t/n<<24|r/n<<16|d/n<<8|s/n}E+=B,L+=B,h++}m._setPixels(T,A)}};p.default=m},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.set"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.uint32-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.set"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.uint32-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=D(i("../core/main")),I=D(i("omggif"));function D(m){return m&&m.__esModule?m:{default:m}}function c(m){return function(P){if(Array.isArray(P)){for(var a=0,n=new Array(P.length);a<P.length;a++)n[a]=P[a];return n}}(m)||function(P){if(Symbol.iterator in Object(P)||Object.prototype.toString.call(P)==="[object Arguments]")return Array.from(P)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.createImage=function(m,P){return o.default._validateParameters("createImage",arguments),new o.default.Image(m,P)},o.default.prototype.saveCanvas=function(){for(var m,P,a,n,r,d,s=arguments.length,t=new Array(s),l=0;l<s;l++)t[l]=arguments[l];switch(o.default._validateParameters("saveCanvas",t),t[0]instanceof HTMLCanvasElement?(m=t[0],t.shift()):t[0]instanceof o.default.Element?(m=t[0].elt,t.shift()):t[0]instanceof o.default.Framebuffer?(n=t[0],(r=this.createGraphics(n.width,n.height)).pixelDensity(pixelDensity()),n.loadPixels(),r.loadPixels(),r.pixels.set(n.pixels),r.updatePixels(),m=r.elt,t.shift()):m=this._curElement&&this._curElement.elt,1<=t.length&&(P=t[0]),a=(a=2<=t.length?t[1]:a)||o.default.prototype._checkFileExtension(P,a)[1]||"png"){default:d="image/png";break;case"webp":d="image/webp";break;case"jpeg":case"jpg":d="image/jpeg"}m.toBlob(function($){o.default.prototype.downloadFile($,P,a),r&&r.remove()},d)},o.default.prototype.encodeAndDownloadGif=function(m,P){for(var a=m.gifProperties,n=a.loopLimit,r=(n===1?n=null:n===null&&(n=0),new Uint8Array(m.width*m.height*a.numFrames)),d=[],s={},t=0;t<a.numFrames;t++){for(var l=new Set,$=a.frames[t].image.data,h=$.length,L=new Uint32Array(m.width*m.height),U=0,T=0;U<h;U+=4,T++){var B=$[U+0]<<16|$[U+1]<<8|$[U+2]<<0;l.add(B),L[T]=B}var J=c(l).sort().toString();s[J]===void 0?s[J]={freq:1,frames:[t]}:(s[J].freq+=1,s[J].frames.push(t)),d.push(L)}for(var Q=[],S=Object.keys(s).sort(function(F,f){return s[f].freq-s[F].freq}),A=S[0].split(",").map(function(F){return parseInt(F)}),Q=Q.concat(s[A].frames),M=new Set(A),k=1;k<S.length;k++){var C=S[k].split(",").map(function(F){return parseInt(F)}).filter(function(F){return!M.has(F)});if(A.length+C.length<=256){for(var j=0;j<C.length;j++)A.push(C[j]),M.add(C[j]);Q=Q.concat(s[S[k]].frames)}}Q=new Set(Q);for(var G={},y=0;y<A.length;y++)G[A[y]]||(G[A[y]]=y);for(var g=1;g<A.length;)g<<=1;A.length=g;for(var n={loop:n,palette:new Uint32Array(A)},N=new I.default.GifWriter(r,m.width,m.height,n),w={},ce=0;ce<a.numFrames;ce++)(function(f){var E=!Q.has(f),Z=E?[]:A,W=new Uint8Array(m.width*m.height),ee={},De=new Set,$e=(d[f].forEach(function(oe,he){E?(ee[oe]===void 0&&(ee[oe]=Z.length,Z.push(oe)),W[he]=ee[oe]):W[he]=G[oe],0<f&&d[f-1][he]!==oe&&De.add(oe)}),{}),te=Z.filter(function(oe){return!De.has(oe)});if(0<te.length){var te=te[0],de=(E?ee:G)[te];if(0<f){for(var ne=0;ne<d[f].length;ne++)d[f-1][ne]===d[f][ne]&&(W[ne]=de);$e.transparent=de,w.frameOpts.disposal=1}}if($e.delay=a.frames[f].delay/10,E){for(var z=1;z<Z.length;)z<<=1;Z.length=z,$e.palette=new Uint32Array(Z)}0<f&&N.addFrame(0,0,m.width,m.height,w.pixelPaletteIndex,w.frameOpts),w={pixelPaletteIndex:W,frameOpts:$e}})(ce);w.frameOpts.disposal=1,N.addFrame(0,0,m.width,m.height,w.pixelPaletteIndex,w.frameOpts),n=new Blob([r.slice(0,N.end())],{type:"image/gif"}),o.default.prototype.downloadFile(n,P,"gif")},o.default.prototype.saveFrames=function(m,P,a,d,r){o.default._validateParameters("saveFrames",arguments),a=o.default.prototype.constrain(a=a||3,0,15),a*=1e3;var d=o.default.prototype.constrain(d||15,0,22),s=0,t=o.default.prototype._makeFrame,l=this._curElement.elt,$=[],h=setInterval(function(){$.push(t(m+s,P,l)),s++},1e3/d);setTimeout(function(){if(clearInterval(h),r)r($);else for(var L=0,U=$;L<U.length;L++){var T=U[L];o.default.prototype.downloadFile(T.imageData,T.filename,T.ext)}$=[]},.01+a)},o.default.prototype._makeFrame=function(m,P,r){var n,r=this?this._curElement.elt:r;if(P)switch(P.toLowerCase()){case"png":n="image/png";break;case"jpeg":case"jpg":n="image/jpeg";break;default:n="image/png"}else P="png",n="image/png";var r=(r=r.toDataURL(n)).replace(n,"image/octet-stream"),d={};return d.imageData=r,d.filename=m,d.ext=P,d},i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(i,X,p){"use strict";function o(l){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $})(l)}function I(l){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function($){return o($)}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":o($)})(l)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.copy-within"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.uint8-clamped-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.copy-within"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.uint8-clamped-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i("regenerator-runtime/runtime");var D=r(i("../core/main")),c=r(i("../core/helpers")),m=function(l){if(l&&l.__esModule)return l;if(l===null||I(l)!=="object"&&typeof l!="function")return{default:l};var $=n();if($&&$.has(l))return $.get(l);var h,L={},U=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in l){var T;Object.prototype.hasOwnProperty.call(l,h)&&((T=U?Object.getOwnPropertyDescriptor(l,h):null)&&(T.get||T.set)?Object.defineProperty(L,h,T):L[h]=l[h])}return L.default=l,$&&$.set(l,L),L}(i("../core/constants")),P=r(i("omggif")),a=i("gifenc");function n(){var l;return typeof WeakMap!="function"?null:(l=new WeakMap,n=function(){return l},l)}function r(l){return l&&l.__esModule?l:{default:l}}function d(l,$,h,L,U,T,B){try{var J=l[T](B),S=J.value}catch(A){return void h(A)}J.done?$(S):Promise.resolve(S).then(L,U)}function s(l,$,h,L,U,T,B,J,S,A,Q){var M,k,C,j,G,y,g,N,w;return l===m.COVER&&(M=$,C=h,g=T,N=B,y=J,w=S,k=A,j=Q,G=Math.max(g/k,N/j),g/=G,N/=G,G=y,y=w,M===m.CENTER?G+=(k-g)/2:M===m.RIGHT&&(G+=k-g),C===m.CENTER?y+=(j-N)/2:C===m.BOTTOM&&(y+=j-N),J=(w={x:G,y,w:g,h:N}).x,S=w.y,A=w.w,Q=w.h),l===m.CONTAIN&&(M=$,k=h,C=L,j=U,G=T,y=B,g=A,N=Q,w=Math.max(g/G,N/y),g/=w,N/=w,w=C,C=j,M===m.CENTER?w+=(G-g)/2:M===m.RIGHT&&(w+=G-g),k===m.CENTER?C+=(y-N)/2:k===m.BOTTOM&&(C+=y-N),L=(l={x:w,y:C,w:g,h:N}).x,U=l.y,T=l.w,B=l.h),{sx:J,sy:S,sw:A,sh:Q,dx:L,dy:U,dw:T,dh:B}}function t(l,$){return 0<l&&l<$?l:$}i("../core/friendly_errors/validate_params"),i("../core/friendly_errors/file_errors"),i("../core/friendly_errors/fes_core"),D.default.prototype.loadImage=function(l,$,h){D.default._validateParameters("loadImage",arguments);var L=new D.default.Image(1,1,this),U=this,T=new Request(l,{method:"GET",mode:"cors"});return fetch(l,T).then(function(B){var J,S=B.headers.get("content-type");S===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),S&&S.includes("image/gif")?B.arrayBuffer().then(function(A){if(A){for(var A=new Uint8Array(A),Q=L,M=$,k=h,C=function(E){U._decrementPreload()}.bind(U),j=new P.default.GifReader(A),G=(Q.width=Q.canvas.width=j.width,Q.height=Q.canvas.height=j.height,[]),y=j.numFrames(),g=new Uint8ClampedArray(Q.width*Q.height*4),N=0;N<y;N++){var w=j.frameInfo(N),ce=Q.drawingContext.getImageData(0,0,Q.width,Q.height),F=(g=ce.data.slice(),function(E,Z){try{Z.decodeAndBlitFrameRGBA(E,g)}catch(W){D.default._friendlyFileLoadError(8,Q.src),typeof k=="function"?k(W):console.error(W)}}(N,j),new ImageData(g,Q.width,Q.height)),F=(Q.drawingContext.putImageData(F,0,0),w.delay);F===0&&(F=10),G.push({image:Q.drawingContext.getImageData(0,0,Q.width,Q.height),delay:10*F}),w.disposal===2?Q.drawingContext.clearRect(w.x,w.y,w.width,w.height):w.disposal===3&&Q.drawingContext.putImageData(ce,0,0,w.x,w.y,w.width,w.height)}(A=j.loopCount())===null?A=1:A===0&&(A=null),Q.drawingContext.putImageData(G[0].image,0,0),1<G.length&&(Q.gifProperties={displayIndex:0,loopLimit:A,loopCount:0,frames:G,numFrames:y,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof M=="function"&&M(Q),C()}},function(A){typeof h=="function"?(h(A),U._decrementPreload()):console.error(A)}):((J=new Image).onload=function(){L.width=L.canvas.width=J.width,L.height=L.canvas.height=J.height,L.drawingContext.drawImage(J,0,0),L.modified=!0,typeof $=="function"&&$(L),U._decrementPreload()},J.onerror=function(A){D.default._friendlyFileLoadError(0,J.src),typeof h=="function"?(h(A),U._decrementPreload()):console.error(A)},l.indexOf("data:image/")!==0&&(J.crossOrigin="Anonymous"),J.src=l),L.modified=!0}).catch(function(B){D.default._friendlyFileLoadError(0,l),typeof h=="function"?(h(B),U._decrementPreload()):console.error(B)}),L},D.default.prototype.saveGif=function(){l=regeneratorRuntime.mark(function h(L,U){var T,B,J,S,A,Q,M,k,C,j,G,y,g,N,w,ce,F,f,E,Z,W,ee,De,$e,te,de,ne=arguments;return regeneratorRuntime.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:if(T=2<ne.length&&ne[2]!==void 0?ne[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof L!="string")throw TypeError("fileName parameter must be a string");z.next=3;break;case 3:if(typeof U!="number")throw TypeError("Duration parameter must be a number");z.next=5;break;case 5:if(B=T&&T.delay||0,J=T&&T.units||"seconds",S=T&&T.silent||!1,A=T&&T.notificationDuration||0,Q=T&&T.notificationID||"progressBar",typeof B!="number")throw TypeError("Delay parameter must be a number");z.next=12;break;case 12:if(J!=="seconds"&&J!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');z.next=14;break;case 14:if(typeof S!="boolean")throw TypeError("Silent parameter must be a boolean");z.next=16;break;case 16:if(typeof A!="number")throw TypeError("Notification duration parameter must be a number");z.next=18;break;case 18:if(typeof Q!="string")throw TypeError("Notification ID parameter must be a string");z.next=20;break;case 20:return this._recording=!0,j=this._targetFrameRate,M=(M=1/(j=j!==1/0&&j!==void 0&&j!==0?j:60)*1e3)<20?20:M,C=(k=J==="seconds"?U*j:U)+(j=J==="seconds"?B*j:B),j=j,this.frameCount=j,G=this._pixelDensity,this.pixelDensity(1),y=[],document.getElementById(Q)!==null&&document.getElementById(Q).remove(),S||((g=this.createP("")).id(Q),g.style("font-size","16px"),g.style("font-family","Montserrat"),g.style("background-color","#ffffffa0"),g.style("padding","8px"),g.style("border-radius","10px"),g.position(0,0)),this._renderer instanceof D.default.RendererGL&&(w=this.drawingContext,N=new Uint8Array(w.drawingBufferWidth*w.drawingBufferHeight*4)),this.noLoop(),z.next=39,Promise.resolve();case 39:if(j<C)return this.redraw(),$e=void 0,$e=this._renderer instanceof D.default.RendererGL?(N=new Uint8Array(w.drawingBufferWidth*w.drawingBufferHeight*4),w.readPixels(0,0,w.drawingBufferWidth,w.drawingBufferHeight,w.RGBA,w.UNSIGNED_BYTE,N),function(oe,he,Je){for(var Pe=parseInt(Je/2),me=4*he,Re=new Uint8Array(4*he),je=0;je<Pe;++je){var be=je*me,We=(Je-je-1)*me;Re.set(oe.subarray(be,be+me)),oe.copyWithin(be,We,We+me),oe.set(Re,We)}return oe}(N,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,y.push($e),j++,S||g.html("Saved frame <b>"+y.length.toString()+"</b> out of "+k.toString()),z.next=48,new Promise(function(oe){return setTimeout(oe,0)});z.next=50;break;case 48:z.next=39;break;case 50:S||g.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(G),ce=(0,a.GIFEncoder)(),F=function(oe){for(var he=new Uint8Array(oe.length*oe[0].length),Je=0;Je<oe.length;Je++)he.set(oe[Je],Je*oe[0].length);var Pe=(0,a.quantize)(he,256,{format:"rgba4444",oneBitAlpha:!0});return Pe.length===256?Pe[Pe.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:Pe.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),Pe}(y),f={},E=function(oe){for(var he=oe.length/4,Je=new Uint8Array(he),Pe=0;Pe<he;Pe++){var me=oe[4*Pe]<<24|oe[4*Pe+1]<<16|oe[4*Pe+2]<<8|oe[4*Pe+3];f[me]===void 0&&(f[me]=(0,a.nearestColorIndex)(F,oe.slice(4*Pe,4*(Pe+1)))),Je[Pe]=f[me]}return Je},Z=F.length-1,W=[],ee=0;case 60:if(!(ee<y.length)){z.next=71;break}if(De=E(y[ee]),$e=De.slice(),ee===0)ce.writeFrame(De,this.width,this.height,{palette:F,delay:M,dispose:1});else{for(te=0;te<De.length;te++)De[te]===W[te]&&(De[te]=Z);ce.writeFrame(De,this.width,this.height,{delay:M,transparent:!0,transparentIndex:Z,dispose:1})}return W=$e,S||g.html("Rendered frame <b>"+ee.toString()+"</b> out of "+k.toString()),z.next=68,new Promise(function(oe){return setTimeout(oe,0)});case 68:ee++,z.next=60;break;case 71:ce.finish(),de=ce.bytesView(),de=new Blob([de],{type:"image/gif"}),y=[],this._recording=!1,this.loop(),S||(g.html("Done. Downloading your gif!\u{1F338}"),0<A&&setTimeout(function(){return g.remove()},1e3*A)),D.default.prototype.downloadFile(de,L,"gif");case 80:case"end":return z.stop()}},h,this)});var l,$=function(){var h=this,L=arguments;return new Promise(function(U,T){var B=l.apply(h,L);function J(A){d(B,U,T,J,S,"next",A)}function S(A){d(B,U,T,J,S,"throw",A)}J(void 0)})};return function(h,L){return $.apply(this,arguments)}}(),D.default.prototype.image=function(l,$,h,L,j,G,y,g,w,A,Q,M){D.default._validateParameters("image",arguments);var N=l.width,k=l.height,C=(M=M||m.CENTER,Q=Q||m.CENTER,l.elt&&(N=N!==void 0?N:l.elt.width,k=k!==void 0?k:l.elt.height),l.elt&&l.elt.videoWidth&&!l.canvas&&(N=N!==void 0?N:l.elt.videoWidth,k=k!==void 0?k:l.elt.videoHeight),L||N),j=j||k,G=G||0,y=y||0,g=t(g!==void 0?g:N,N),N=t(w!==void 0?w:k,k),w=1;l.elt&&!l.canvas&&l.elt.style.width&&(w=l.elt.videoWidth&&!L?l.elt.videoWidth:l.elt.width,w/=parseInt(l.elt.style.width,10)),G*=w,y*=w,N*=w,g*=w,k=s(A,Q,M,(k=c.default.modeAdjust($,h,C,j,this._renderer._imageMode)).x,k.y,k.w,k.h,G,y,g,N),this._renderer.image(l,k.sx,k.sy,k.sw,k.sh,k.dx,k.dy,k.dw,k.dh)},D.default.prototype.tint=function(){for(var l=arguments.length,$=new Array(l),h=0;h<l;h++)$[h]=arguments[h];D.default._validateParameters("tint",$);var L=this.color.apply(this,$);this._renderer._tint=L.levels},D.default.prototype.noTint=function(){this._renderer._tint=null},D.default.prototype._getTintedImageCanvas=D.default.Renderer2D.prototype._getTintedImageCanvas,D.default.prototype.imageMode=function(l){D.default._validateParameters("imageMode",arguments),l!==m.CORNER&&l!==m.CORNERS&&l!==m.CENTER||(this._renderer._imageMode=l)},i=D.default,p.default=i},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=D(i("../core/main")),I=D(i("./filters"));function D(m){return m&&m.__esModule?m:{default:m}}function c(m,P){for(var a=0;a<P.length;a++){var n=P[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(m,n.key,n)}}o.default.Image=function(){function m(r,d){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");this.width=r,this.height=d,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var P,a,n;return P=m,(a=[{key:"pixelDensity",value:function(r){return r!==void 0?(r<=0&&(o.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),r=1),this._pixelDensity=r,this.width/=r,this.height/=r,this):this._pixelDensity}},{key:"_animateGif",value:function(t){var d,s=this.gifProperties,t=t._lastRealFrameTime||window.performance.now();s.lastChangeTime===0&&(s.lastChangeTime=t),s.playing&&(s.timeDisplayed=t-s.lastChangeTime,d=s.frames[s.displayIndex].delay,s.timeDisplayed>=d&&(d=Math.floor(s.timeDisplayed/d),s.timeDisplayed=0,s.lastChangeTime=t,s.displayIndex+=d,s.loopCount=Math.floor(s.displayIndex/s.numFrames),s.loopLimit!==null&&s.loopCount>=s.loopLimit?s.playing=!1:(t=s.displayIndex%s.numFrames,this.drawingContext.putImageData(s.frames[t].image,0,0),s.displayIndex=t,this.setModified(!0))))}},{key:"_setProperty",value:function(r,d){this[r]=d,this.setModified(!0)}},{key:"loadPixels",value:function(){o.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(r,d,s,t){o.default.Renderer2D.prototype.updatePixels.call(this,r,d,s,t),this.setModified(!0)}},{key:"get",value:function(r,d,s,t){return o.default._validateParameters("p5.Image.get",arguments),o.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];return o.default.Renderer2D.prototype._getPixel.apply(this,d)}},{key:"set",value:function(r,d,s){o.default.Renderer2D.prototype.set.call(this,r,d,s),this.setModified(!0)}},{key:"resize",value:function(r,d){r===0&&d===0?(r=this.canvas.width,d=this.canvas.height):r===0?r=this.canvas.width*d/this.canvas.height:d===0&&(d=this.canvas.height*r/this.canvas.width),r=Math.floor(r),d=Math.floor(d);var s=document.createElement("canvas");if(s.width=r,s.height=d,this.gifProperties)for(var t=this.gifProperties,l=0;l<t.numFrames;l++){for(var $=this.drawingContext.createImageData(r,d),h=(J=J=B=T=U=void 0,t.frames[l].image),L=$,U=0,T=0;T<L.height;T++)for(var B=0;B<L.width;B++){var J=Math.floor(B*h.width/L.width),J=4*(Math.floor(T*h.height/L.height)*h.width+J);L.data[U++]=h.data[J++],L.data[U++]=h.data[J++],L.data[U++]=h.data[J++],L.data[U++]=h.data[+J]}t.frames[l].image=$}s.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,s.width,s.height),this.canvas.width=this.width=r,this.canvas.height=this.height=d,this.drawingContext.drawImage(s,0,0,r,d,0,0,r,d),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];o.default.prototype.copy.apply(this,d)}},{key:"mask",value:function(r){var d=this.drawingContext.globalCompositeOperation,s=this._pixelDensity,t=1,l=[r=r===void 0?this:r,0,0,(t=r instanceof o.default.Renderer?r._pInst._pixelDensity:t)*r.width,t*r.height,0,0,s*this.width,s*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var $=0;$<this.gifProperties.frames.length;$++)this.drawingContext.putImageData(this.gifProperties.frames[$].image,0,0),this.copy.apply(this,l),this.gifProperties.frames[$].image=this.drawingContext.getImageData(0,0,s*this.width,s*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,l);this.drawingContext.globalCompositeOperation=d,this.setModified(!0)}},{key:"filter",value:function(r,d){I.default.apply(this.canvas,I.default[r],d),this.setModified(!0)}},{key:"blend",value:function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];o.default._validateParameters("p5.Image.blend",arguments),o.default.prototype.blend.apply(this,d),this.setModified(!0)}},{key:"setModified",value:function(r){this._modified=r}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(r,d){this.gifProperties?o.default.prototype.encodeAndDownloadGif(this,r):o.default.prototype.saveCanvas(this.canvas,r,d)}},{key:"reset",value:function(){var r;this.gifProperties&&((r=this.gifProperties).playing=!0,r.timeSinceStart=0,r.timeDisplayed=0,r.lastChangeTime=0,r.loopCount=0,r.displayIndex=0,this.drawingContext.putImageData(r.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var r;if(this.gifProperties)return(r=this.gifProperties).displayIndex%r.numFrames}},{key:"setFrame",value:function(r){var d;this.gifProperties&&(r<(d=this.gifProperties).numFrames&&0<=r?(d.timeDisplayed=0,d.lastChangeTime=0,d.displayIndex=r,this.drawingContext.putImageData(d.frames[r].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(r,d){if(this.gifProperties){var s=this.gifProperties;if(d<s.numFrames&&0<=d)s.frames[d].delay=r;else{var t=!0,d=!1,l=void 0;try{for(var $,h=s.frames[Symbol.iterator]();!(t=($=h.next()).done);t=!0)$.value.delay=r}catch(U){d=!0,l=U}finally{try{t||h.return==null||h.return()}finally{if(d)throw l}}}}}}])&&c(P.prototype,a),n&&c(P,n),m}(),i=o.default.Image,p.default=i},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(i,X,p){"use strict";i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.filter"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=D(i("../core/main")),I=D(i("./filters"));function D(c){return c&&c.__esModule?c:{default:c}}i("../color/p5.Color"),o.default.prototype.pixels=[],o.default.prototype.blend=function(){for(var c,m=arguments.length,P=new Array(m),a=0;a<m;a++)P[a]=arguments[a];o.default._validateParameters("blend",P),this._renderer?(c=this._renderer).blend.apply(c,P):o.default.Renderer2D.prototype.blend.apply(this,P)},o.default.prototype.copy=function(){for(var c,m,P,a,n,r,d,s,t,l=arguments.length,$=new Array(l),h=0;h<l;h++)$[h]=arguments[h];if(o.default._validateParameters("copy",$),$.length===9)c=$[0],m=$[1],P=$[2],a=$[3],n=$[4],r=$[5],d=$[6],s=$[7],t=$[8];else{if($.length!==8)throw new Error("Signature not supported");c=this,m=$[0],P=$[1],a=$[2],n=$[3],r=$[4],d=$[5],s=$[6],t=$[7]}o.default.prototype._copyHelper(this,c,m,P,a,n,r,d,s,t)},o.default.prototype._copyHelper=function(c,m,P,a,n,r,d,s,t,l){var $=m.canvas.width/m.width,h=0,L=0;m._renderer&&m._renderer.isP3D&&(h=m.width/2,L=m.height/2),c._renderer&&c._renderer.isP3D?(c.push(),c.resetMatrix(),c.noLights(),c.blendMode(c.BLEND),c.imageMode(c.CORNER),o.default.RendererGL.prototype.image.call(c._renderer,m,P+h,a+L,n,r,d,s,t,l),c.pop()):c.drawingContext.drawImage(m.canvas,$*(P+h),$*(a+L),$*n,$*r,d,s,t,l)},o.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},o.default.prototype.filter=function(){for(var c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];o.default._validateParameters("filter",m);var d=function(){var s,t={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof o.default.Shader?t.shader=arguments.length<=0?void 0:arguments[0]:(t.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(t.value=arguments.length<=1?void 0:arguments[1]),((s=arguments.length-1)<0||arguments.length<=s?void 0:arguments[s])===!1&&(t.useWebGL=!1)),t}.apply(void 0,m),a=d.shader,n=d.operation,r=d.value,d=d.useWebGL;this._renderer.isP3D&&a?o.default.RendererGL.prototype.filter.call(this._renderer,a):d||this._renderer.isP3D?(!d&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?o.default.RendererGL.prototype.filter.call(this._renderer,n,r):((a=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),a.filter.apply(a,m),this.copy(a._renderer,0,0,this.width,this.height,0,0,this.width,this.height),a.clear())):this.canvas!==void 0?I.default.apply(this.canvas,I.default[n],r):I.default.apply(this.elt,I.default[n],r)},o.default.prototype.get=function(c,m,P,a){var n;return o.default._validateParameters("get",arguments),(n=this._renderer).get.apply(n,arguments)},o.default.prototype.loadPixels=function(){for(var c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];o.default._validateParameters("loadPixels",m),this._renderer.loadPixels()},o.default.prototype.set=function(c,m,P){this._renderer.set(c,m,P)},o.default.prototype.updatePixels=function(c,m,P,a){o.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(c,m,P,a)},i=o.default,p.default=i},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(i,X,p){"use strict";function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(r)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.last-index-of"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.from-entries"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/web.url"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.last-index-of"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.from-entries"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/web.url"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var I=m(i("../core/main")),D=(i("whatwg-fetch"),i("es6-promise/auto"),m(i("fetch-jsonp"))),c=m(i("file-saver"));function m(r){return r&&r.__esModule?r:{default:r}}function P(r){return(P=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(d){return o(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":o(d)})(r)}function a(r){return r.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function n(r,d){d&&d!==!0&&d!=="true"||(d="");var s="";return(r=r||"untitled")&&r.includes(".")&&(s=r.split(".").pop()),d&&s!==d&&(s=d,r="".concat(r,".").concat(s)),[r,s]}i("../core/friendly_errors/validate_params"),i("../core/friendly_errors/file_errors"),i("../core/friendly_errors/fes_core"),I.default.prototype.loadJSON=function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];I.default._validateParameters("loadJSON",d);for(var t,l,$,h=d[0],L={},U="json",T=1;T<d.length;T++){var B=d[T];typeof B=="string"?B!=="jsonp"&&B!=="json"||(U=B):typeof B=="function"?t?l=B:t=B:P(B)==="object"&&(B.hasOwnProperty("jsonpCallback")||B.hasOwnProperty("jsonpCallbackFunction"))&&(U="jsonp",$=B)}var J=this;return this.httpDo(h,"GET",$,U,function(S){for(var A in S)L[A]=S[A];t!==void 0&&t(S),J._decrementPreload()},function(S){if(I.default._friendlyFileLoadError(5,h),!l)throw S;l(S)}),L},I.default.prototype.loadStrings=function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];I.default._validateParameters("loadStrings",d);for(var t,l,$=[],h=1;h<d.length;h++){var L=d[h];typeof L=="function"&&(t===void 0?t=L:l===void 0&&(l=L))}var U=this;return I.default.prototype.httpDo.call(this,d[0],"GET","text",function(T){for(var B=T.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),J=0,S=B.length;J<S;J+=32768)Array.prototype.push.apply($,B.slice(J,Math.min(J+32768,S)));t!==void 0&&t($),U._decrementPreload()},function(T){if(I.default._friendlyFileLoadError(3,T),!l)throw T;l(T)}),$},I.default.prototype.loadTable=function(r){var d,s,t,l=[],$=!1,h=r.substring(r.lastIndexOf(".")+1,r.length);h==="csv"?t=",":h==="ssv"?t=";":h==="tsv"&&(t="	");for(var L=1;L<arguments.length;L++)typeof arguments[L]=="function"?d===void 0?d=arguments[L]:s===void 0&&(s=arguments[L]):typeof arguments[L]=="string"&&(l.push(arguments[L]),arguments[L]==="header"&&($=!0),arguments[L]==="csv"?t=",":arguments[L]==="ssv"?t=";":arguments[L]==="tsv"&&(t="	"));var U=new I.default.Table,T=this;return this.httpDo(r,"GET","table",function(B){for(var J,S,A={},Q=0,M=[],k=0,C=null,j=function(){A.currentState=Q,A.token=""},G=function(){C.push(A.token),j()},y=function(){A.currentState=4,M.push(C),C=null};;){if((J=B[k++])==null){if(A.escaped)throw new Error("Unclosed quote in file.");if(C){G(),y();break}}if(C===null&&(A.escaped=!1,C=[],j()),A.currentState===Q){if(J==='"'){A.escaped=!0,A.currentState=1;continue}A.currentState=1}if(A.currentState===1&&A.escaped)if(J==='"')B[k]==='"'?(A.token+='"',k++):(A.escaped=!1,A.currentState=2);else{if(J==="\r")continue;A.token+=J}else J==="\r"?(B[k]===`
`&&k++,G(),y()):J===`
`?(G(),y()):J===t?G():A.currentState===1&&(A.token+=J)}if($)U.columns=M.shift();else for(var g=0;g<M[0].length;g++)U.columns[g]="null";for(var N=0;N<M.length;N++)(M[N].length!==1||M[N][0]!=="undefined"&&M[N][0]!=="")&&((S=new I.default.TableRow).arr=M[N],S.obj=function(w,ce){if((ce=ce||[])===void 0)for(var F=0;F<w.length;F++)ce[F.toString()]=F;return Object.fromEntries(ce.map(function(f,E){return[f,w[E]]}))}(M[N],U.columns),U.addRow(S));typeof d=="function"&&d(U),T._decrementPreload()},function(B){I.default._friendlyFileLoadError(2,r),s?s(B):console.error(B)}),U},I.default.prototype.loadXML=function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];for(var t,l,$=new I.default.XML,h=1;h<d.length;h++){var L=d[h];typeof L=="function"&&(t===void 0?t=L:l===void 0&&(l=L))}var U=this;return this.httpDo(d[0],"GET","xml",function(T){for(var B in T)$[B]=T[B];t!==void 0&&t($),U._decrementPreload()},function(T){if(I.default._friendlyFileLoadError(1,T),!l)throw T;l(T)}),$},I.default.prototype.loadBytes=function(r,d,s){var t={},l=this;return this.httpDo(r,"GET","arrayBuffer",function($){t.bytes=new Uint8Array($),typeof d=="function"&&d(t),l._decrementPreload()},function($){if(I.default._friendlyFileLoadError(6,r),!s)throw $;s($)}),t},I.default.prototype.httpGet=function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];return I.default._validateParameters("httpGet",d),d.splice(1,0,"GET"),I.default.prototype.httpDo.apply(this,d)},I.default.prototype.httpPost=function(){for(var r=arguments.length,d=new Array(r),s=0;s<r;s++)d[s]=arguments[s];return I.default._validateParameters("httpPost",d),d.splice(1,0,"POST"),I.default.prototype.httpDo.apply(this,d)},I.default.prototype.httpDo=function(){for(var r,d,s,t={},l=0,$="text/plain",h=arguments.length-1;0<h&&typeof(h<0||arguments.length<=h?void 0:arguments[h])=="function";h--)l++;var L=arguments.length-l,U=arguments.length<=0?void 0:arguments[0];if(L==2&&typeof U=="string"&&P(arguments.length<=1?void 0:arguments[1])==="object")Q=new Request(U,arguments.length<=1?void 0:arguments[1]),d=arguments.length<=2?void 0:arguments[2],s=arguments.length<=3?void 0:arguments[3];else{for(var T,B="GET",J=1;J<arguments.length;J++){var S=J<0||arguments.length<=J?void 0:arguments[J];if(typeof S=="string")S==="GET"||S==="POST"||S==="PUT"||S==="DELETE"?B=S:S==="json"||S==="jsonp"||S==="binary"||S==="arrayBuffer"||S==="xml"||S==="text"||S==="table"?r=S:T=S;else if(typeof S=="number")T=S.toString();else if(P(S)==="object")if(S.hasOwnProperty("jsonpCallback")||S.hasOwnProperty("jsonpCallbackFunction"))for(var A in S)t[A]=S[A];else $=S instanceof I.default.XML?(T=S.serialize(),"application/xml"):(T=JSON.stringify(S),"application/json");else typeof S=="function"&&(d?s=S:d=S)}var L=B==="GET"?new Headers:new Headers({"Content-Type":$}),Q=new Request(U,{method:B,mode:"cors",body:T,headers:L})}return(L=(L=(r=r||(U.includes("json")?"json":U.includes("xml")?"xml":"text"))==="jsonp"?(0,D.default)(U,t):fetch(Q)).then(function(M){if(!M.ok)throw(k=new Error(M.body)).status=M.status,k.ok=!1,k;var k=0;switch((k=r!=="jsonp"?M.headers.get("content-length"):k)&&64e6<k&&I.default._friendlyFileLoadError(7,U),r){case"json":case"jsonp":return M.json();case"binary":return M.blob();case"arrayBuffer":return M.arrayBuffer();case"xml":return M.text().then(function(C){return C=new DOMParser().parseFromString(C,"text/xml"),new I.default.XML(C.documentElement)});default:return M.text()}})).then(d||function(){}),L.catch(s||console.error),L},window.URL=window.URL||window.webkitURL,I.default.prototype._pWriters=[],I.default.prototype.createWriter=function(r,d){var s,t;for(t in I.default.prototype._pWriters)if(I.default.prototype._pWriters[t].name===r)return s=new I.default.PrintWriter(r+this.millis(),d),I.default.prototype._pWriters.push(s),s;return s=new I.default.PrintWriter(r,d),I.default.prototype._pWriters.push(s),s},I.default.PrintWriter=function(r,d){var s=this;this.name=r,this.content="",this.write=function(t){this.content+=t},this.print=function(t){this.content+="".concat(t,`
`)},this.clear=function(){this.content=""},this.close=function(){var t,l=[];for(t in l.push(this.content),I.default.prototype.writeFile(l,r,d),I.default.prototype._pWriters)I.default.prototype._pWriters[t].name===this.name&&I.default.prototype._pWriters.splice(t,1);s.clear(),s={}}},I.default.prototype.save=function(r,d,s){var t=arguments,l=(this._curElement||this).elt;if(t.length===0)I.default.prototype.saveCanvas(l);else if(t[0]instanceof I.default.Renderer||t[0]instanceof I.default.Graphics)I.default.prototype.saveCanvas(t[0].elt,t[1],t[2]);else if(t.length===1&&typeof t[0]=="string")I.default.prototype.saveCanvas(l,t[0]);else switch(n(t[1],t[2])[1]){case"json":return void I.default.prototype.saveJSON(t[0],t[1],t[2]);case"txt":return void I.default.prototype.saveStrings(t[0],t[1],t[2]);default:t[0]instanceof Array?I.default.prototype.saveStrings(t[0],t[1],t[2]):t[0]instanceof I.default.Table?I.default.prototype.saveTable(t[0],t[1],t[2]):t[0]instanceof I.default.Image?I.default.prototype.saveCanvas(t[0].canvas,t[1]):t[0]instanceof I.default.SoundFile&&I.default.prototype.saveSound(t[0],t[1],t[2],t[3])}},I.default.prototype.saveJSON=function(r,d,s){I.default._validateParameters("saveJSON",arguments),s=s?JSON.stringify(r):JSON.stringify(r,void 0,2),this.saveStrings(s.split(`
`),d,"json")},I.default.prototype.saveJSONObject=I.default.prototype.saveJSON,I.default.prototype.saveJSONArray=I.default.prototype.saveJSON,I.default.prototype.saveStrings=function(r,d,s,t){I.default._validateParameters("saveStrings",arguments);for(var l=this.createWriter(d,s||"txt"),$=0;$<r.length;$++)t?l.write(r[$]+`\r
`):l.write(r[$]+`
`);l.close(),l.clear()},I.default.prototype.saveTable=function(r,d,s){I.default._validateParameters("saveTable",arguments),t=s===void 0?d.substring(d.lastIndexOf(".")+1,d.length):s;var t,l=this.createWriter(d,t),$=r.columns,h=t==="tsv"?"	":",";if(t!=="html"){if($[0]!=="0"){for(var L=0;L<$.length;L++)L<$.length-1?l.write($[L]+h):l.write($[L]);l.write(`
`)}for(var U=0;U<r.rows.length;U++){for(var T=void 0,T=0;T<r.rows[U].arr.length;T++)T<r.rows[U].arr.length-1?t==="csv"&&String(r.rows[U].arr[T]).includes(",")?l.write('"'+r.rows[U].arr[T]+'"'+h):l.write(r.rows[U].arr[T]+h):t==="csv"&&String(r.rows[U].arr[T]).includes(",")?l.write('"'+r.rows[U].arr[T]+'"'):l.write(r.rows[U].arr[T]);l.write(`
`)}}else{if(l.print("<html>"),l.print("<head>"),l.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),l.print("</head>"),l.print("<body>"),l.print("  <table>"),$[0]!=="0"){l.print("    <tr>");for(var B=0;B<$.length;B++){var J=a($[B]);l.print("      <td>".concat(J)),l.print("      </td>")}l.print("    </tr>")}for(var S=0;S<r.rows.length;S++){l.print("    <tr>");for(var A=0;A<r.columns.length;A++){var Q=a(r.rows[S].getString(A));l.print("      <td>".concat(Q)),l.print("      </td>")}l.print("    </tr>")}l.print("  </table>"),l.print("</body>"),l.print("</html>")}l.close(),l.clear()},I.default.prototype.writeFile=function(l,d,s){var t="application/octet-stream",l=(I.default.prototype._isSafari()&&(t="text/plain"),new Blob(l,{type:t}));I.default.prototype.downloadFile(l,d,s)},I.default.prototype.downloadFile=function(r,l,$){var t,l=n(l,$),$=l[0];r instanceof Blob?c.default.saveAs(r,$):((t=document.createElement("a")).href=r,t.download=$,t.onclick=function(h){document.body.removeChild(h.target),h.stopPropagation()},t.style.display="none",document.body.appendChild(t),I.default.prototype._isSafari()&&(r=(r=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(l[1],'"'),alert(r)),t.click())},I.default.prototype._checkFileExtension=n,I.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},i=I.default,p.default=i},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(i,X,p){"use strict";i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.replace"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};function I(D,c){for(var m=0;m<c.length;m++){var P=c[m];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}o.default.Table=function(){function D(){var a=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],n=this,r=D;if(!(n instanceof r))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=a}var c,m,P;return c=D,(m=[{key:"addRow",value:function(a){if(a=a||new o.default.TableRow,a.arr===void 0||a.obj===void 0)throw new Error("invalid TableRow: ".concat(a));return(a.table=this).rows.push(a),a}},{key:"removeRow",value:function(a){this.rows[a].table=null,a=this.rows.splice(a+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(a)}},{key:"getRow",value:function(a){return this.rows[a]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(a,n){if(typeof n=="string"){for(var r=0;r<this.rows.length;r++)if(this.rows[r].obj[n]===a)return this.rows[r]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].arr[n]===a)return this.rows[d];return null}},{key:"findRows",value:function(a,n){var r=[];if(typeof n=="string")for(var d=0;d<this.rows.length;d++)this.rows[d].obj[n]===a&&r.push(this.rows[d]);else for(var s=0;s<this.rows.length;s++)this.rows[s].arr[n]===a&&r.push(this.rows[s]);return r}},{key:"matchRow",value:function(a,n){if(typeof n=="number"){for(var r=0;r<this.rows.length;r++)if(this.rows[r].arr[n].match(a))return this.rows[r]}else for(var d=0;d<this.rows.length;d++)if(this.rows[d].obj[n].match(a))return this.rows[d];return null}},{key:"matchRows",value:function(a,n){var r=[];if(typeof n=="number")for(var d=0;d<this.rows.length;d++)this.rows[d].arr[n].match(a)&&r.push(this.rows[d]);else for(var s=0;s<this.rows.length;s++)this.rows[s].obj[n].match(a)&&r.push(this.rows[s]);return r}},{key:"getColumn",value:function(a){var n=[];if(typeof a=="string")for(var r=0;r<this.rows.length;r++)n.push(this.rows[r].obj[a]);else for(var d=0;d<this.rows.length;d++)n.push(this.rows[d].arr[a]);return n}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(a){this.columns.push(a||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(a,n){for(var r=[],d=0;d<a.length;d++)r.push(a.charAt(d).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var s=new RegExp(r.join("|"),"g");if(n===void 0)for(var t=0;t<this.columns.length;t++)for(var l=0;l<this.rows.length;l++){var $=($=this.rows[l].arr[t]).replace(s,"");this.rows[l].arr[t]=$,this.rows[l].obj[this.columns[t]]=$}else if(typeof n=="string")for(var h=0;h<this.rows.length;h++){var L=(L=this.rows[h].obj[n]).replace(s,""),U=(this.rows[h].obj[n]=L,this.columns.indexOf(n));this.rows[h].arr[U]=L}else for(var T=0;T<this.rows.length;T++){var B=(B=this.rows[T].arr[n]).replace(s,"");this.rows[T].arr[n]=B,this.rows[T].obj[this.columns[n]]=B}}},{key:"trim",value:function(a){var n=new RegExp(" ","g");if(a===void 0)for(var r=0;r<this.columns.length;r++)for(var d=0;d<this.rows.length;d++){var s=(s=this.rows[d].arr[r]).replace(n,"");this.rows[d].arr[r]=s,this.rows[d].obj[this.columns[r]]=s}else if(typeof a=="string")for(var t=0;t<this.rows.length;t++){var l=(l=this.rows[t].obj[a]).replace(n,""),$=(this.rows[t].obj[a]=l,this.columns.indexOf(a));this.rows[t].arr[$]=l}else for(var h=0;h<this.rows.length;h++){var L=(L=this.rows[h].arr[a]).replace(n,"");this.rows[h].arr[a]=L,this.rows[h].obj[this.columns[a]]=L}}},{key:"removeColumn",value:function(d){typeof d=="string"?r=this.columns.indexOf(n=d):n=this.columns[r=d];var n,r,d=this.columns.splice(r+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(d);for(var s=0;s<this.rows.length;s++){var t=this.rows[s].arr,l=t.splice(r+1,t.length);t.pop(),this.rows[s].arr=t.concat(l),delete this.rows[s].obj[n]}}},{key:"set",value:function(a,n,r){this.rows[a].set(n,r)}},{key:"setNum",value:function(a,n,r){this.rows[a].setNum(n,r)}},{key:"setString",value:function(a,n,r){this.rows[a].setString(n,r)}},{key:"get",value:function(a,n){return this.rows[a].get(n)}},{key:"getNum",value:function(a,n){return this.rows[a].getNum(n)}},{key:"getString",value:function(a,n){return this.rows[a].getString(n)}},{key:"getObject",value:function(a){for(var n,r={},d=0;d<this.rows.length;d++)if(n=this.rows[d].obj,typeof a=="string"){if(!(0<=this.columns.indexOf(a)))throw new Error('This table has no column named "'.concat(a,'"'));r[n[a]]=n}else r[d]=this.rows[d].obj;return r}},{key:"getArray",value:function(){for(var a=[],n=0;n<this.rows.length;n++)a.push(this.rows[n].arr);return a}}])&&I(c.prototype,m),P&&I(c,P),D}(),i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(i,X,p){"use strict";i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.from-entries"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.split"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.from-entries"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.split"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i};function o(I,D){for(var c=0;c<D.length;c++){var m=D[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(I,m.key,m)}}i.default.TableRow=function(){function I(P,a){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");var n=[];P&&(n=P.split(a=a||",")),this.arr=n,this.obj=Object.fromEntries(n.entries()),this.table=null}var D,c,m;return D=I,(c=[{key:"set",value:function(P,a){if(typeof P=="string"){var n=this.table.columns.indexOf(P);if(!(0<=n))throw new Error('This table has no column named "'.concat(P,'"'));this.obj[P]=a,this.arr[n]=a}else{if(!(P<this.table.columns.length))throw new Error("Column #".concat(P," is out of the range of this table"));this.arr[P]=a,n=this.table.columns[P],this.obj[n]=a}}},{key:"setNum",value:function(P,a){a=parseFloat(a),this.set(P,a)}},{key:"setString",value:function(P,a){a=a.toString(),this.set(P,a)}},{key:"get",value:function(P){return(typeof P=="string"?this.obj:this.arr)[P]}},{key:"getNum",value:function(P){var a=parseFloat(typeof P=="string"?this.obj[P]:this.arr[P]);if(a.toString()==="NaN")throw"Error: ".concat(this.obj[P]," is NaN (Not a Number)");return a}},{key:"getString",value:function(P){return(typeof P=="string"?this.obj:this.arr)[P].toString()}}])&&o(D.prototype,c),m&&o(D,m),I}(),i=i.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};function I(c,m){for(var P=0;P<m.length;P++){var a=m[P];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(c,a.key,a)}}function D(c){for(var m=[],P=0;P<c.length;P++)m.push(new o.default.XML(c[P]));return m}o.default.XML=function(){function c(n){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");n?this.DOM=n:(n=document.implementation.createDocument(null,"doc"),this.DOM=n.createElement("root"))}var m,P,a;return m=c,(P=[{key:"getParent",value:function(){return new o.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(n){var r=this.DOM.innerHTML,d=this.DOM.attributes,s=document.implementation.createDocument(null,"default").createElement(n);s.innerHTML=r;for(var t=0;t<d.length;t++)s.setAttribute(d[t].nodeName,d[t].nodeValue);this.DOM=s}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var n=[],r=0;r<this.DOM.childNodes.length;r++)n.push(this.DOM.childNodes[r].nodeName);return n}},{key:"getChildren",value:function(n){return D(n?this.DOM.getElementsByTagName(n):this.DOM.children)}},{key:"getChild",value:function(n){if(typeof n!="string")return new o.default.XML(this.DOM.children[n]);var r=!0,d=!1,s=void 0;try{for(var t,l=this.DOM.children[Symbol.iterator]();!(r=(t=l.next()).done);r=!0){var $=t.value;if($.tagName===n)return new o.default.XML($)}}catch(h){d=!0,s=h}finally{try{r||l.return==null||l.return()}finally{if(d)throw s}}}},{key:"addChild",value:function(n){n instanceof o.default.XML&&this.DOM.appendChild(n.DOM)}},{key:"removeChild",value:function(n){var r=-1;if(typeof n=="string"){for(var d=0;d<this.DOM.children.length;d++)if(this.DOM.children[d].tagName===n){r=d;break}}else r=n;r!==-1&&this.DOM.removeChild(this.DOM.children[r])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var n=[],r=!0,d=!1,s=void 0;try{for(var t,l=this.DOM.attributes[Symbol.iterator]();!(r=(t=l.next()).done);r=!0){var $=t.value;n.push($.nodeName)}}catch(h){d=!0,s=h}finally{try{r||l.return==null||l.return()}finally{if(d)throw s}}return n}},{key:"hasAttribute",value:function(n){var r={},d=!0,s=!1,t=void 0;try{for(var l,$=this.DOM.attributes[Symbol.iterator]();!(d=(l=$.next()).done);d=!0){var h=l.value;r[h.nodeName]=h.nodeValue}}catch(L){s=!0,t=L}finally{try{d||$.return==null||$.return()}finally{if(s)throw t}}return!!r[n]}},{key:"getNum",value:function(n,r){var d={},s=!0,t=!1,l=void 0;try{for(var $,h=this.DOM.attributes[Symbol.iterator]();!(s=($=h.next()).done);s=!0){var L=$.value;d[L.nodeName]=L.nodeValue}}catch(U){t=!0,l=U}finally{try{s||h.return==null||h.return()}finally{if(t)throw l}}return Number(d[n])||r||0}},{key:"getString",value:function(n,r){var d={},s=!0,t=!1,l=void 0;try{for(var $,h=this.DOM.attributes[Symbol.iterator]();!(s=($=h.next()).done);s=!0){var L=$.value;d[L.nodeName]=L.nodeValue}}catch(U){t=!0,l=U}finally{try{s||h.return==null||h.return()}finally{if(t)throw l}}return d[n]?String(d[n]):r||null}},{key:"setAttribute",value:function(n,r){this.DOM.setAttribute(n,r)}},{key:"getContent",value:function(n){var r=this.DOM.textContent;return(r=r.replace(/\s\s+/g,","))||n||null}},{key:"setContent",value:function(n){this.DOM.children.length||(this.DOM.textContent=n)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&I(m.prototype,P),a&&I(m,a),c}(),i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.math.hypot"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.math.hypot"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.string.includes"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};function I(D){return function(c){if(Array.isArray(c)){for(var m=0,P=new Array(c.length);m<c.length;m++)P[m]=c[m];return P}}(D)||function(c){if(Symbol.iterator in Object(c)||Object.prototype.toString.call(c)==="[object Arguments]")return Array.from(c)}(D)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.abs=Math.abs,o.default.prototype.ceil=Math.ceil,o.default.prototype.constrain=function(D,c,m){return o.default._validateParameters("constrain",arguments),Math.max(Math.min(D,m),c)},o.default.prototype.dist=function(){for(var D=arguments.length,c=new Array(D),m=0;m<D;m++)c[m]=arguments[m];return o.default._validateParameters("dist",c),c.length===4?Math.hypot(c[2]-c[0],c[3]-c[1]):c.length===6?Math.hypot(c[3]-c[0],c[4]-c[1],c[5]-c[2]):void 0},o.default.prototype.exp=Math.exp,o.default.prototype.floor=Math.floor,o.default.prototype.lerp=function(D,c,m){return o.default._validateParameters("lerp",arguments),m*(c-D)+D},o.default.prototype.log=Math.log,o.default.prototype.mag=function(D,c){return o.default._validateParameters("mag",arguments),Math.hypot(D,c)},o.default.prototype.map=function(D,c,m,P,a,n){return o.default._validateParameters("map",arguments),D=(D-c)/(m-c)*(a-P)+P,n?P<a?this.constrain(D,P,a):this.constrain(D,a,P):D},o.default.prototype.max=function(){for(var D=function(a){return Math.max.apply(Math,I(a))},c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];return Array.isArray(m[0])?D(m[0]):D(m)},o.default.prototype.min=function(){for(var D=function(a){return Math.min.apply(Math,I(a))},c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];return Array.isArray(m[0])?D(m[0]):D(m)},o.default.prototype.norm=function(D,c,m){return o.default._validateParameters("norm",arguments),this.map(D,c,m,0,1)},o.default.prototype.pow=Math.pow,o.default.prototype.round=function(D,c){return c?(c=Math.pow(10,c),Math.round(D*c)/c):Math.round(D)},o.default.prototype.sq=function(D){return D*D},o.default.prototype.sqrt=Math.sqrt,o.default.prototype.fract=function(P){o.default._validateParameters("fract",arguments);var c,m=0,P=Number(P);return isNaN(P)||Math.abs(P)===1/0?P:(P<0&&(P=-P,m=1),String(P).includes(".")&&!String(P).includes("e")?(c=String(P),c=+("0"+c.slice(c.indexOf("."))),Math.abs(m-c)):P<1?Math.abs(m-P):0)},i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(i,X,p){"use strict";i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.reflect.construct"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.slice"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};function I(c,m,P){return(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(a,n,r){var d=[null];return d.push.apply(d,n),n=new(Function.bind.apply(a,d)),r&&D(n,r.prototype),n}).apply(null,arguments)}function D(c,m){return(D=Object.setPrototypeOf||function(P,a){return P.__proto__=a,P})(c,m)}o.default.prototype.createVector=function(c,m,P){return this instanceof o.default?I(o.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new o.default.Vector(c,m,P)},i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(P,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,P=(P=P("../core/main"))&&P.__esModule?P:{default:P};function o(a){return .5*(1-Math.cos(a*Math.PI))}var I,D=4095,c=4,m=.5,P=(P.default.prototype.noise=function(a){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(I==null){I=new Array(4096);for(var d=0;d<4096;d++)I[d]=Math.random()}a<0&&(a=-a),n<0&&(n=-n),r<0&&(r=-r);for(var s,t,l=Math.floor(a),$=Math.floor(n),h=Math.floor(r),L=a-l,U=n-$,T=r-h,B=0,J=.5,S=0;S<c;S++){var A=l+($<<4)+(h<<8),Q=o(L),M=o(U),k=I[A&D];k+=Q*(I[A+1&D]-k),s=I[A+16&D],k+=M*((s+=Q*(I[A+16+1&D]-s))-k),s=I[(A+=256)&D],s+=Q*(I[A+1&D]-s),t=I[A+16&D],s+=M*((t+=Q*(I[A+16+1&D]-t))-s),B+=(k+=o(T)*(s-k))*J,J*=m,l<<=1,$<<=1,h<<=1,1<=(L*=2)&&(l++,L--),1<=(U*=2)&&($++,U--),1<=(T*=2)&&(h++,T--)}return B},P.default.prototype.noiseDetail=function(a,n){0<a&&(c=a),0<n&&(m=n)},P.default.prototype.noiseSeed=function(a){d=4294967296;var n,r,d,s={setSeed:function(l){r=n=(l??Math.random()*d)>>>0},getSeed:function(){return n},rand:function(){return(r=(1664525*r+1013904223)%d)/d}};s.setSeed(a),I=new Array(4096);for(var t=0;t<4096;t++)I[t]=s.rand()},P.default);p.default=P},{"../core/main":283}],316:[function(i,X,p){"use strict";function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function I(n){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.every"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.some"),i("core-js/modules/es.math.sign"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.number.epsilon"),i("core-js/modules/es.number.is-finite"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.sub"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.every"),i("core-js/modules/es.array.some"),i("core-js/modules/es.math.sign"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.number.epsilon"),i("core-js/modules/es.number.is-finite"),i("core-js/modules/es.string.sub"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(a=i("../core/main"))&&a.__esModule?a:{default:a},c=function(n){if(n&&n.__esModule)return n;if(n===null||I(n)!=="object"&&typeof n!="function")return{default:n};var r=m();if(r&&r.has(n))return r.get(n);var d,s={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in n){var l;Object.prototype.hasOwnProperty.call(n,d)&&((l=t?Object.getOwnPropertyDescriptor(n,d):null)&&(l.get||l.set)?Object.defineProperty(s,d,l):s[d]=n[d])}return s.default=n,r&&r.set(n,s),s}(i("../core/constants"));function m(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,m=function(){return n},n)}function P(n,r){for(var d=0;d<r.length;d++){var s=r[d];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(n,s.key,s)}}D.default.Vector=function(){function n(){var h=this,t=n;if(!(h instanceof t))throw new TypeError("Cannot call a class as a function");var l,$,h=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],l=(arguments.length<=2?void 0:arguments[2])||0,$=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(l=(arguments.length<=0?void 0:arguments[0])||0,$=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=l,this.y=$,this.z=h}var r,d,s;return r=n,s=[{key:"fromAngle",value:function(t){var l=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new D.default.Vector(l*Math.cos(t),l*Math.sin(t),0)}},{key:"fromAngles",value:function(T,L){var $=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,h=Math.cos(L),L=Math.sin(L),U=Math.cos(T),T=Math.sin(T);return new D.default.Vector($*T*L,-$*U,$*T*h)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*c.TWO_PI)}},{key:"random3D",value:function(){var t=Math.random()*c.TWO_PI,l=2*Math.random()-1,h=Math.sqrt(1-l*l),$=h*Math.cos(t),h=h*Math.sin(t);return new D.default.Vector($,h,l)}},{key:"copy",value:function(t){return t.copy(t)}},{key:"add",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];return U?U.set(h):(U=h.copy(),l.length===3&&D.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),U.add(L),U}},{key:"rem",value:function(t,l){if(t instanceof D.default.Vector&&l instanceof D.default.Vector)return(t=t.copy()).rem(l),t}},{key:"sub",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];return U?U.set(h):(U=h.copy(),l.length===3&&D.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),U.sub(L),U}},{key:"mult",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];return U?U.set(h):(U=h.copy(),l.length===3&&D.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),U.mult(L),U}},{key:"rotate",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];return l.length===2?U=h.copy():(U instanceof D.default.Vector||D.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),U.set(h)),U.rotate(L),U}},{key:"div",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];return U?U.set(h):(U=h.copy(),l.length===3&&D.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),U.div(L),U}},{key:"dot",value:function(t,l){return t.dot(l)}},{key:"cross",value:function(t,l){return t.cross(l)}},{key:"dist",value:function(t,l){return t.dist(l)}},{key:"lerp",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2],T=l[3];return T?T.set(h):(T=h.copy(),l.length===4&&D.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),T.lerp(L,U),T}},{key:"slerp",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2],T=l[3];return T?T.set(h):(T=h.copy(),l.length===4&&D.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),T.slerp(L,U),T}},{key:"mag",value:function(t){return t.mag()}},{key:"magSq",value:function(t){return t.magSq()}},{key:"normalize",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1];return l.length<2?L=h.copy():(L instanceof D.default.Vector||D.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),L.set(h)),L.normalize()}},{key:"limit",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];return l.length<3?U=h.copy():(U instanceof D.default.Vector||D.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),U.set(h)),U.limit(L)}},{key:"setMag",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];return l.length<3?U=h.copy():(U instanceof D.default.Vector||D.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),U.set(h)),U.setMag(L)}},{key:"heading",value:function(t){return t.heading()}},{key:"angleBetween",value:function(t,l){return t.angleBetween(l)}},{key:"reflect",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];return l.length<3?U=h.copy():(U instanceof D.default.Vector||D.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),U.set(h)),U.reflect(L)}},{key:"array",value:function(t){return t.array()}},{key:"equals",value:function(t,l){var $;return t instanceof D.default.Vector?$=t:Array.isArray(t)?$=new D.default.Vector().set(t):D.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),$.equals(l)}}],(d=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(t,l,$){return t instanceof D.default.Vector?(this.x=t.x||0,this.y=t.y||0,this.z=t.z||0):Array.isArray(t)?(this.x=t[0]||0,this.y=t[1]||0,this.z=t[2]||0):(this.x=t||0,this.y=l||0,this.z=$||0),this}},{key:"copy",value:function(){return this.isPInst?new D.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new D.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(t,l,$){return t instanceof D.default.Vector?(this.x+=t.x||0,this.y+=t.y||0,this.z+=t.z||0):Array.isArray(t)?(this.x+=t[0]||0,this.y+=t[1]||0,this.z+=t[2]||0):(this.x+=t||0,this.y+=l||0,this.z+=$||0),this}},{key:"calculateRemainder2D",value:function(t,l){return t!==0&&(this.x=this.x%t),l!==0&&(this.y=this.y%l),this}},{key:"calculateRemainder3D",value:function(t,l,$){return t!==0&&(this.x=this.x%t),l!==0&&(this.y=this.y%l),$!==0&&(this.z=this.z%$),this}},{key:"rem",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h,L,U,T=l[0],B=l[1],J=l[2];if(T instanceof D.default.Vector){if([T.x,T.y,T.z].every(Number.isFinite))return h=parseFloat(T.x),L=parseFloat(T.y),U=parseFloat(T.z),this.calculateRemainder3D(h,L,U)}else if(Array.isArray(T)){if(T.every(Number.isFinite))return T.length===2?this.calculateRemainder2D(T[0],T[1]):T.length===3?this.calculateRemainder3D(T[0],T[1],T[2]):void 0}else if(l.length===1){if(Number.isFinite(T)&&T!==0)return this.x=this.x%T,this.y=this.y%T,this.z=this.z%T,this}else if(l.length===2){if(l.every(Number.isFinite))return this.calculateRemainder2D(T,B)}else if(l.length===3&&l.every(Number.isFinite))return this.calculateRemainder3D(T,B,J)}},{key:"sub",value:function(t,l,$){return t instanceof D.default.Vector?(this.x-=t.x||0,this.y-=t.y||0,this.z-=t.z||0):Array.isArray(t)?(this.x-=t[0]||0,this.y-=t[1]||0,this.z-=t[2]||0):(this.x-=t||0,this.y-=l||0,this.z-=$||0),this}},{key:"mult",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h,L=l[0],U=l[1],T=l[2];return L instanceof D.default.Vector?Number.isFinite(L.x)&&Number.isFinite(L.y)&&Number.isFinite(L.z)&&typeof L.x=="number"&&typeof L.y=="number"&&typeof L.z=="number"?(this.x*=L.x,this.y*=L.y,this.z*=L.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(L)?L.every(function(B){return Number.isFinite(B)})&&L.every(function(B){return typeof B=="number"})?L.length===1?(this.x*=L[0],this.y*=L[0],this.z*=L[0]):L.length===2?(this.x*=L[0],this.y*=L[1]):L.length===3&&(this.x*=L[0],this.y*=L[1],this.z*=L[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(h=l).every(function(B){return Number.isFinite(B)})&&h.every(function(B){return typeof B=="number"})?(l.length===1&&(this.x*=L,this.y*=L,this.z*=L),l.length===2&&(this.x*=L,this.y*=U),l.length===3&&(this.x*=L,this.y*=U,this.z*=T)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var t=arguments.length,l=new Array(t),$=0;$<t;$++)l[$]=arguments[$];var h=l[0],L=l[1],U=l[2];if(h instanceof D.default.Vector)if(Number.isFinite(h.x)&&Number.isFinite(h.y)&&Number.isFinite(h.z)&&typeof h.x=="number"&&typeof h.y=="number"&&typeof h.z=="number"){var T=h.z===0&&this.z===0;if(h.x===0||h.y===0||!T&&h.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=h.x,this.y/=h.y,T||(this.z/=h.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(h))if(h.every(Number.isFinite)&&h.every(function(B){return typeof B=="number"})){if(h.some(function(B){return B===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;h.length===1?(this.x/=h[0],this.y/=h[0],this.z/=h[0]):h.length===2?(this.x/=h[0],this.y/=h[1]):h.length===3&&(this.x/=h[0],this.y/=h[1],this.z/=h[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(l.every(Number.isFinite)&&l.every(function(B){return typeof B=="number"})){if(l.some(function(B){return B===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;l.length===1&&(this.x/=h,this.y/=h,this.z/=h),l.length===2&&(this.x/=h,this.y/=L),l.length===3&&(this.x/=h,this.y/=L,this.z/=U)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var t=this.x,l=this.y,$=this.z;return t*t+l*l+$*$}},{key:"dot",value:function(t,l,$){return t instanceof D.default.Vector?this.dot(t.x,t.y,t.z):this.x*(t||0)+this.y*(l||0)+this.z*($||0)}},{key:"cross",value:function(h){var l=this.y*h.z-this.z*h.y,$=this.z*h.x-this.x*h.z,h=this.x*h.y-this.y*h.x;return this.isPInst?new D.default.Vector(this._fromRadians,this._toRadians,l,$,h):new D.default.Vector(l,$,h)}},{key:"dist",value:function(t){return t.copy().sub(this).mag()}},{key:"normalize",value:function(){var t=this.mag();return t!==0&&this.mult(1/t),this}},{key:"limit",value:function(t){var l=this.magSq();return t*t<l&&this.div(Math.sqrt(l)).mult(t),this}},{key:"setMag",value:function(t){return this.normalize().mult(t)}},{key:"heading",value:function(){var t=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(t):t}},{key:"setHeading",value:function(t){this.isPInst&&(t=this._toRadians(t));var l=this.mag();return this.x=l*Math.cos(t),this.y=l*Math.sin(t),this}},{key:"rotate",value:function(l){var l=this.heading()+l,$=(this.isPInst&&(l=this._toRadians(l)),this.mag());return this.x=Math.cos(l)*$,this.y=Math.sin(l)*$,this}},{key:"angleBetween",value:function(t){var l;return this.magSq()*t.magSq()==0?NaN:(l=this.cross(t),t=Math.atan2(l.mag(),this.dot(t))*Math.sign(l.z||1),this.isPInst?this._fromRadians(t):t)}},{key:"lerp",value:function(t,l,$,h){return t instanceof D.default.Vector?this.lerp(t.x,t.y,t.z,l):(this.x+=(t-this.x)*h||0,this.y+=(l-this.y)*h||0,this.z+=($-this.z)*h||0,this)}},{key:"slerp",value:function(t,l){if(l!==0){if(l===1)return this.set(t);var $=this.mag(),h=t.mag();if($*h==0)this.mult(1-l).add(t.x*l,t.y*l,t.z*l);else{var L=this.cross(t),U=L.mag(),T=Math.atan2(U,this.dot(t));if(0<U)L.x/=U,L.y/=U,L.z/=U;else{if(T<.5*Math.PI)return this.mult(1-l).add(t.x*l,t.y*l,t.z*l),this;this.z===0&&t.z===0?L.set(0,0,1):this.x!==0?L.set(this.y,-this.x,0).normalize():L.set(1,0,0)}U=L.cross(this),t=1-l+l*h/$,L=t*Math.cos(l*T),h=t*Math.sin(l*T),this.x=this.x*L+U.x*h,this.y=this.y*L+U.y*h,this.z=this.z*L+U.z*h}}return this}},{key:"reflect",value:function(t){return t=D.default.Vector.normalize(t),this.sub(t.mult(2*this.dot(t)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(U,l,$){var h,L,U=U instanceof D.default.Vector?(h=U.x||0,L=U.y||0,U.z||0):Array.isArray(U)?(h=U[0]||0,L=U[1]||0,U[2]||0):(h=U||0,L=l||0,$||0);return this.x===h&&this.y===L&&this.z===U}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(t){return Math.abs(+(t||0))<=Number.EPSILON?0:t}}])&&P(r.prototype,d),s&&P(r,s),n}();var a=D.default.Vector;p.default=a},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(m,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(m=m("../core/main"))&&m.__esModule?m:{default:m},I="_lcg_random_state",D=4294967296,c=0,m=(o.default.prototype._lcg=function(P){return this[P]=(1664525*this[P]+1013904223)%D,this[P]/D},o.default.prototype._lcgSetSeed=function(P,a){this[P]=(a??Math.random()*D)>>>0},o.default.prototype.randomSeed=function(P){this._lcgSetSeed(I,P),this._gaussian_previous=!1},o.default.prototype.random=function(P,a){var n,r;return o.default._validateParameters("random",arguments),n=this[I]!=null?this._lcg(I):Math.random(),P===void 0?n:a===void 0?Array.isArray(P)?P[Math.floor(n*P.length)]:n*P:(a<P&&(r=P,P=a,a=r),n*(a-P)+P)},o.default.prototype.randomGaussian=function(P){var a,n,r,d,s=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)a=c,this._gaussian_previous=!1;else{for(;1<=(d=(n=this.random(2)-1)*n+(r=this.random(2)-1)*r););a=n*(d=Math.sqrt(-2*Math.log(d)/d)),c=r*d,this._gaussian_previous=!0}return a*s+(P||0)},o.default);p.default=m},{"../core/main":283}],318:[function(i,X,p){"use strict";function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(a)}function I(a){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(n){return o(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":o(n)})(a)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(P=i("../core/main"))&&P.__esModule?P:{default:P},c=function(a){if(a&&a.__esModule)return a;if(a===null||I(a)!=="object"&&typeof a!="function")return{default:a};var n=m();if(n&&n.has(a))return n.get(a);var r,d={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in a){var t;Object.prototype.hasOwnProperty.call(a,r)&&((t=s?Object.getOwnPropertyDescriptor(a,r):null)&&(t.get||t.set)?Object.defineProperty(d,r,t):d[r]=a[r])}return d.default=a,n&&n.set(a,d),d}(i("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}D.default.prototype._angleMode=c.RADIANS,D.default.prototype.acos=function(a){return this._fromRadians(Math.acos(a))},D.default.prototype.asin=function(a){return this._fromRadians(Math.asin(a))},D.default.prototype.atan=function(a){return this._fromRadians(Math.atan(a))},D.default.prototype.atan2=function(a,n){return this._fromRadians(Math.atan2(a,n))},D.default.prototype.cos=function(a){return Math.cos(this._toRadians(a))},D.default.prototype.sin=function(a){return Math.sin(this._toRadians(a))},D.default.prototype.tan=function(a){return Math.tan(this._toRadians(a))},D.default.prototype.degrees=function(a){return a*c.RAD_TO_DEG},D.default.prototype.radians=function(a){return a*c.DEG_TO_RAD},D.default.prototype.angleMode=function(a){if(D.default._validateParameters("angleMode",arguments),a===void 0)return this._angleMode;a!==c.DEGREES&&a!==c.RADIANS||a!==this._angleMode&&(a===c.RADIANS?(this._setProperty("pRotationX",this.pRotationX*c.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*c.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*c.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*c.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*c.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*c.RAD_TO_DEG)),this._angleMode=a)},D.default.prototype._toRadians=function(a){return this._angleMode===c.DEGREES?a*c.DEG_TO_RAD:a},D.default.prototype._toDegrees=function(a){return this._angleMode===c.RADIANS?a*c.RAD_TO_DEG:a},D.default.prototype._fromRadians=function(a){return this._angleMode===c.DEGREES?a*c.RAD_TO_DEG:a},D.default.prototype._fromDegrees=function(a){return this._angleMode===c.RADIANS?a*c.DEG_TO_RAD:a};var P=D.default;p.default=P},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(i,X,p){"use strict";i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};o.default.prototype.textAlign=function(I,D){var c;return o.default._validateParameters("textAlign",arguments),(c=this._renderer).textAlign.apply(c,arguments)},o.default.prototype.textLeading=function(I){var D;return o.default._validateParameters("textLeading",arguments),(D=this._renderer).textLeading.apply(D,arguments)},o.default.prototype.textSize=function(I){var D;return o.default._validateParameters("textSize",arguments),(D=this._renderer).textSize.apply(D,arguments)},o.default.prototype.textStyle=function(I){var D;return o.default._validateParameters("textStyle",arguments),(D=this._renderer).textStyle.apply(D,arguments)},o.default.prototype.textWidth=function(){for(var I=arguments.length,D=new Array(I),c=0;c<I;c++)D[c]=arguments[c];if(D[0]+="",o.default._validateParameters("textWidth",D),D[0].length===0)return 0;for(var m=D[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),P=[],a=0;a<m.length;a++)P.push(this._renderer.textWidth(m[a]));return Math.max.apply(Math,P)},o.default.prototype.textAscent=function(){for(var I=arguments.length,D=new Array(I),c=0;c<I;c++)D[c]=arguments[c];return o.default._validateParameters("textAscent",D),this._renderer.textAscent()},o.default.prototype.textDescent=function(){for(var I=arguments.length,D=new Array(I),c=0;c<I;c++)D[c]=arguments[c];return o.default._validateParameters("textDescent",D),this._renderer.textDescent()},o.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},o.default.prototype.textWrap=function(I){return o.default._validateParameters("textWrap",[I]),this._renderer.textWrap(I)},i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(i,X,p){"use strict";function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(r)}function I(r){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(d){return o(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":o(d)})(r)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.last-index-of"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.split"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.last-index-of"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.split"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(n=i("../core/main"))&&n.__esModule?n:{default:n},c=a(i("../core/constants")),m=a(i("opentype.js"));function P(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,P=function(){return r},r)}function a(r){if(r&&r.__esModule)return r;if(r===null||I(r)!=="object"&&typeof r!="function")return{default:r};var d=P();if(d&&d.has(r))return d.get(r);var s,t,l={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&((t=$?Object.getOwnPropertyDescriptor(r,s):null)&&(t.get||t.set)?Object.defineProperty(l,s,t):l[s]=r[s]);return l.default=r,d&&d.set(r,l),l}i("../core/friendly_errors/validate_params"),i("../core/friendly_errors/file_errors"),i("../core/friendly_errors/fes_core"),D.default.prototype.loadFont=function(r,d,s){D.default._validateParameters("loadFont",arguments);var t=new D.default.Font(this),l=this;return m.load(r,function(L,U){if(L)return D.default._friendlyFileLoadError(4,r),s!==void 0?s(L):void console.error(L,r);t.font=U,d!==void 0&&d(t),l._decrementPreload();var L=r.split("\\").pop().split("/").pop(),U=L.lastIndexOf("."),T=U<1?null:L.slice(U+1);["ttf","otf","woff","woff2"].includes(T)&&(T=L.slice(0,U!==-1?U:0),(L=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(T,`;
src: url(`).concat(r,`);
}
`))),document.head.appendChild(L))}),t},D.default.prototype.text=function(r,d,s,t,l){var $;return D.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?($=this._renderer).text.apply($,arguments):this},D.default.prototype.textFont=function(r,d){if(D.default._validateParameters("textFont",arguments),arguments.length){if(r)return this._renderer._setProperty("_textFont",r),d&&(this._renderer._setProperty("_textSize",d),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",d*c._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var n=D.default;p.default=n},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(i,X,p){"use strict";function o(B){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(J){return typeof J}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(B)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.function.name"),i("core-js/modules/es.number.to-fixed"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.function.name"),i("core-js/modules/es.number.to-fixed"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var I=(I=i("../core/main"))&&I.__esModule?I:{default:I},D=function(B){if(B&&B.__esModule)return B;if(B===null||m(B)!=="object"&&typeof B!="function")return{default:B};var J=c();if(J&&J.has(B))return J.get(B);var S,A={},Q=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in B){var M;Object.prototype.hasOwnProperty.call(B,S)&&((M=Q?Object.getOwnPropertyDescriptor(B,S):null)&&(M.get||M.set)?Object.defineProperty(A,S,M):A[S]=B[S])}return A.default=B,J&&J.set(B,A),A}(i("../core/constants"));function c(){var B;return typeof WeakMap!="function"?null:(B=new WeakMap,c=function(){return B},B)}function m(B){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(J){return o(J)}:function(J){return J&&typeof Symbol=="function"&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":o(J)})(B)}function P(B,J){for(var S=0;S<J.length;S++){var A=J[S];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(B,A.key,A)}}function a(B,J){var S=B.length;return B[J<0?J%S+S:J%S]}function n(B,J,S,A){var Q,M,k;return A?(n.tmpPoint1===void 0&&(n.tmpPoint1=[],n.tmpPoint2=[]),M=n.tmpPoint1,k=n.tmpPoint2,M.x=J.x-B.x,M.y=J.y-B.y,k.x=S.x-J.x,k.y=S.y-J.y,Q=M.x*k.x+M.y*k.y,M=Math.sqrt(M.x*M.x+M.y*M.y),k=Math.sqrt(k.x*k.x+k.y*k.y),Math.acos(Q/(M*k))<A):(J[0]-B[0])*(S[1]-B[1])-(S[0]-B[0])*(J[1]-B[1])==0}function r(f,Z,E,W,ee,M,k,C,j){var G=1-j,g=Math.pow(G,3),N=Math.pow(G,2),F=j*j,w=F*j,y=g*f+3*N*j*E+3*G*j*j*ee+w*k,g=g*Z+3*N*j*W+3*G*j*j*M+w*C,N=f+2*j*(E-f)+F*(ee-2*E+f),w=Z+2*j*(W-Z)+F*(M-2*W+Z),ce=E+2*j*(ee-E)+F*(k-2*ee+E),F=W+2*j*(M-W)+F*(C-2*M+W),f=G*f+j*E,E=G*Z+j*W,Z=G*ee+j*k,W=G*M+j*C,ee=90-180*Math.atan2(N-ce,w-F)/Math.PI;return(ce<N||w<F)&&(ee+=180),{x:y,y:g,m:{x:N,y:w},n:{x:ce,y:F},start:{x:f,y:E},end:{x:Z,y:W},alpha:ee}}function d(B,J,S,A,Q,M,k,C,j){return j==null?U(B,J,S,A,Q,M,k,C):r(B,J,S,A,Q,M,k,C,function(G,y,g,N,w,ce,F,f,E){if(!(E<0||U(G,y,g,N,w,ce,F,f)<E)){var Z,W=.5,ee=1-W;for(Z=U(G,y,g,N,w,ce,F,f,ee);.01<Math.abs(Z-E);)Z=U(G,y,g,N,w,ce,F,f,ee+=(Z<E?1:-1)*(W/=2));return ee}}(B,J,S,A,Q,M,k,C,j))}function s(B,J,S){for(var A,Q,M,k,C,j=0,G=0,y=(B=function(g,N){function w(Pe,me,Re){var je,be;if(!Pe)return["C",me.x,me.y,me.x,me.y,me.x,me.y];switch(Pe[0]in{T:1,Q:1}||(me.qx=me.qy=null),Pe[0]){case"M":me.X=Pe[1],me.Y=Pe[2];break;case"A":Pe=["C"].concat(l.apply(0,[me.x,me.y].concat(Pe.slice(1))));break;case"S":be=Re==="C"||Re==="S"?(je=2*me.x-me.bx,2*me.y-me.by):(je=me.x,me.y),Pe=["C",je,be].concat(Pe.slice(1));break;case"T":Re==="Q"||Re==="T"?(me.qx=2*me.x-me.qx,me.qy=2*me.y-me.qy):(me.qx=me.x,me.qy=me.y),Pe=["C"].concat(L(me.x,me.y,me.qx,me.qy,Pe[1],Pe[2]));break;case"Q":me.qx=Pe[1],me.qy=Pe[2],Pe=["C"].concat(L(me.x,me.y,Pe[1],Pe[2],Pe[3],Pe[4]));break;case"L":Pe=["C"].concat(h(me.x,me.y,Pe[1],Pe[2]));break;case"H":Pe=["C"].concat(h(me.x,me.y,Pe[1],me.y));break;case"V":Pe=["C"].concat(h(me.x,me.y,me.x,Pe[1]));break;case"Z":Pe=["C"].concat(h(me.x,me.y,me.X,me.Y))}return Pe}function ce(Pe,me){if(7<Pe[me].length){Pe[me].shift();for(var Re=Pe[me];Re.length;)De[me]="A",Z&&($e[me]="A"),Pe.splice(me++,0,["C"].concat(Re.splice(0,6)));Pe.splice(me,1),f=Math.max(E.length,Z&&Z.length||0)}}function F(Pe,me,Re,je,be){Pe&&me&&Pe[be][0]==="M"&&me[be][0]!=="M"&&(me.splice(be,0,["M",je.x,je.y]),Re.bx=0,Re.by=0,Re.x=Pe[be][1],Re.y=Pe[be][2],f=Math.max(E.length,Z&&Z.length||0))}var f,E=t(g),Z=N&&t(N),W={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ee={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},De=[],$e=[],te="",de="";f=Math.max(E.length,Z&&Z.length||0);for(var ne=0;ne<f;ne++){(te=E[ne]?E[ne][0]:te)!=="C"&&(De[ne]=te,ne&&(de=De[ne-1])),E[ne]=w(E[ne],W,de),De[ne]!=="A"&&te==="C"&&(De[ne]="C"),ce(E,ne),Z&&((te=Z[ne]?Z[ne][0]:te)!=="C"&&($e[ne]=te,ne&&(de=$e[ne-1])),Z[ne]=w(Z[ne],ee,de),$e[ne]!=="A"&&te==="C"&&($e[ne]="C"),ce(Z,ne)),F(E,Z,W,ee,ne),F(Z,E,ee,W,ne);var z=E[ne],oe=Z&&Z[ne],he=z.length,Je=Z&&oe.length;W.x=z[he-2],W.y=z[he-1],W.bx=parseFloat(z[he-4])||W.x,W.by=parseFloat(z[he-3])||W.y,ee.bx=Z&&(parseFloat(oe[Je-4])||ee.x),ee.by=Z&&(parseFloat(oe[Je-3])||ee.y),ee.x=Z&&oe[Je-2],ee.y=Z&&oe[Je-1]}return Z?[E,Z]:E}(B)).length;G<y;G++){if((M=B[G])[0]==="M")A=+M[1],Q=+M[2];else{if(J<j+(k=d(A,Q,M[1],M[2],M[3],M[4],M[5],M[6]))&&!S)return{x:(C=d(A,Q,M[1],M[2],M[3],M[4],M[5],M[6],J-j)).x,y:C.y,alpha:C.alpha};j+=k,A=+M[5],Q=+M[6]}M.shift()}return C=(C=S?j:r(A,Q,M[0],M[1],M[2],M[3],M[4],M[5],1)).alpha?{x:C.x,y:C.y,alpha:C.alpha}:C}function t(B){var J=[],S=0,A=0,Q=0,M=0,k=0;if(B){B[0][0]==="M"&&(Q=S=+B[0][1],M=A=+B[0][2],k++,J[0]=["M",S,A]);for(var C,j,G=B.length===3&&B[0][0]==="M"&&B[1][0].toUpperCase()==="R"&&B[2][0].toUpperCase()==="Z",y=k,g=B.length;y<g;y++){if(J.push(C=[]),(j=B[y])[0]!==j[0].toUpperCase())switch(C[0]=j[0].toUpperCase(),C[0]){case"A":C[1]=j[1],C[2]=j[2],C[3]=j[3],C[4]=j[4],C[5]=j[5],C[6]=+(j[6]+S),C[7]=+(j[7]+A);break;case"V":C[1]=+j[1]+A;break;case"H":C[1]=+j[1]+S;break;case"R":for(var N,w=2,ce=(N=[S,A].concat(j.slice(1))).length;w<ce;w++)N[w]=+N[w]+S,N[++w]=+N[w]+A;J.pop(),J=J.concat($(N,G));break;case"M":Q=+j[1]+S,M=+j[2]+A;break;default:for(var F=1,f=j.length;F<f;F++)C[F]=+j[F]+(F%2?S:A)}else if(j[0]==="R")N=[S,A].concat(j.slice(1)),J.pop(),J=J.concat($(N,G)),C=["R"].concat(j.slice(-2));else for(var E=0,Z=j.length;E<Z;E++)C[E]=j[E];switch(C[0]){case"Z":S=Q,A=M;break;case"H":S=C[1];break;case"V":A=C[1];break;case"M":Q=C[C.length-2],M=C[C.length-1];break;default:S=C[C.length-2],A=C[C.length-1]}}}return J}function l(B,J,S,A,Z,De,W,C,j,G){function y(Je,Pe,me){return{x:Je*Math.cos(me)-Pe*Math.sin(me),y:Je*Math.sin(me)+Pe*Math.cos(me)}}var g,f=Math.PI,E=120*f/180,N=f/180*(+Z||0),w=[],ce=(G?(ne=G[0],g=G[1],te=G[2],de=G[3]):(B=(ee=y(B,J,-N)).x,J=ee.y,1<(ce=(F=(B-(C=(ee=y(C,j,-N)).x))/2)*F/(S*S)+(ee=(J-(j=ee.y))/2)*ee/(A*A))&&(S*=ce=Math.sqrt(ce),A*=ce),ce=S*S,$e=A*A,te=(De=(De===W?-1:1)*Math.sqrt(Math.abs((ce*$e-ce*ee*ee-$e*F*F)/(ce*ee*ee+$e*F*F))))*S*ee/A+(B+C)/2,de=De*-A*F/S+(J+j)/2,ne=Math.asin(((J-de)/A).toFixed(9)),g=Math.asin(((j-de)/A).toFixed(9)),(ne=B<te?f-ne:ne)<0&&(ne=2*f+ne),(g=C<te?f-g:g)<0&&(g=2*f+g),W&&g<ne&&(ne-=2*f),!W&&ne<g&&(g-=2*f)),g-ne),F=(Math.abs(ce)>E&&($e=g,ee=C,De=j,g=ne+E*(W&&ne<g?1:-1),w=l(C=te+S*Math.cos(g),j=de+A*Math.sin(g),S,A,Z,0,W,ee,De,[g,$e,te,de])),ce=g-ne,Math.cos(ne)),f=Math.sin(ne),E=Math.cos(g),Z=Math.sin(g),W=Math.tan(ce/4),ee=4/3*S*W,De=4/3*A*W,$e=[B,J],te=[B+ee*f,J-De*F],de=[C+ee*Z,j-De*E],ne=[C,j];if(te[0]=2*$e[0]-te[0],te[1]=2*$e[1]-te[1],G)return[te,de,ne].concat(w);for(var z=[],oe=0,he=(w=[te,de,ne].concat(w).join().split(",")).length;oe<he;oe++)z[oe]=oe%2?y(w[oe-1],w[oe],N).y:y(w[oe],w[oe+1],N).x;return z}function $(B,J){for(var S=[],A=0,Q=B.length;A<Q-2*!J;A+=2){var M=[{x:+B[A-2],y:+B[A-1]},{x:+B[A],y:+B[A+1]},{x:+B[A+2],y:+B[A+3]},{x:+B[A+4],y:+B[A+5]}];J?A?Q-4===A?M[3]={x:+B[0],y:+B[1]}:Q-2===A&&(M[2]={x:+B[0],y:+B[1]},M[3]={x:+B[2],y:+B[3]}):M[0]={x:+B[Q-2],y:+B[Q-1]}:Q-4===A?M[3]=M[2]:A||(M[0]={x:+B[A],y:+B[A+1]}),S.push(["C",(-M[0].x+6*M[1].x+M[2].x)/6,(-M[0].y+6*M[1].y+M[2].y)/6,(M[1].x+6*M[2].x-M[3].x)/6,(M[1].y+6*M[2].y-M[3].y)/6,M[2].x,M[2].y])}return S}function h(B,J,S,A){return[B,J,S,A,S,A]}function L(B,J,S,A,Q,M){return[1/3*B+2/3*S,1/3*J+2/3*A,1/3*Q+2/3*S,1/3*M+2/3*A,Q,M]}function U(B,J,S,A,Q,M,k,C,j){for(var G=(j=1<(j=j??1)?1:j<0?0:j)/2,y=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],g=0,N=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],w=0;w<12;w++){var F=G*y[w]+G,ce=T(F,B,S,Q,k),F=T(F,J,A,M,C);g+=N[w]*Math.sqrt(ce*ce+F*F)}return G*g}function T(B,J,S,A,Q){return B*(B*(-3*J+9*S-9*A+3*Q)+6*J-12*S+6*A)-3*J+3*S}I.default.Font=function(){function B(Q){if(!(this instanceof B))throw new TypeError("Cannot call a class as a function");this.parent=Q,this.cache={},this.font=void 0}var J,S,A;return J=B,(S=[{key:"textBounds",value:function(Q){var M=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,k=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,y=3<arguments.length?arguments[3]:void 0,C=4<arguments.length?arguments[4]:void 0,j=C&&C.renderer&&C.renderer._pInst||this.parent,G=j._renderer.drawingContext,y=(G.textAlign||D.LEFT,G.textBaseline||D.BASELINE,y||j._renderer._textSize);if(!De){for(var g=[],N=[],w=[],ce=(w[0]=[],[]),F=this._scale(y),f=j._renderer.textLeading(),E=0,Z=(this.font.forEachGlyph(Q,M,k,y,C,function(de,ne,z,oe){var he=de.getMetrics();de.index===0?w[E+=1]=[]:(w[E].push(ne+he.xMin*F),w[E].push(ne+he.xMax*F),ce.push(z+E*f+-he.yMin*F),ce.push(z+E*f+-he.yMax*F))}),0<w[E].length&&(g[E]=Math.min.apply(null,w[E]),N[E]=Math.max.apply(null,w[E])),0),W=0;W<=E;W++){g[W]=Math.min.apply(null,w[W]),N[W]=Math.max.apply(null,w[W]);var ee=N[W]-g[W];Z<ee&&(Z=ee)}var G=Math.min.apply(null,g),De={x:G,y:k=Math.min.apply(null,ce),h:Math.max.apply(null,ce)-k,w:Z,advance:G-M},y=this._handleAlignment(j._renderer,Q,De.x,De.y,De.w+De.advance);De.x=y.x,De.y=y.y}return De}},{key:"textToPoints",value:function(Q,M,k,C,j){var G=M,y=[],g=Q.split(/\r?\n|\r|\n/g);C=C||this.parent._renderer._textSize;for(var N,w,ce,F=0;F<g.length;F++){var f=0;M=G;for(var E=(E=g[F]).replace("	","  "),Z=this._getGlyphs(E),W=0;W<Z.length;W++){if(w=E,!((ce=Z)[N=W].name&&ce[N].name==="space"||w.length===ce.length&&w[N]===" "))for(var ee=function(de){for(var ne,z=[],oe=0;oe<de.length;oe++)de[oe].type==="M"&&(ne&&z.push(ne),ne=[]),ne.push(function(he){var Je=[he.type];return he.type==="M"||he.type==="L"?Je.push(he.x,he.y):he.type==="C"?Je.push(he.x1,he.y1,he.x2,he.y2,he.x,he.y):he.type==="Q"&&Je.push(he.x1,he.y1,he.x,he.y),Je}(de[oe]));return z.push(ne),z}(Z[W].getPath(M,k,C).commands),De=0;De<ee.length;De++)for(var $e=function(de,ne){for(var ne=function(me,Re){if(m(me)!=="object")me=Re;else for(var je in Re)me[je]===void 0&&(me[je]=Re[je]);return me}(ne,{sampleFactor:.1,simplifyThreshold:0}),z=s(de,0,1),oe=z/(z*ne.sampleFactor),he=[],Je=0;Je<z;Je+=oe)he.push(s(de,Je));return ne.simplifyThreshold&&function(Pe){for(var me=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,Re=0,je=Pe.length-1;3<Pe.length&&0<=je;--je)n(a(Pe,je-1),a(Pe,je),a(Pe,je+1),me)&&(Pe.splice(je%Pe.length,1),Re++)}(he,ne.simplifyThreshold),he}(ee[De],j),te=0;te<$e.length;te++)$e[te].x+=f,y.push($e[te]);f+=Z[W].advanceWidth*this._scale(C)}k+=this.parent._renderer._textLeading}return y}},{key:"_getGlyphs",value:function(Q){return this.font.stringToGlyphs(Q)}},{key:"_getPath",value:function(Q,G,k,C){var j=(C&&C.renderer&&C.renderer._pInst||this.parent)._renderer,G=this._handleAlignment(j,Q,G,k);return this.font.getPath(Q,G.x,G.y,j._textSize,C)}},{key:"_getPathData",value:function(Q,M,k,C){var j=3;return typeof Q=="string"&&2<arguments.length?Q=this._getPath(Q,M,k,C):m(M)==="object"&&(C=M),C&&typeof C.decimals=="number"&&(j=C.decimals),Q.toPathData(j)}},{key:"_getSVG",value:function(Q,M,k,C){var j=3;return typeof Q=="string"&&2<arguments.length?Q=this._getPath(Q,M,k,C):m(M)==="object"&&(C=M),C&&(typeof C.decimals=="number"&&(j=C.decimals),typeof C.strokeWidth=="number"&&(Q.strokeWidth=C.strokeWidth),C.fill!==void 0&&(Q.fill=C.fill),C.stroke!==void 0&&(Q.stroke=C.stroke)),Q.toSVG(j)}},{key:"_renderPath",value:function(y,N,w,C){var j=C&&C.renderer||this.parent._renderer,G=j.drawingContext,y=(m(y)==="object"&&y.commands?y:this._getPath(y,N,w,C)).commands,g=(j._clipping||G.beginPath(),!0),N=!1,w=void 0;try{for(var ce,F=y[Symbol.iterator]();!(g=(ce=F.next()).done);g=!0){var f=ce.value;f.type==="M"?G.moveTo(f.x,f.y):f.type==="L"?G.lineTo(f.x,f.y):f.type==="C"?G.bezierCurveTo(f.x1,f.y1,f.x2,f.y2,f.x,f.y):f.type==="Q"?G.quadraticCurveTo(f.x1,f.y1,f.x,f.y):f.type==="Z"&&G.closePath()}}catch(E){N=!0,w=E}finally{try{g||F.return==null||F.return()}finally{if(N)throw w}}return j._doStroke&&j._strokeSet&&!j._clipping&&G.stroke(),j._doFill&&!j._clipping&&(j._fillSet||j._setFill(D._DEFAULT_TEXT_FILL),G.fill()),this}},{key:"_textWidth",value:function(Q,M){return this.font.getAdvanceWidth(Q,M)}},{key:"_textAscent",value:function(Q){return this.font.ascender*this._scale(Q)}},{key:"_textDescent",value:function(Q){return-this.font.descender*this._scale(Q)}},{key:"_scale",value:function(Q){return 1/this.font.unitsPerEm*(Q||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(Q,M,k,C,j){var G=Q._textSize;switch(j===void 0&&(j=this._textWidth(M,G)),Q._textAlign){case D.CENTER:k-=j/2;break;case D.RIGHT:k-=j}switch(Q._textBaseline){case D.TOP:C+=this._textAscent(G);break;case D.CENTER:C+=this._textAscent(G)/2;break;case D.BOTTOM:C-=this._textDescent(G)}return{x:k,y:C}}}])&&P(J.prototype,S),A&&P(J,A),B}(),i=I.default,p.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(i,X,p){"use strict";i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.array-buffer.constructor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.array-buffer.constructor"),i("core-js/modules/es.object.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i},i.default.prototype.append=function(o,I){return o.push(I),o},i.default.prototype.arrayCopy=function(o,I,D,c,m){var P,a;o=m!==void 0?(a=Math.min(m,o.length),P=c,o.slice(I,a+I)):(a=D!==void 0?(a=D,Math.min(a,o.length)):o.length,D=I,o.slice(P=0,a)),Array.prototype.splice.apply(D,[P,a].concat(o))},i.default.prototype.concat=function(o,I){return o.concat(I)},i.default.prototype.reverse=function(o){return o.reverse()},i.default.prototype.shorten=function(o){return o.pop(),o},i.default.prototype.shuffle=function(o,I){for(var D,c,m=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(o),P=(o=I||m?o:o.slice()).length;1<P;)D=this.random(0,1)*P|0,c=o[--P],o[P]=o[D],o[D]=c;return o},i.default.prototype.sort=function(o,c){var D=c?o.slice(0,Math.min(c,o.length)):o,c=c?o.slice(Math.min(c,o.length)):[];return(D=typeof D[0]=="string"?D.sort():D.sort(function(m,P){return m-P})).concat(c)},i.default.prototype.splice=function(o,I,D){return Array.prototype.splice.apply(o,[D,0].concat(I)),o},i.default.prototype.subset=function(o,I,D){return D!==void 0?o.slice(I,I+D):o.slice(I,o.length)},i=i.default,p.default=i},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(i,X,p){"use strict";i("core-js/modules/es.array.map"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.repeat"),i("core-js/modules/es.array.map"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.repeat"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};o.default.prototype.float=function(I){return I instanceof Array?I.map(parseFloat):parseFloat(I)},o.default.prototype.int=function(I){var D=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return I===1/0||I==="Infinity"?1/0:I===-1/0||I==="-Infinity"?-1/0:typeof I=="string"?parseInt(I,D):typeof I=="number"?0|I:typeof I=="boolean"?I?1:0:I instanceof Array?I.map(function(c){return o.default.prototype.int(c,D)}):void 0},o.default.prototype.str=function(I){return I instanceof Array?I.map(o.default.prototype.str):String(I)},o.default.prototype.boolean=function(I){return typeof I=="number"?I!==0:typeof I=="string"?I.toLowerCase()==="true":typeof I=="boolean"?I:I instanceof Array?I.map(o.default.prototype.boolean):void 0},o.default.prototype.byte=function(I){return I=o.default.prototype.int(I,10),typeof I=="number"?(I+128)%256-128:I instanceof Array?I.map(o.default.prototype.byte):void 0},o.default.prototype.char=function(I){return typeof I!="number"||isNaN(I)?I instanceof Array?I.map(o.default.prototype.char):typeof I=="string"?o.default.prototype.char(parseInt(I,10)):void 0:String.fromCharCode(I)},o.default.prototype.unchar=function(I){return typeof I=="string"&&I.length===1?I.charCodeAt(0):I instanceof Array?I.map(o.default.prototype.unchar):void 0},o.default.prototype.hex=function(I,D){if(D=D??8,I instanceof Array)return I.map(function(m){return o.default.prototype.hex(m,D)});if(I===1/0||I===-1/0)return(I===1/0?"F":"0").repeat(D);if(typeof I=="number"){I<0&&(I=4294967295+I+1);for(var c=Number(I).toString(16).toUpperCase();c.length<D;)c="0".concat(c);return c=c.length>=D?c.substring(c.length-D,c.length):c}},o.default.prototype.unhex=function(I){return I instanceof Array?I.map(o.default.prototype.unhex):parseInt("0x".concat(I),16)},i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.number.to-fixed"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.pad-start"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.number.to-fixed"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.constructor"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.pad-start"),i("core-js/modules/es.string.replace"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(a=i("../core/main"))&&a.__esModule?a:{default:a};function I(n,r){return function(d){if(Array.isArray(d))return d}(n)||function(d,s){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]"){var t=[],l=!0,$=!1,h=void 0;try{for(var L,U=d[Symbol.iterator]();!(l=(L=U.next()).done)&&(t.push(L.value),!s||t.length!==s);l=!0);}catch(T){$=!0,h=T}finally{try{l||U.return==null||U.return()}finally{if($)throw h}}return t}}(n,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(n,r,d){var t=I(n.toString().split("."),2),s=t[0],t=t[1];return d===void 0?(s=s.padStart(r,"0"),t?s+"."+t:s):(s=(n=I(n.toFixed(d).toString().split("."),2))[0],t=n[1],s=s.padStart(r,"0"),t===void 0?s:s+"."+t)}function c(t,r){var d=(t=t.toString()).indexOf("."),s=d!==-1?t.substring(d):"",t=(t=d!==-1?t.substring(0,d):t).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(r===0)s="";else if(r!==void 0)if(r>s.length)for(var l=r-(s+=d===-1?".":"").length+1,$=0;$<l;$++)s+="0";else s=s.substring(0,r+1);return t+s}function m(n){return 0<parseFloat(n)?"+".concat(n.toString()):n.toString()}function P(n){return 0<=parseFloat(n)?" ".concat(n.toString()):n.toString()}i("../core/friendly_errors/validate_params"),i("../core/friendly_errors/file_errors"),i("../core/friendly_errors/fes_core"),o.default.prototype.join=function(n,r){return o.default._validateParameters("join",arguments),n.join(r)},o.default.prototype.match=function(n,r){return o.default._validateParameters("match",arguments),n.match(r)},o.default.prototype.matchAll=function(n,r){o.default._validateParameters("matchAll",arguments);for(var d=new RegExp(r,"g"),s=d.exec(n),t=[];s!==null;)t.push(s),s=d.exec(n);return t},o.default.prototype.nf=function(n,r,d){return o.default._validateParameters("nf",arguments),n instanceof Array?n.map(function(s){return D(s,r,d)}):Object.prototype.toString.call(n)==="[object Arguments]"?n.length===3?this.nf(n[0],n[1],n[2]):n.length===2?this.nf(n[0],n[1]):this.nf(n[0]):D(n,r,d)},o.default.prototype.nfc=function(n,r){return o.default._validateParameters("nfc",arguments),n instanceof Array?n.map(function(d){return c(d,r)}):c(n,r)},o.default.prototype.nfp=function(){for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];o.default._validateParameters("nfp",r);var s=o.default.prototype.nf.apply(this,r);return s instanceof Array?s.map(m):m(s)},o.default.prototype.nfs=function(){for(var n=arguments.length,r=new Array(n),d=0;d<n;d++)r[d]=arguments[d];o.default._validateParameters("nfs",r);var s=o.default.prototype.nf.apply(this,r);return s instanceof Array?s.map(P):P(s)},o.default.prototype.split=function(n,r){return o.default._validateParameters("split",arguments),n.split(r)},o.default.prototype.splitTokens=function(n,r){var d,s;return o.default._validateParameters("splitTokens",arguments),s=r!==void 0?(s=/\]/g.exec(r=r),(d=/\[/g.exec(r))&&s?(r=r.slice(0,s.index)+r.slice(s.index+1),d=/\[/g.exec(r),r=r.slice(0,d.index)+r.slice(d.index+1),new RegExp("[\\[".concat(r,"\\]]"),"g")):s?(r=r.slice(0,s.index)+r.slice(s.index+1),new RegExp("[".concat(r,"\\]]"),"g")):d?(r=r.slice(0,d.index)+r.slice(d.index+1),new RegExp("[".concat(r,"\\[]"),"g")):new RegExp("[".concat(r,"]"),"g")):/\s/g,n.split(s).filter(function(t){return t})},o.default.prototype.trim=function(n){return o.default._validateParameters("trim",arguments),n instanceof Array?n.map(this.trim):n.trim()};var a=o.default;p.default=a},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i},i.default.prototype.day=function(){return new Date().getDate()},i.default.prototype.hour=function(){return new Date().getHours()},i.default.prototype.minute=function(){return new Date().getMinutes()},i.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},i.default.prototype.month=function(){return new Date().getMonth()+1},i.default.prototype.second=function(){return new Date().getSeconds()},i.default.prototype.year=function(){return new Date().getFullYear()},i=i.default,p.default=i},{"../core/main":283}],326:[function(i,X,p){"use strict";function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}function I(n){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.math.hypot"),i("core-js/modules/es.math.sign"),i("core-js/modules/es.number.to-fixed"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.math.hypot"),i("core-js/modules/es.math.sign"),i("core-js/modules/es.number.to-fixed"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(a=i("../core/main"))&&a.__esModule?a:{default:a},c=(i("./p5.Geometry"),function(n){if(n&&n.__esModule)return n;if(n===null||I(n)!=="object"&&typeof n!="function")return{default:n};var r=m();if(r&&r.has(n))return r.get(n);var d,s={},t=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(d in n){var l;Object.prototype.hasOwnProperty.call(n,d)&&((l=t?Object.getOwnPropertyDescriptor(n,d):null)&&(l.get||l.set)?Object.defineProperty(s,d,l):s[d]=n[d])}return s.default=n,r&&r.set(n,s),s}(i("../core/constants")));function m(){var n;return typeof WeakMap!="function"?null:(n=new WeakMap,m=function(){return n},n)}D.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},D.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},D.default.prototype.buildGeometry=function(n){return this._renderer.buildGeometry(n)},D.default.prototype.freeGeometry=function(n){this._renderer._freeBuffers(n.gid)},D.default.prototype.plane=function(){var n,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=(this._assert3d("plane"),D.default._validateParameters("plane",arguments),"plane|".concat(s,"|").concat(t));return this._renderer.geometryInHash(l)||((n=new D.default.Geometry(s,t,function(){for(var $,h,L=0;L<=this.detailY;L++)for(var U=L/this.detailY,T=0;T<=this.detailX;T++)$=T/this.detailX,h=new D.default.Vector($-.5,U-.5,0),this.vertices.push(h),this.uvs.push($,U)})).computeFaces().computeNormals(),s<=1&&t<=1?n._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(l,n)),this._renderer.drawBuffersScaled(l,r,d,1),this},D.default.prototype.box=function(n,r,d,s,t){this._assert3d("box"),D.default._validateParameters("box",arguments),n===void 0&&(n=50),r===void 0&&(r=n),d===void 0&&(d=r);var l,$=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,$=(t===void 0&&(t=$?1:4),"box|".concat(s=s===void 0?$?1:4:s,"|").concat(t));return this._renderer.geometryInHash($)||((l=new D.default.Geometry(s,t,function(){var h=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(L,U){for(var U=4*U,T=0;T<4;T++){var B=L[T],B=new D.default.Vector((2*(1&B)-1)/2,((2&B)-1)/2,((4&B)/2-1)/2);h.vertices.push(B),h.uvs.push(1&T,(2&T)/2)}h.faces.push([U,1+U,2+U]),h.faces.push([2+U,1+U,3+U])})})).computeNormals(),s<=4&&t<=4?l._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers($,l)),this._renderer.drawBuffersScaled($,n,r,d),this},D.default.prototype.sphere=function(){var n=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,r=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),D.default._validateParameters("sphere",arguments),this.ellipsoid(n,n,n,r,d),this};function P(n,r,d,s,t,l,$){n=n<=0?1:n,r=r<0?0:r,d=d<=0?n:d,s=s<3?3:s;for(var h,L,U=(l=l===void 0||l)?-2:0,T=(t=t<1?1:t)+(($=$===void 0?r!==0:$)?2:0),B=Math.atan2(n-r,d),J=Math.sin(B),S=Math.cos(B),A=U;A<=T;++A){var Q=A/t,M=d*Q,k=void 0,k=A<0?(Q=M=0,n):t<A?(M=d,Q=1,r):n+(r-n)*Q;for(A!==-2&&A!==t+2||(k=0),M-=d/2,h=0;h<s;++h){var C=h/(s-1),G=2*Math.PI*C,j=Math.sin(G),G=Math.cos(G),y=(this.vertices.push(new D.default.Vector(j*k,M,G*k)),void 0),y=A<0?new D.default.Vector(0,-1,0):t<A&&r?new D.default.Vector(0,1,0):new D.default.Vector(j*S,J,G*S);this.vertexNormals.push(y),this.uvs.push(C,Q)}}var g=0;if(l){for(L=0;L<s;++L)this.faces.push([g+L,g+s+(L+1)%s,g+s+L]);g+=2*s}for(A=0;A<t;++A){for(h=0;h<s;++h){var N=(h+1)%s;this.faces.push([g+h,g+N,g+s+N]),this.faces.push([g+h,g+s+N,g+s+h])}g+=s}if($)for(g+=s,h=0;h<s;++h)this.faces.push([g+h,g+(h+1)%s,g+s])}D.default.prototype.cylinder=function(){var n,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],$=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],h=(this._assert3d("cylinder"),D.default._validateParameters("cylinder",arguments),"cylinder|".concat(s,"|").concat(t,"|").concat(l,"|").concat($));return this._renderer.geometryInHash(h)||(n=new D.default.Geometry(s,t),P.call(n,1,1,1,s,t,l,$),s<=24&&t<=16?n._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(h,n)),this._renderer.drawBuffersScaled(h,r,d,r),this},D.default.prototype.cone=function(){var n,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,l=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],$=(this._assert3d("cone"),D.default._validateParameters("cone",arguments),"cone|".concat(s,"|").concat(t,"|").concat(l));return this._renderer.geometryInHash($)||(n=new D.default.Geometry(s,t),P.call(n,1,0,1,s,t,l,!1),s<=24&&t<=16?n._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers($,n)),this._renderer.drawBuffersScaled($,r,d,r),this},D.default.prototype.ellipsoid=function(){var n,r=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,d=1<arguments.length&&arguments[1]!==void 0?arguments[1]:r,s=2<arguments.length&&arguments[2]!==void 0?arguments[2]:r,t=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,l=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,$=(this._assert3d("ellipsoid"),D.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(t,"|").concat(l));return this._renderer.geometryInHash($)||((n=new D.default.Geometry(t,l,function(){for(var h=0;h<=this.detailY;h++)for(var L=h/this.detailY,U=Math.PI*L-Math.PI/2,T=Math.cos(U),B=Math.sin(U),J=0;J<=this.detailX;J++){var S=J/this.detailX,Q=2*Math.PI*S,A=Math.cos(Q),Q=Math.sin(Q),Q=new D.default.Vector(T*Q,B,T*A);this.vertices.push(Q),this.vertexNormals.push(Q),this.uvs.push(S,L)}})).computeFaces(),t<=24&&l<=24?n._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers($,n)),this._renderer.drawBuffersScaled($,r,d,s),this},D.default.prototype.torus=function(n,$,d,s){if(this._assert3d("torus"),D.default._validateParameters("torus",arguments),n===void 0)n=50;else if(!n)return;if($===void 0)$=10;else if(!$)return;d===void 0&&(d=24),s===void 0&&(s=16);var t,l=($/n).toPrecision(4),$="torus|".concat(l,"|").concat(d,"|").concat(s);return this._renderer.geometryInHash($)||((t=new D.default.Geometry(d,s,function(){for(var h=0;h<=this.detailY;h++)for(var L=h/this.detailY,U=2*Math.PI*L,T=Math.cos(U),B=Math.sin(U),J=1+l*T,S=0;S<=this.detailX;S++){var A=S/this.detailX,Q=2*Math.PI*A,k=Math.cos(Q),Q=Math.sin(Q),M=new D.default.Vector(J*k,J*Q,l*B),k=new D.default.Vector(T*k,T*Q,B);this.vertices.push(M),this.vertexNormals.push(k),this.uvs.push(A,L)}})).computeFaces(),d<=24&&s<=16?t._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers($,t)),this._renderer.drawBuffersScaled($,n,n,n),this},D.default.RendererGL.prototype.point=function(n,r){var d=[];return d.push(new D.default.Vector(n,r,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(d,this.immediateMode.buffers.point),this},D.default.RendererGL.prototype.triangle=function($){var r=$[0],d=$[1],s=$[2],t=$[3],l=$[4],$=$[5],h=(this.geometryInHash("tri")||((h=new D.default.Geometry(1,1,function(){var T=[];T.push(new D.default.Vector(0,0,0)),T.push(new D.default.Vector(1,0,0)),T.push(new D.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=T,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),h.computeNormals(),this.createBuffers("tri",h)),this.uModelMatrix.copy());try{var L=Math.sign(r*t-s*d+s*$-l*t+l*d-r*$),U=new D.default.Matrix([s-r,t-d,0,0,l-r,$-d,0,0,0,0,L,0,r,d,0,1]).mult(this.uModelMatrix);this.uModelMatrix=U,this.drawBuffers("tri")}finally{this.uModelMatrix=h}return this},D.default.RendererGL.prototype.ellipse=function(n){this.arc(n[0],n[1],n[2],n[3],0,c.TWO_PI,c.OPEN,n[4])},D.default.RendererGL.prototype.arc=function(){var n,r=arguments.length<=0?void 0:arguments[0],d=arguments.length<=1?void 0:arguments[1],s=arguments.length<=2?void 0:arguments[2],t=arguments.length<=3?void 0:arguments[3],l=arguments.length<=4?void 0:arguments[4],$=arguments.length<=5?void 0:arguments[5],h=arguments.length<=6?void 0:arguments[6],L=(arguments.length<=7?void 0:arguments[7])||25,U=(Math.abs($-l)>=c.TWO_PI?"".concat(T="ellipse","|"):"".concat(T="arc","|").concat(l,"|").concat($,"|").concat(h,"|")).concat(L,"|"),T=(this.geometryInHash(U)||((n=new D.default.Geometry(L,1,function(){if(l.toFixed(10)!==$.toFixed(10)){h!==c.PIE&&h!==void 0||(this.vertices.push(new D.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var B=0;B<=L;B++){var S=($-l)*(B/L)+l,J=.5+Math.cos(S)/2,S=.5+Math.sin(S)/2;this.vertices.push(new D.default.Vector(J,S,0)),this.uvs.push([J,S]),B<L-1&&(this.faces.push([0,B+1,B+2]),this.edges.push([B+1,B+2]))}switch(h){case c.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case c.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case c.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),L<=50?n._edgesToVertices(n):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(T," with more than 50 detail")),this.createBuffers(U,n)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([r,d,0]),this.uModelMatrix.scale(s,t,1),this.drawBuffers(U)}finally{this.uModelMatrix=T}return this},D.default.RendererGL.prototype.rect=function(n){var r=n[0],d=n[1],s=n[2],t=n[3];if(n[4]===void 0){var h=this._pInst._glAttributes.perPixelLighting,l=n[4]||(h?1:24),$=n[5]||(h?1:16),h="rect|".concat(l,"|").concat($),L=(this.geometryInHash(h)||((L=new D.default.Geometry(l,$,function(){for(var y=0;y<=this.detailY;y++)for(var g=y/this.detailY,N=0;N<=this.detailX;N++){var w=N/this.detailX,ce=new D.default.Vector(w,g,0);this.vertices.push(ce),this.uvs.push(w,g)}0<l&&0<$&&(this.edges=[[0,l],[l,(l+1)*($+1)-1],[(l+1)*($+1)-1,(l+1)*$],[(l+1)*$,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(h,L)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([r,d,0]),this.uModelMatrix.scale(s,t,1),this.drawBuffers(h)}finally{this.uModelMatrix=L}}else{var h=n[4],L=n[5]===void 0?h:n[5],U=n[6]===void 0?L:n[6],n=n[7]===void 0?U:n[7],Q=s,T=t,S=((Q+=r)<r&&(S=r,r=Q,Q=S),(T+=d)<d&&(S=d,d=T,T=S),Math.min((Q-r)/2,(T-d)/2)),B=(S<h&&(h=S),S<L&&(L=S),S<U&&(U=S),S<n&&(n=S),r),J=d,S=Q,r=T,A=(this.beginShape(),L!==0?(this.vertex(S-L,J),this.quadraticVertex(S,J,S,J+L)):this.vertex(S,J),U!==0?(this.vertex(S,r-U),this.quadraticVertex(S,r,S-U,r)):this.vertex(S,r),n!==0?(this.vertex(B+n,r),this.quadraticVertex(B,r,B,r-n)):this.vertex(B,r),h!==0?(this.vertex(B,J+h),this.quadraticVertex(B,J,B+h,J)):this.vertex(B,J),!(this.immediateMode.geometry.uvs.length=0)),d=!1,Q=void 0;try{for(var M,k=this.immediateMode.geometry.vertices[Symbol.iterator]();!(A=(M=k.next()).done);A=!0){var C=M.value,j=(C.x-B)/s,G=(C.y-J)/t;this.immediateMode.geometry.uvs.push(j,G)}}catch(F){d=!0,Q=F}finally{try{A||k.return==null||k.return()}finally{if(d)throw Q}}this.endShape(c.CLOSE)}return this},D.default.RendererGL.prototype.quad=function(n,r,d,s,t,l,$,h,L,U,T,B){var J=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,S=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,A="quad|".concat(n,"|").concat(r,"|").concat(d,"|").concat(s,"|").concat(t,"|").concat(l,"|").concat($,"|").concat(h,"|").concat(L,"|").concat(U,"|").concat(T,"|").concat(B,"|").concat(J,"|").concat(S);if(!this.geometryInHash(A)){var Q=new D.default.Geometry(J,S,function(){for(var N=1/(this.detailX-1),w=1/(this.detailY-1),ce=0;ce<this.detailY;ce++)for(var F=0;F<this.detailX;F++){var f=F*N,E=ce*w;this.vertices.push(new D.default.Vector((1-f)*((1-E)*n+E*U)+f*((1-E)*s+E*$),(1-f)*((1-E)*r+E*T)+f*((1-E)*t+E*h),(1-f)*((1-E)*d+E*B)+f*((1-E)*l+E*L))),this.uvs.push([f,E])}});Q.faces=[];for(var M=0;M<S-1;M++)for(var k=0;k<J-1;k++){var C=k+M*J,j=k+1+(M+1)*J,G=k+(M+1)*J;Q.faces.push([C,k+1+M*J,j]),Q.faces.push([C,j,G])}Q.computeNormals();for(var y=[Q.edges.length=0,2,3,1],g=0;g<y.length;g++)Q.edges.push([y[g],y[(g+1)%y.length]]);Q._edgesToVertices(),this.createBuffers(A,Q)}return this.drawBuffers(A),this},D.default.RendererGL.prototype.bezier=function(n,r,d,s,t,l,$,h,L,U,T,B){arguments.length===8&&(T=h,U=$,h=l,$=t,t=s,s=d,d=l=L=B=0);var J=this._pInst._bezierDetail||20;this.beginShape();for(var S=0;S<=J;S++){var A=Math.pow(1-S/J,3),Q=S/J*3*Math.pow(1-S/J,2),M=3*Math.pow(S/J,2)*(1-S/J),k=Math.pow(S/J,3);this.vertex(n*A+s*Q+$*M+U*k,r*A+t*Q+h*M+T*k,d*A+l*Q+L*M+B*k)}return this.endShape(),this},D.default.RendererGL.prototype.curve=function(n,r,d,s,t,l,$,h,L,U,T,B){arguments.length===8&&(U=$,T=h,$=t,h=s,t=s=d,d=l=L=B=0);var J=this._pInst._curveDetail;this.beginShape();for(var S=0;S<=J;S++){var A=.5*Math.pow(S/J,3),Q=.5*Math.pow(S/J,2),M=S/J*.5;this.vertex(A*(3*s-n-3*$+U)+Q*(2*n-5*s+4*$-U)+M*(-n+$)+2*s*.5,A*(3*t-r-3*h+T)+Q*(2*r-5*t+4*h-T)+M*(-r+h)+2*t*.5,A*(3*l-d-3*L+B)+Q*(2*d-5*l+4*L-B)+M*(-d+L)+2*l*.5)}return this.endShape(),this},D.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(c.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},D.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var n,r,d,s,t,l,$=[],h=[],L=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var U=1/this._lutBezierDetail,T=0,B=1,J=0;T<1;){if(l=parseFloat(T.toFixed(6)),this._lookUpTableBezier[J]=this._bezierCoefficients(l),B.toFixed(6)===U.toFixed(6)){l=parseFloat(B.toFixed(6))+parseFloat(T.toFixed(6)),++J,this._lookUpTableBezier[J]=this._bezierCoefficients(l);break}T+=U,B-=U,++J}}for(var S=this._lookUpTableBezier.length,A=[],Q=0;Q<4;Q++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[3]=this.curFillColor.slice();var M=[];for(Q=0;Q<4;Q++)M.push([]);if(M[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),M[3]=this.curStrokeColor.slice(),L===6){this.isBezier=!0;var $=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],h=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],k=Math.hypot($[0]-$[1],h[0]-h[1]),j=Math.hypot($[1]-$[2],h[1]-h[2]),C=Math.hypot($[2]-$[3],h[2]-h[3]),j=k+j+C;for(k/=j,C/=j,t=0;t<4;t++)A[1].push(A[0][t]*(1-k)+A[3][t]*k),A[2].push(A[0][t]*C+A[3][t]*(1-C)),M[1].push(M[0][t]*(1-k)+M[3][t]*k),M[2].push(M[0][t]*C+M[3][t]*(1-C));for(s=0;s<S;s++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],Q=n=r=0;Q<4;Q++){for(t=0;t<4;t++)this.curFillColor[t]+=this._lookUpTableBezier[s][Q]*A[Q][t],this.curStrokeColor[t]+=this._lookUpTableBezier[s][Q]*M[Q][t];n+=$[Q]*this._lookUpTableBezier[s][Q],r+=h[Q]*this._lookUpTableBezier[s][Q]}this.vertex(n,r)}this.curFillColor=A[3],this.curStrokeColor=M[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(L===9){this.isBezier=!0,$=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],h=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var G=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],y=Math.hypot($[0]-$[1],h[0]-h[1],G[0]-G[1]),j=Math.hypot($[1]-$[2],h[1]-h[2],G[1]-G[2]),g=Math.hypot($[2]-$[3],h[2]-h[3],G[2]-G[3]),L=y+j+g;for(y/=L,g/=L,t=0;t<4;t++)A[1].push(A[0][t]*(1-y)+A[3][t]*y),A[2].push(A[0][t]*g+A[3][t]*(1-g)),M[1].push(M[0][t]*(1-y)+M[3][t]*y),M[2].push(M[0][t]*g+M[3][t]*(1-g));for(s=0;s<S;s++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],Q=n=r=d=0;Q<4;Q++){for(t=0;t<4;t++)this.curFillColor[t]+=this._lookUpTableBezier[s][Q]*A[Q][t],this.curStrokeColor[t]+=this._lookUpTableBezier[s][Q]*M[Q][t];n+=$[Q]*this._lookUpTableBezier[s][Q],r+=h[Q]*this._lookUpTableBezier[s][Q],d+=G[Q]*this._lookUpTableBezier[s][Q]}this.vertex(n,r,d)}this.curFillColor=A[3],this.curStrokeColor=M[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},D.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var n,r,d,s,t,l,$=[],h=[],L=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var U=1/this._lutQuadraticDetail,T=0,B=1,J=0;T<1;){if(l=parseFloat(T.toFixed(6)),this._lookUpTableQuadratic[J]=this._quadraticCoefficients(l),B.toFixed(6)===U.toFixed(6)){l=parseFloat(B.toFixed(6))+parseFloat(T.toFixed(6)),++J,this._lookUpTableQuadratic[J]=this._quadraticCoefficients(l);break}T+=U,B-=U,++J}}for(var S=this._lookUpTableQuadratic.length,A=[],Q=0;Q<3;Q++)A.push([]);A[0]=this.immediateMode.geometry.vertexColors.slice(-4),A[2]=this.curFillColor.slice();var M=[];for(Q=0;Q<3;Q++)M.push([]);if(M[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),M[2]=this.curStrokeColor.slice(),L===4){this.isQuadratic=!0;var $=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],h=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],k=Math.hypot($[0]-$[1],h[0]-h[1]);for(k/=k+Math.hypot($[1]-$[2],h[1]-h[2]),t=0;t<4;t++)A[1].push(A[0][t]*(1-k)+A[2][t]*k),M[1].push(M[0][t]*(1-k)+M[2][t]*k);for(s=0;s<S;s++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],Q=n=r=0;Q<3;Q++){for(t=0;t<4;t++)this.curFillColor[t]+=this._lookUpTableQuadratic[s][Q]*A[Q][t],this.curStrokeColor[t]+=this._lookUpTableQuadratic[s][Q]*M[Q][t];n+=$[Q]*this._lookUpTableQuadratic[s][Q],r+=h[Q]*this._lookUpTableQuadratic[s][Q]}this.vertex(n,r)}this.curFillColor=A[2],this.curStrokeColor=M[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(L===6){this.isQuadratic=!0,$=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],h=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var C=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],j=Math.hypot($[0]-$[1],h[0]-h[1],C[0]-C[1]);for(j/=j+Math.hypot($[1]-$[2],h[1]-h[2],C[1]-C[2]),t=0;t<4;t++)A[1].push(A[0][t]*(1-j)+A[2][t]*j),M[1].push(M[0][t]*(1-j)+M[2][t]*j);for(s=0;s<S;s++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],Q=n=r=d=0;Q<3;Q++){for(t=0;t<4;t++)this.curFillColor[t]+=this._lookUpTableQuadratic[s][Q]*A[Q][t],this.curStrokeColor[t]+=this._lookUpTableQuadratic[s][Q]*M[Q][t];n+=$[Q]*this._lookUpTableQuadratic[s][Q],r+=h[Q]*this._lookUpTableQuadratic[s][Q],d+=C[Q]*this._lookUpTableQuadratic[s][Q]}this.vertex(n,r,d)}this.curFillColor=A[2],this.curStrokeColor=M[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},D.default.RendererGL.prototype.curveVertex=function(){var n,r,d,s,t,l,$=[],h=[],L=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var U=1/this._lutBezierDetail,T=0,B=1,J=0;T<1;){if(l=parseFloat(T.toFixed(6)),this._lookUpTableBezier[J]=this._bezierCoefficients(l),B.toFixed(6)===U.toFixed(6)){l=parseFloat(B.toFixed(6))+parseFloat(T.toFixed(6)),++J,this._lookUpTableBezier[J]=this._bezierCoefficients(l);break}T+=U,B-=U,++J}}var S=this._lookUpTableBezier.length;if(L===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,$=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),t=0;t<S;t++)r=$[0]*this._lookUpTableBezier[t][0]+$[1]*this._lookUpTableBezier[t][1]+$[2]*this._lookUpTableBezier[t][2]+$[3]*this._lookUpTableBezier[t][3],d=h[0]*this._lookUpTableBezier[t][0]+h[1]*this._lookUpTableBezier[t][1]+h[2]*this._lookUpTableBezier[t][2]+h[3]*this._lookUpTableBezier[t][3],this.vertex(r,d);for(t=0;t<L;t++)this.immediateMode._curveVertex.shift()}}else if(L===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,$=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),h=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),n=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),t=0;t<S;t++)r=$[0]*this._lookUpTableBezier[t][0]+$[1]*this._lookUpTableBezier[t][1]+$[2]*this._lookUpTableBezier[t][2]+$[3]*this._lookUpTableBezier[t][3],d=h[0]*this._lookUpTableBezier[t][0]+h[1]*this._lookUpTableBezier[t][1]+h[2]*this._lookUpTableBezier[t][2]+h[3]*this._lookUpTableBezier[t][3],s=n[0]*this._lookUpTableBezier[t][0]+n[1]*this._lookUpTableBezier[t][1]+n[2]*this._lookUpTableBezier[t][2]+n[3]*this._lookUpTableBezier[t][3],this.vertex(r,d,s);for(t=0;t<L;t++)this.immediateMode._curveVertex.shift()}},D.default.RendererGL.prototype.image=function(n,B,d,J,t,l,$,h,L){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(n),this._pInst.textureMode(c.NORMAL);var U=0,T=(B<=n.width&&(U=B/n.width),1),B=(B+J<=n.width&&(T=(B+J)/n.width),0),J=(d<=n.height&&(B=d/n.height),1);d+t<=n.height&&(J=(d+t)/n.height),this.beginShape(),this.vertex(l,$,0,U,B),this.vertex(l+h,$,0,T,B),this.vertex(l+h,$+L,0,T,J),this.vertex(l,$+L,0,U,J),this.endShape(c.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(c.REMOVE)};var a=D.default;p.default=a},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(i,X,p){"use strict";function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(r)}function I(r){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(d){return o(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":o(d)})(r)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.every"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.every"),i("core-js/modules/es.array.map"),i("core-js/modules/es.object.assign"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(n=i("../core/main"))&&n.__esModule?n:{default:n},c=function(r){if(r&&r.__esModule)return r;if(r===null||I(r)!=="object"&&typeof r!="function")return{default:r};var d=m();if(d&&d.has(r))return d.get(r);var s,t={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in r){var $;Object.prototype.hasOwnProperty.call(r,s)&&(($=l?Object.getOwnPropertyDescriptor(r,s):null)&&($.get||$.set)?Object.defineProperty(t,s,$):t[s]=r[s])}return t.default=r,d&&d.set(r,t),t}(i("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=function(){return r},r)}function P(r){return function(d){if(Array.isArray(d)){for(var s=0,t=new Array(d.length);s<d.length;s++)t[s]=d[s];return t}}(r)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(r,d){for(var s=0;s<d.length;s++){var t=d[s];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}var n=function(){function r(l){if(!(this instanceof r))throw new TypeError("Cannot call a class as a function");(this.renderer=l)._pInst.push(),this.identityMatrix=new D.default.Matrix,l.uModelMatrix=new D.default.Matrix,this.geometry=new D.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(r.nextGeometryId),r.nextGeometryId++,this.hasTransform=!1}var d,s,t;return d=r,(s=[{key:"transformVertices",value:function(l){var $=this;return this.hasTransform?l.map(function(h){return $.renderer.uModelMatrix.multiplyPoint(h)}):l}},{key:"transformNormals",value:function(l){var $=this;return this.hasTransform?l.map(function(h){return $.renderer.uNMatrix.multiplyVec3(h)}):l}},{key:"addGeometry",value:function(l){for(var $,h=this,L=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(T,B){return T===h.identityMatrix.mat4[B]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),U=(($=this.geometry.vertices).push.apply($,P(this.transformVertices(l.vertices))),($=this.geometry.vertexNormals).push.apply($,P(this.transformNormals(l.vertexNormals))),($=this.geometry.uvs).push.apply($,P(l.uvs)),this.renderer._doFill&&($=this.geometry.faces).push.apply($,P(l.faces.map(function(T){return T.map(function(B){return B+L})}))),this.renderer._doStroke&&($=this.geometry.edges).push.apply($,P(l.edges.map(function(T){return T.map(function(B){return B+L})}))),P(l.vertexColors));U.length<4*l.vertices.length;)U.push.apply(U,P(this.renderer.curFillColor));($=this.geometry.vertexColors).push.apply($,P(U))}},{key:"addImmediate",value:function(){var l=this.renderer.immediateMode.geometry,$=this.renderer.immediateMode.shapeMode,h=[];if(this.renderer._doFill)if($===c.TRIANGLE_STRIP||$===c.QUAD_STRIP)for(var L=2;L<l.vertices.length;L++)L%2==0?h.push([L,L-1,L-2]):h.push([L,L-2,L-1]);else if($===c.TRIANGLE_FAN)for(var U=2;U<l.vertices.length;U++)h.push([0,U-1,U]);else for(var T=0;T<l.vertices.length;T+=3)h.push([T,T+1,T+2]);this.addGeometry(Object.assign({},l,{faces:h}))}},{key:"addRetained",value:function(l){this.addGeometry(l.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&a(d.prototype,s),t&&a(d,t),r}();n.nextGeometryId=0,p.default=n},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(i,X,p){"use strict";function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(a)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.math.hypot"),i("core-js/modules/es.math.sign"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.math.hypot"),i("core-js/modules/es.math.sign"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var I=(P=i("../core/main"))&&P.__esModule?P:{default:P},D=function(a){if(a&&a.__esModule)return a;if(a===null||m(a)!=="object"&&typeof a!="function")return{default:a};var n=c();if(n&&n.has(a))return n.get(a);var r,d={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in a){var t;Object.prototype.hasOwnProperty.call(a,r)&&((t=s?Object.getOwnPropertyDescriptor(a,r):null)&&(t.get||t.set)?Object.defineProperty(d,r,t):d[r]=a[r])}return d.default=a,n&&n.set(a,d),d}(i("../core/constants"));function c(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,c=function(){return a},a)}function m(a){return(m=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(n){return o(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":o(n)})(a)}I.default.prototype.orbitControl=function(a,n,r,L){var s=this,t=(this._assert3d("orbitControl"),I.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);a===void 0&&(a=1),n===void 0&&(n=a),r===void 0&&(r=1),m(L)!=="object"&&(L={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var T=L.disableTouchActions;this.touchActionsDisabled===!0||T!==void 0&&!T||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var l,$,h,T=L.freeRotation,L=T!==void 0&&T,U=[],T=(this.touches.forEach(function(k){s._renderer.prevTouches.forEach(function(C){k.id===C.id&&(C={x:k.x,y:k.y,px:C.x,py:C.y},U.push(C))})}),this._renderer.prevTouches=this.touches,0),B=0,J=0,S=0,A=0,Q=this.height<this.width?this.height:this.width,M=!1;return 0<U.length?(M=0<U[0].x&&U[0].x<this.width&&0<U[0].y&&U[0].y<this.height,U.length===1?(B=-a*((l=U[0]).x-l.px)/Q,J=n*(l.y-l.py)/Q):(l=U[0],$=U[1],T=-(Math.hypot(l.x-$.x,l.y-$.y)-Math.hypot(l.px-$.px,l.py-$.py))*r*4e-4,S=.5*(l.x+$.x)-.5*(l.px+$.px),A=.5*(l.y+$.y)-.5*(l.py+$.py)),0<this.touches.length?M&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(M=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(T=Math.sign(this._mouseWheelDeltaY)*r,T*=.01,this._mouseWheelDeltaY=0,M&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(B=-a*this.movedX/Q,J=n*this.movedY/Q):this.mouseButton===this.RIGHT&&(S=this.movedX,A=this.movedY*t.yScale),M&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),T!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=T),.001<Math.abs(this._renderer.zoomVelocity)?(L?t._orbitFree(0,0,this._renderer.zoomVelocity):t._orbit(0,0,this._renderer.zoomVelocity),t.projMatrix.mat4[15]!==0&&(t.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),t.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=t.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=t.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,B===0&&J===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*B,.6*J),1e-6<this._renderer.rotateVelocity.magSq()?(L?t._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):t._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),S===0&&A===0||!this._renderer.executeRotateAndMove||(l=2*S/this.width,$=2*-A/this.height,this._renderer.moveVelocity.add(.15*l,.15*$)),1e-6<this._renderer.moveVelocity.magSq()?(r=t._getLocalAxes(),a=t.eyeX-t.centerX,n=t.eyeY-t.centerY,Q=t.eyeZ-t.centerZ,M=Math.sqrt(a*a+n*n+Q*Q),T=new I.default.Vector(t.centerX,t.centerY,t.centerZ),T=t.cameraMatrix.multiplyPoint(T),(T=this._renderer.uPMatrix.multiplyAndNormalizePoint(T)).x-=this._renderer.moveVelocity.x,T.y-=this._renderer.moveVelocity.y,J=(B=this._renderer.uPMatrix.mat4)[15]===0?(h=(B[8]+T.x)/B[0]*M,(B[9]+T.y)/B[5]*M):(h=(T.x-B[12])/B[0],(T.y-B[13])/B[5]),t.setPosition(t.eyeX+h*r.x[0]+J*r.y[0],t.eyeY+h*r.x[1]+J*r.y[1],t.eyeZ+h*r.x[2]+J*r.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},I.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];I.default._validateParameters("debugMode",n);for(var d=this._registeredMethods.post.length-1;0<=d;d--)this._registeredMethods.post[d].toString()!==this._grid().toString()&&this._registeredMethods.post[d].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(d,1);n[0]===D.GRID?this.registerMethod("post",this._grid(n[1],n[2],n[3],n[4],n[5])):n[0]===D.AXES?this.registerMethod("post",this._axesIcon(n[1],n[2],n[3],n[4])):(this.registerMethod("post",this._grid(n[0],n[1],n[2],n[3],n[4])),this.registerMethod("post",this._axesIcon(n[5],n[6],n[7],n[8])))},I.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var a=this._registeredMethods.post.length-1;0<=a;a--)this._registeredMethods.post[a].toString()!==this._grid().toString()&&this._registeredMethods.post[a].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(a,1)},I.default.prototype._grid=function(a,n,r,d,s){a===void 0&&(a=this.width/2),n===void 0&&(n=Math.round(a/30)<4?4:Math.round(a/30)),r===void 0&&(r=0),d===void 0&&(d=0),s===void 0&&(s=0);var t=a/n,l=a/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var $=0;$<=n;$++)this.beginShape(this.LINES),this.vertex(-l+r,d,$*t-l+s),this.vertex(l+r,d,$*t-l+s),this.endShape();for(var h=0;h<=n;h++)this.beginShape(this.LINES),this.vertex(h*t-l+r,d,-l+s),this.vertex(h*t-l+r,d,l+s),this.endShape();this.pop()}},I.default.prototype._axesIcon=function(a,n,r,d){return a===void 0&&(a=40<this.width/20?this.width/20:40),n===void 0&&(n=-this.width/4),r===void 0&&(r=n),d===void 0&&(d=n),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(n,r,d),this.vertex(n+a,r,d),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(n,r,d),this.vertex(n,r+a,d),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(n,r,d),this.vertex(n,r,d+a),this.endShape(),this.pop()}};var P=I.default;p.default=P},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(i,X,p){"use strict";i("core-js/modules/es.array.filter"),i("core-js/modules/es.array.filter"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};o.default.prototype.ambientLight=function(I,D,c,m){this._assert3d("ambientLight"),o.default._validateParameters("ambientLight",arguments);var P=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(P._array[0],P._array[1],P._array[2]),this._renderer._enableLighting=!0,this},o.default.prototype.specularColor=function(I,D,c){this._assert3d("specularColor"),o.default._validateParameters("specularColor",arguments);var m=this.color.apply(this,arguments);return this._renderer.specularColors=[m._array[0],m._array[1],m._array[2]],this},o.default.prototype.directionalLight=function(I,s,d,m,P,a){this._assert3d("directionalLight"),o.default._validateParameters("directionalLight",arguments),I=I instanceof o.default.Color?I:this.color(I,s,d);var n,r,s=arguments[arguments.length-1],d=typeof s=="number"?(n=arguments[arguments.length-3],r=arguments[arguments.length-2],arguments[arguments.length-1]):(n=s.x,r=s.y,s.z),s=Math.sqrt(n*n+r*r+d*d);return this._renderer.directionalLightDirections.push(n/s,r/s,d/s),this._renderer.directionalLightDiffuseColors.push(I._array[0],I._array[1],I._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.pointLight=function(I,d,s,m,P,a){this._assert3d("pointLight"),o.default._validateParameters("pointLight",arguments),I=I instanceof o.default.Color?I:this.color(I,d,s);var n,r,d=arguments[arguments.length-1],s=typeof d=="number"?(n=arguments[arguments.length-3],r=arguments[arguments.length-2],arguments[arguments.length-1]):(n=d.x,r=d.y,d.z);return this._renderer.pointLightPositions.push(n,r,s),this._renderer.pointLightDiffuseColors.push(I._array[0],I._array[1],I._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.imageLight=function(I){this._renderer.activeImageLight=I,this._renderer._enableLighting=!0},o.default.prototype.panorama=function(I){this.filter(this._renderer._getSphereMapping(I))},o.default.prototype.lights=function(){this._assert3d("lights");var I=this.color("rgb(128,128,128)");return this.ambientLight(I),this.directionalLight(I,0,0,-1),this},o.default.prototype.lightFalloff=function(I,D,c){return this._assert3d("lightFalloff"),o.default._validateParameters("lightFalloff",arguments),I<0&&(I=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),D<0&&(D=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),I===0&&D===0&&c===0&&(I=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=I,this._renderer.linearAttenuation=D,this._renderer.quadraticAttenuation=c,this},o.default.prototype.spotLight=function(I,D,c,m,P,a,n,r,d,s,t){this._assert3d("spotLight"),o.default._validateParameters("spotLight",arguments);var l,$,h,L=arguments.length;switch(L){case 11:case 10:l=this.color(I,D,c),$=new o.default.Vector(m,P,a),h=new o.default.Vector(n,r,d);break;case 9:I instanceof o.default.Color?(l=I,$=new o.default.Vector(D,c,m),h=new o.default.Vector(P,a,n),s=r,t=d):m instanceof o.default.Vector?(l=this.color(I,D,c),$=m,h=new o.default.Vector(P,a,n),s=r,t=d):n instanceof o.default.Vector?(l=this.color(I,D,c),$=new o.default.Vector(m,P,a),h=n,s=r,t=d):(l=this.color(I,D,c),$=new o.default.Vector(m,P,a),h=new o.default.Vector(n,r,d));break;case 8:s=(h=I instanceof o.default.Color?(l=I,$=new o.default.Vector(D,c,m),new o.default.Vector(P,a,n)):m instanceof o.default.Vector?(l=this.color(I,D,c),$=m,new o.default.Vector(P,a,n)):(l=this.color(I,D,c),$=new o.default.Vector(m,P,a),n),r);break;case 7:I instanceof o.default.Color&&D instanceof o.default.Vector?(l=I,$=D,h=new o.default.Vector(c,m,P),s=a,t=n):I instanceof o.default.Color&&P instanceof o.default.Vector?(l=I,$=new o.default.Vector(D,c,m),h=P,s=a,t=n):m instanceof o.default.Vector&&P instanceof o.default.Vector?(l=this.color(I,D,c),$=m,h=P,s=a,t=n):h=I instanceof o.default.Color?(l=I,$=new o.default.Vector(D,c,m),new o.default.Vector(P,a,n)):m instanceof o.default.Vector?(l=this.color(I,D,c),$=m,new o.default.Vector(P,a,n)):(l=this.color(I,D,c),$=new o.default.Vector(m,P,a),n);break;case 6:m instanceof o.default.Vector&&P instanceof o.default.Vector?(l=this.color(I,D,c),$=m,h=P,s=a):I instanceof o.default.Color&&P instanceof o.default.Vector?(l=I,$=new o.default.Vector(D,c,m),h=P,s=a):I instanceof o.default.Color&&D instanceof o.default.Vector&&(l=I,$=D,h=new o.default.Vector(c,m,P),s=a);break;case 5:I instanceof o.default.Color&&D instanceof o.default.Vector&&c instanceof o.default.Vector?(l=I,$=D,h=c,s=m,t=P):m instanceof o.default.Vector&&P instanceof o.default.Vector?(l=this.color(I,D,c),$=m,h=P):I instanceof o.default.Color&&P instanceof o.default.Vector?(l=I,$=new o.default.Vector(D,c,m),h=P):I instanceof o.default.Color&&D instanceof o.default.Vector&&(l=I,$=D,h=new o.default.Vector(c,m,P));break;case 4:l=I,$=D,h=c,s=m;break;case 3:l=I,$=D,h=c;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(L<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(l._array[0],l._array[1],l._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push($.x,$.y,$.z),h.normalize(),this._renderer.spotLightDirections.push(h.x,h.y,h.z),s===void 0&&(s=Math.PI/3),t!==void 0&&t<1?(t=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):t===void 0&&(t=100),s=this._renderer._pInst._toRadians(s),this._renderer.spotLightAngle.push(Math.cos(s)),this._renderer.spotLightConc.push(t),this._renderer._enableLighting=!0,this},o.default.prototype.noLights=function(){this._assert3d("noLights");for(var I=arguments.length,D=new Array(I),c=0;c<I;c++)D[c]=arguments[c];return o.default._validateParameters("noLights",D),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},i=o.default,p.default=i},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(i,X,p){"use strict";function o(n){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r})(n)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.set"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.splice"),i("core-js/modules/es.object.assign"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.promise"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.set"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.match"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.trim"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i("regenerator-runtime/runtime");var I=(a=i("../core/main"))&&a.__esModule?a:{default:a};function D(n){return function(r){if(Array.isArray(r)){for(var d=0,s=new Array(r.length);d<r.length;d++)s[d]=r[d];return s}}(n)||function(r){if(Symbol.iterator in Object(r)||Object.prototype.toString.call(r)==="[object Arguments]")return Array.from(r)}(n)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(n,r,d,s,t,l,$){try{var h=n[l]($),L=h.value}catch(U){return void d(U)}h.done?r(L):Promise.resolve(L).then(s,t)}function m(n){return function(){var r=this,d=arguments;return new Promise(function(s,t){var l=n.apply(r,d);function $(L){c(l,s,t,$,h,"next",L)}function h(L){c(l,s,t,$,h,"throw",L)}$(void 0)})}}function P(n){return(P=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(r){return o(r)}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":o(r)})(n)}i("./p5.Geometry"),I.default.prototype.loadModel=function(n,r){I.default._validateParameters("loadModel",arguments);var d,s,t=!1,l=!1,$=!1,h=n.slice(-4),L=(r&&P(r)==="object"?(t=r.normalize||!1,d=r.successCallback,s=r.failureCallback,h=r.fileType||h,l=r.flipU||!1,$=r.flipV||!1):typeof r=="boolean"?(t=r,d=arguments[2],s=arguments[3],arguments[4]!==void 0&&(h=arguments[4])):(d=typeof r=="function"?r:void 0,s=arguments[2],arguments[3]!==void 0&&(h=arguments[3])),new I.default.Geometry),U=(L.gid="".concat(n,"|").concat(t),this);function T(){return(T=m(regeneratorRuntime.mark(function J(S){var A,Q,M,k;return regeneratorRuntime.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:for(A=[],Q=0;Q<S.length;Q++)(M=S[Q].match(/^mtllib (.+)/))&&function(){var j="",G=M[1],y=n.split("/");j=1<y.length?(y.pop(),y.join("/")+"/"+G):G,A.push(function(){return B.apply(this,arguments)}(j).then(function(g){return g?(N=U,w=j,new Promise(function(ce,F){var f=null,E={};N.loadStrings(w,function(Z){for(var W=0;W<Z.length;++W){var ee,De=Z[W].trim().split(/\s+/);De[0]==="newmtl"?(ee=De[1],E[f=ee]={}):De[0]==="Kd"?E[f].diffuseColor=[parseFloat(De[1]),parseFloat(De[2]),parseFloat(De[3])]:De[0]==="Ka"?E[f].ambientColor=[parseFloat(De[1]),parseFloat(De[2]),parseFloat(De[3])]:De[0]==="Ks"?E[f].specularColor=[parseFloat(De[1]),parseFloat(De[2]),parseFloat(De[3])]:De[0]==="map_Kd"&&(E[f].texturePath=De[1])}ce(E)},F)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(j)),{});var N,w}).catch(function(g){return console.warn("Error loading MTL file: ".concat(j),g),{}}))}();return C.prev=2,C.next=5,Promise.all(A);case 5:return k=C.sent,k=Object.assign.apply(Object,[{}].concat(D(k))),C.abrupt("return",k);case 10:return C.prev=10,C.t0=C.catch(2),C.abrupt("return",{});case 13:case"end":return C.stop()}},J,null,[[2,10]])}))).apply(this,arguments)}function B(){return(B=m(regeneratorRuntime.mark(function J(S){var A;return regeneratorRuntime.wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.prev=0,Q.next=3,fetch(S,{method:"HEAD"});case 3:return A=Q.sent,Q.abrupt("return",A.ok);case 7:return Q.prev=7,Q.t0=Q.catch(0),Q.abrupt("return",!1);case 10:case"end":return Q.stop()}},J,null,[[0,7]])}))).apply(this,arguments)}return h.match(/\.stl$/i)?this.httpDo(n,"GET","arrayBuffer",function(J){(function(S,A){if(function(Q){for(var M=new DataView(Q),k=[115,111,108,105,100],C=0;C<5;C++)if(function(j,G,y){for(var g=0,N=j.length;g<N;g++)if(j[g]!==G.getUint8(y+g,!1))return;return 1}(k,M,C))return;return 1}(A))(function(Q,M){for(var k,C,j,G,y,g,N,w=new DataView(M),ce=w.getUint32(80,!0),F=!1,f=0;f<70;f++)w.getUint32(f,!1)===1129270351&&w.getUint8(f+4)===82&&w.getUint8(f+5)===61&&(F=!0,G=[],y=w.getUint8(f+6)/255,g=w.getUint8(f+7)/255,N=w.getUint8(f+8)/255);for(var E=0;E<ce;E++){for(var Z,W=84+50*E,ee=w.getFloat32(W,!0),De=w.getFloat32(4+W,!0),$e=w.getFloat32(8+W,!0),te=(F&&(Z=w.getUint16(48+W,!0),j=32768&Z?(k=y,C=g,N):(k=(31&Z)/31,C=(Z>>5&31)/31,(Z>>10&31)/31)),new I.default.Vector(ee,De,$e)),de=1;de<=3;de++){var ne=W+12*de,ne=new I.default.Vector(w.getFloat32(ne,!0),w.getFloat32(4+ne,!0),w.getFloat32(8+ne,!0));Q.vertices.push(ne),Q.vertexNormals.push(te),F&&G.push(k,C,j)}Q.faces.push([3*E,3*E+1,3*E+2]),Q.uvs.push([0,0],[0,0],[0,0])}})(S,A);else{if(A=new DataView(A),!("TextDecoder"in window))return console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)");A=new TextDecoder("utf-8").decode(A).split(`
`),function(Q,M){for(var k,C,j="",G=[],y=0;y<M.length;++y){for(var g=M[y].trim(),N=g.split(" "),w=0;w<N.length;++w)N[w]===""&&N.splice(w,1);if(N.length!==0)switch(j){case"":if(N[0]!=="solid")return console.error(g),console.error('Invalid state "'.concat(N[0],'", should be "solid"'));j="solid";break;case"solid":if(N[0]!=="facet"||N[1]!=="normal")return console.error(g),console.error('Invalid state "'.concat(N[0],'", should be "facet normal"'));k=new I.default.Vector(parseFloat(N[2]),parseFloat(N[3]),parseFloat(N[4])),Q.vertexNormals.push(k,k,k),j="facet normal";break;case"facet normal":if(N[0]!=="outer"||N[1]!=="loop")return console.error(g),console.error('Invalid state "'.concat(N[0],'", should be "outer loop"'));j="vertex";break;case"vertex":if(N[0]==="vertex")C=new I.default.Vector(parseFloat(N[1]),parseFloat(N[2]),parseFloat(N[3])),Q.vertices.push(C),Q.uvs.push([0,0]),G.push(Q.vertices.indexOf(C));else{if(N[0]!=="endloop")return console.error(g),console.error('Invalid state "'.concat(N[0],'", should be "vertex" or "endloop"'));Q.faces.push(G),G=[],j="endloop"}break;case"endloop":if(N[0]!=="endfacet")return console.error(g),console.error('Invalid state "'.concat(N[0],'", should be "endfacet"'));j="endfacet";break;case"endfacet":if(N[0]!=="endsolid"){if(N[0]!=="facet"||N[1]!=="normal")return console.error(g),console.error('Invalid state "'.concat(N[0],'", should be "endsolid" or "facet normal"'));k=new I.default.Vector(parseFloat(N[2]),parseFloat(N[3]),parseFloat(N[4])),Q.vertexNormals.push(k,k,k),j="facet normal"}break;default:console.error('Invalid state "'.concat(j,'"'))}}}(S,A)}})(L,J),t&&L.normalize(),l&&L.flipU(),$&&L.flipV(),U._decrementPreload(),typeof d=="function"&&d(L)},s):h.match(/\.obj$/i)?this.loadStrings(n,function(){var J=m(regeneratorRuntime.mark(function S(A){var Q;return regeneratorRuntime.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.prev=0,M.next=3,function(){return T.apply(this,arguments)}(A);case 3:Q=M.sent,function(k,C){for(var j=2<arguments.length&&arguments[2]!==void 0?arguments[2]:{},G={v:[],vt:[],vn:[]},y={},g=null,N=new Set,w=!1,ce=!1,F=0;F<C.length;++F){var f=C[F].trim().split(/\b\s+/);if(0<f.length){if(f[0]==="usemtl")g=f[1];else if(f[0]==="v"||f[0]==="vn"){var E=new I.default.Vector(parseFloat(f[1]),parseFloat(f[2]),parseFloat(f[3]));G[f[0]].push(E)}else if(f[0]==="vt")E=[parseFloat(f[1]),1-parseFloat(f[2])],G[f[0]].push(E);else if(f[0]==="f")for(var Z=3;Z<f.length;++Z){for(var W=[],ee=[1,Z-1,Z],De=0;De<ee.length;++De){for(var $e,te=f[ee[De]],de=te.split("/"),ne=0;ne<de.length;ne++)de[ne]=parseInt(de[ne])-1;y[te]||(y[te]={}),y[te][g]===void 0?($e=k.vertices.length,k.vertices.push(G.v[de[0]].copy()),k.uvs.push(G.vt[de[1]]?G.vt[de[1]].slice():[0,0]),k.vertexNormals.push(G.vn[de[2]]?G.vn[de[2]].copy():new I.default.Vector),y[te][g]=$e,W.push($e),g&&j[g]&&j[g].diffuseColor&&N.add(G.v[de[0]])):W.push(y[te][g])}if(W[0]!==W[1]&&W[0]!==W[2]&&W[1]!==W[2])if(k.faces.push(W),g&&j[g]&&j[g].diffuseColor){w=w=!0;for(var z=j[g].diffuseColor,oe=0;oe<W.length;oe++)k.vertexColors.push(z[0]),k.vertexColors.push(z[1]),k.vertexColors.push(z[2])}else ce=!0}}}if(k.vertexNormals.length===0&&k.computeNormals(),w===ce)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}(L,A,Q),M.next=11;break;case 7:return M.prev=7,M.t0=M.catch(0),s?s(M.t0):I.default._friendlyError("Error during parsing: "+M.t0.message),M.abrupt("return");case 11:return M.prev=11,t&&L.normalize(),l&&L.flipU(),$&&L.flipV(),U._decrementPreload(),typeof d=="function"&&d(L),M.finish(11);case 18:case"end":return M.stop()}},S,null,[[0,7,11,18]])}));return function(S){return J.apply(this,arguments)}}(),s):(I.default._friendlyFileLoadError(3,n),s?s():I.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),L},I.default.prototype.model=function(n){this._assert3d("model"),I.default._validateParameters("model",arguments),0<n.vertices.length&&(this._renderer.geometryInHash(n.gid)||(n.edges.length===0&&n._makeTriangleEdges(),n._edgesToVertices(),this._renderer.createBuffers(n.gid,n)),this._renderer.drawBuffers(n.gid))};var a=I.default;p.default=a},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(i,X,p){"use strict";function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(a)}function I(a){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(n){return o(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":o(n)})(a)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.includes"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.join"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.includes"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(P=i("../core/main"))&&P.__esModule?P:{default:P},c=function(a){if(a&&a.__esModule)return a;if(a===null||I(a)!=="object"&&typeof a!="function")return{default:a};var n=m();if(n&&n.has(a))return n.get(a);var r,d={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in a){var t;Object.prototype.hasOwnProperty.call(a,r)&&((t=s?Object.getOwnPropertyDescriptor(a,r):null)&&(t.get||t.set)?Object.defineProperty(d,r,t):d[r]=a[r])}return d.default=a,n&&n.set(a,d),d}(i("../core/constants"));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}i("./p5.Texture"),D.default.prototype.loadShader=function(a,n,r,d){D.default._validateParameters("loadShader",arguments),d=d||console.error;function s(){l._decrementPreload(),r&&r(t)}var t=new D.default.Shader,l=this,$=!1,h=!1;return this.loadStrings(a,function(L){t._vertSrc=L.join(`
`),h=!0,$&&s()},d),this.loadStrings(n,function(L){t._fragSrc=L.join(`
`),$=!0,h&&s()},d),t},D.default.prototype.createShader=function(a,n){return D.default._validateParameters("createShader",arguments),new D.default.Shader(this._renderer,a,n)},D.default.prototype.createFilterShader=function(a){D.default._validateParameters("createFilterShader",arguments);var n=a.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,n=new D.default.Shader(this._renderer,n,a);return this._renderer.GL?n.ensureCompiledOnContext(this):n.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),n},D.default.prototype.shader=function(a){return this._assert3d("shader"),D.default._validateParameters("shader",arguments),a.ensureCompiledOnContext(this),a.isStrokeShader()?this._renderer.userStrokeShader=a:(this._renderer.userFillShader=a,this._renderer._useNormalMaterial=!1),this},D.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},D.default.prototype.texture=function(a){return this._assert3d("texture"),D.default._validateParameters("texture",arguments),a.gifProperties&&a._animateGif(this),this._renderer.drawMode=c.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=a,this._renderer._setProperty("_doFill",!0),this},D.default.prototype.textureMode=function(a){a!==c.IMAGE&&a!==c.NORMAL?console.warn("You tried to set ".concat(a," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=a},D.default.prototype.textureWrap=function(a){var n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:a,r=(this._renderer.textureWrapX=a,this._renderer.textureWrapY=n,!0),d=!1,s=void 0;try{for(var t,l=this._renderer.textures.values()[Symbol.iterator]();!(r=(t=l.next()).done);r=!0)t.value.setWrapMode(a,n)}catch($){d=!0,s=$}finally{try{r||l.return==null||l.return()}finally{if(d)throw s}}},D.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var a=arguments.length,n=new Array(a),r=0;r<a;r++)n[r]=arguments[r];return D.default._validateParameters("normalMaterial",n),this._renderer.drawMode=c.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},D.default.prototype.ambientMaterial=function(a,n,r){this._assert3d("ambientMaterial"),D.default._validateParameters("ambientMaterial",arguments);var d=D.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=d._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},D.default.prototype.emissiveMaterial=function(a,n,r,d){this._assert3d("emissiveMaterial"),D.default._validateParameters("emissiveMaterial",arguments);var s=D.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=s._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},D.default.prototype.specularMaterial=function(a,n,r,d){this._assert3d("specularMaterial"),D.default._validateParameters("specularMaterial",arguments);var s=D.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=s._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},D.default.prototype.shininess=function(a){return this._assert3d("shininess"),D.default._validateParameters("shininess",arguments),this._renderer._useShininess=a=a<1?1:a,this},D.default.prototype.metalness=function(a){return this._assert3d("metalness"),a=1-Math.exp(-a/100),this._renderer._useMetalness=a,this},D.default.RendererGL.prototype._applyColorBlend=function(a,s){var r=this.GL,d=this.drawMode===c.TEXTURE,s=s||this.userFillShader||this.userStrokeShader||this.userPointShader||d||this.curBlendMode!==c.BLEND||a[a.length-1]<1||this._isErasing;return s!==this._isBlending&&(s||this.curBlendMode!==c.BLEND&&this.curBlendMode!==c.ADD?r.enable(r.BLEND):r.disable(r.BLEND),r.depthMask(!0),this._isBlending=s),this._applyBlendMode(),a},D.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var a=this.GL;switch(this.curBlendMode){case c.BLEND:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case c.ADD:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE);break;case c.REMOVE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ZERO,a.ONE_MINUS_SRC_ALPHA);break;case c.MULTIPLY:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.DST_COLOR,a.ONE_MINUS_SRC_ALPHA);break;case c.SCREEN:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ONE_MINUS_SRC_COLOR);break;case c.EXCLUSION:a.blendEquationSeparate(a.FUNC_ADD,a.FUNC_ADD),a.blendFuncSeparate(a.ONE_MINUS_DST_COLOR,a.ONE_MINUS_SRC_COLOR,a.ONE,a.ONE);break;case c.REPLACE:a.blendEquation(a.FUNC_ADD),a.blendFunc(a.ONE,a.ZERO);break;case c.SUBTRACT:a.blendEquationSeparate(a.FUNC_REVERSE_SUBTRACT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE_MINUS_SRC_ALPHA);break;case c.DARKEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case c.LIGHTEST:this.blendExt?(a.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,a.FUNC_ADD),a.blendFuncSeparate(a.ONE,a.ONE,a.ONE,a.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var P=D.default;p.default=P},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(i,X,p){"use strict";i("core-js/modules/es.array.slice"),i("core-js/modules/es.math.hypot"),i("core-js/modules/es.string.sub"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.math.hypot"),i("core-js/modules/es.string.sub"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};function I(D,c){for(var m=0;m<c.length;m++){var P=c[m];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}o.default.prototype.camera=function(){var D;this._assert3d("camera");for(var c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];return o.default._validateParameters("camera",m),(D=this._renderer._curCamera).camera.apply(D,m),this},o.default.prototype.perspective=function(){var D;this._assert3d("perspective");for(var c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];return o.default._validateParameters("perspective",m),(D=this._renderer._curCamera).perspective.apply(D,m),this},o.default.prototype.linePerspective=function(D){if(o.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof o.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(D===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=D},o.default.prototype.ortho=function(){var D;this._assert3d("ortho");for(var c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];return o.default._validateParameters("ortho",m),(D=this._renderer._curCamera).ortho.apply(D,m),this},o.default.prototype.frustum=function(){var D;this._assert3d("frustum");for(var c=arguments.length,m=new Array(c),P=0;P<c;P++)m[P]=arguments[P];return o.default._validateParameters("frustum",m),(D=this._renderer._curCamera).frustum.apply(D,m),this},o.default.prototype.createCamera=function(){this._assert3d("createCamera");var D=new o.default.Camera(this._renderer);return D._computeCameraDefaultSettings(),D._setDefaultCamera(),this._renderer._curCamera=D},o.default.Camera=function(){function D(a){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function");this._renderer=a,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new o.default.Matrix,this.projMatrix=new o.default.Matrix,this.yScale=1}var c,m,P;return c=D,(m=[{key:"perspective",value:function(s,n,r,d){this.cameraType=0<arguments.length?"custom":"default",s===void 0?(s=this.defaultCameraFOV,this.cameraFOV=s):this.cameraFOV=this._renderer._pInst._toRadians(s),n===void 0&&(n=this.defaultAspectRatio),r===void 0&&(r=this.defaultCameraNear),d===void 0&&(d=this.defaultCameraFar),r<=1e-4&&(r=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),d<r&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=n,this.cameraNear=r,this.cameraFar=d,this.projMatrix=o.default.Matrix.identity();var s=1/Math.tan(this.cameraFOV/2),t=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(s/n,0,0,0,0,-s*this.yScale,0,0,0,0,(d+r)*t,-1,0,0,2*d*r*t,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(B,T,r,d,s,t){var J=this.fbo||this._renderer,J=(B===void 0&&(B=-J.width/2),T===void 0&&(T=+J.width/2),r===void 0&&(r=-J.height/2),d===void 0&&(d=+J.height/2),s===void 0&&(s=0),t===void 0&&(t=Math.max(J.width,J.height)+800),this.cameraNear=s,T-B),l=d-r,$=(this.cameraFar=t)-s,h=2/J,L=2/l*this.yScale,U=-2/$,T=-(T+B)/J,B=-(d+r)/l,J=-(t+s)/$;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,-L,0,0,0,0,U,0,T,B,J,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(B,T,r,d,s,t){B===void 0&&(B=.05*-this._renderer.width),T===void 0&&(T=.05*+this._renderer.width),r===void 0&&(r=.05*+this._renderer.height),d===void 0&&(d=.05*-this._renderer.height),s===void 0&&(s=this.defaultCameraNear),t===void 0&&(t=this.defaultCameraFar),this.cameraNear=s;var J=T-B,l=d-r,$=(this.cameraFar=t)-s,h=2*s/J,L=2*s/l*this.yScale,U=-2*t*s/$,T=(T+B)/J,B=(d+r)/l,J=-(t+s)/$;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(h,0,0,0,0,-L,0,0,T,B,J,-1,0,0,U,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(h,n,r,d){var s=this.centerX,t=this.centerY,l=this.centerZ,$=(s-=this.eyeX,t-=this.eyeY,l-=this.eyeZ,o.default.Matrix.identity(this._renderer._pInst)),h=($.rotate(this._renderer._pInst._toRadians(h),n,r,d),[s*$.mat4[0]+t*$.mat4[4]+l*$.mat4[8],s*$.mat4[1]+t*$.mat4[5]+l*$.mat4[9],s*$.mat4[2]+t*$.mat4[6]+l*$.mat4[10]]);h[0]+=this.eyeX,h[1]+=this.eyeY,h[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,h[0],h[1],h[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(r){var n=this._getLocalAxes(),r=o.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(r),n.z[0],n.z[1],n.z[2]).rotateVector(new o.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,r.x,r.y,r.z)}},{key:"pan",value:function(a){var n=this._getLocalAxes();this._rotateView(a,n.y[0],n.y[1],n.y[2])}},{key:"tilt",value:function(a){var n=this._getLocalAxes();this._rotateView(a,n.x[0],n.x[1],n.x[2])}},{key:"lookAt",value:function(a,n,r){this.camera(this.eyeX,this.eyeY,this.eyeZ,a,n,r,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(a,n,r,d,s,t,l,$,h){return a===void 0&&(a=this.defaultEyeX,n=this.defaultEyeY,r=this.defaultEyeZ,d=a,s=n,$=1,h=l=t=0),this.eyeX=a,this.eyeY=n,this.eyeZ=r,d!==void 0&&(this.centerX=d,this.centerY=s,this.centerZ=t),l!==void 0&&(this.upX=l,this.upY=$,this.upZ=h),d=this._getLocalAxes(),this.cameraMatrix.set(d.x[0],d.y[0],d.z[0],0,d.x[1],d.y[1],d.z[1],0,d.x[2],d.y[2],d.z[2],0,0,0,0,1),s=-a,this.cameraMatrix.translate([s,-n,-r]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(d,s,r){var t=this._getLocalAxes(),d=[t.x[0]*d,t.x[1]*d,t.x[2]*d],s=[t.y[0]*s,t.y[1]*s,t.y[2]*s],t=[t.z[0]*r,t.z[1]*r,t.z[2]*r];this.camera(this.eyeX+d[0]+s[0]+t[0],this.eyeY+d[1]+s[1]+t[1],this.eyeZ+d[2]+s[2]+t[2],this.centerX+d[0]+s[0]+t[0],this.centerY+d[1]+s[1]+t[1],this.centerZ+d[2]+s[2]+t[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(a,n,r){var d=a-this.eyeX,s=n-this.eyeY,t=r-this.eyeZ;this.camera(a,n,r,this.centerX+d,this.centerY+s,this.centerZ+t,this.upX,this.upY,this.upZ)}},{key:"set",value:function(a){for(var n=0,r=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale"];n<r.length;n++){var d=r[n];this[d]=a[d]}this.cameraMatrix=a.cameraMatrix.copy(),this.projMatrix=a.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(a,n,r){var d,s,t,l,$,h,L,U,T,B,J,S,A,Q,M,k,C,j;r===0?this.set(a):r===1?this.set(n):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=a.projMatrix.mat4[0]*Math.pow(n.projMatrix.mat4[0]/a.projMatrix.mat4[0],r),this.projMatrix.mat4[5]=a.projMatrix.mat4[5]*Math.pow(n.projMatrix.mat4[5]/a.projMatrix.mat4[5],r),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),l=new o.default.Vector(a.eyeX,a.eyeY,a.eyeZ),$=new o.default.Vector(n.eyeX,n.eyeY,n.eyeZ),k=new o.default.Vector(a.centerX,a.centerY,a.centerZ),j=new o.default.Vector(n.centerX,n.centerY,n.centerZ),t=o.default.Vector.dist(l,k),d=o.default.Vector.dist($,j),d=t*Math.pow(d/t,r),t=o.default.Vector.sub(l,$),s=1,1e-6<(C=(Q=l.copy().sub($).sub(k).add(j)).magSq())&&(s=o.default.Vector.dot(t,Q)/C,s=Math.max(0,Math.min(s,1))),t=o.default.Vector.lerp(o.default.Vector.lerp(l,k,s),o.default.Vector.lerp($,j,s),r),Q=a.cameraMatrix.createSubMatrix3x3(),C=n.cameraMatrix.createSubMatrix3x3(),l=Q.row(2),k=C.row(2),$=Q.row(1),j=C.row(1),a=new o.default.Vector,n=new o.default.Vector,h=new o.default.Vector,L=new o.default.Vector,1-(U=.5*((Q=(C=C.mult3x3(Q.copy().transpose3x3())).diagonal())[0]+Q[1]+Q[2]-1))<1e-7?(a.set(o.default.Vector.lerp(l,k,r)).normalize(),h.set(a).mult(s*d).add(t),L.set(a).mult((s-1)*d).add(t),n.set(o.default.Vector.lerp($,j,r)).normalize()):(k=1/(1-U),j=Math.max(Q[0],Q[1],Q[2]),S=C.mat3[1]+C.mat3[3],A=C.mat3[2]+C.mat3[6],M=C.mat3[5]+C.mat3[7],j=j===Q[0]?(B=.5*S*(k/=T=Math.sqrt((Q[0]-U)*k)),J=.5*A*k,.5*(C.mat3[7]-C.mat3[5])/T):j===Q[1]?(J=.5*M*(k/=B=Math.sqrt((Q[1]-U)*k)),T=.5*S*k,.5*(C.mat3[2]-C.mat3[6])/B):(T=.5*A*(k/=J=Math.sqrt((Q[2]-U)*k)),B=.5*M*k,.5*(C.mat3[3]-C.mat3[1])/J),S=r*Math.atan2(j,U),A=Math.cos(S),Q=Math.sin(S),(j=new o.default.Matrix("mat3",[A+(M=1-A)*T*T,M*(k=T*B)+Q*J,M*(C=J*T)-Q*B,M*k-Q*J,A+M*B*B,M*(r=B*J)+Q*T,M*C+Q*B,M*r-Q*T,A+M*J*J])).multiplyVec3(l,a),h.set(a).mult(s*d).add(t),L.set(a).mult((s-1)*d).add(t),j.multiplyVec3($,n)),this.camera(h.x,h.y,h.z,L.x,L.y,L.z,n.x,n.y,n.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var a=new o.default.Camera(this._renderer);return a.cameraFOV=this.cameraFOV,a.aspectRatio=this.aspectRatio,a.eyeX=this.eyeX,a.eyeY=this.eyeY,a.eyeZ=this.eyeZ,a.centerX=this.centerX,a.centerY=this.centerY,a.centerZ=this.centerZ,a.upX=this.upX,a.upY=this.upY,a.upZ=this.upZ,a.cameraNear=this.cameraNear,a.cameraFar=this.cameraFar,a.cameraType=this.cameraType,a.cameraMatrix=this.cameraMatrix.copy(),a.projMatrix=this.projMatrix.copy(),a.yScale=this.yScale,a}},{key:"_getLocalAxes",value:function(){var a=this.eyeX-this.centerX,n=this.eyeY-this.centerY,r=this.eyeZ-this.centerZ,l=Math.sqrt(a*a+n*n+r*r),l=(l!==0&&(a/=l,n/=l,r/=l),this.upX),d=($=this.upY)*r-(h=this.upZ)*n,s=-l*r+h*a,t=l*n-$*a,l=n*t-r*s,$=-a*t+r*d,h=a*s-n*d,L=Math.sqrt(d*d+s*s+t*t),L=(L!==0&&(d/=L,s/=L,t/=L),Math.sqrt(l*l+$*$+h*h));return L!==0&&(l/=L,$/=L,h/=L),{x:[d,s,t],y:[l,$,h],z:[a,n,r]}}},{key:"_orbit",value:function(a,L,h){var s=this.eyeX-this.centerX,t=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,d=Math.hypot(s,t,l),s=new o.default.Vector(s,t,l).normalize(),t=new o.default.Vector(this.upX,this.upY,this.upZ).normalize(),l=o.default.Vector.cross(t,s).normalize(),$=o.default.Vector.cross(l,t),h=((d=(d*=Math.pow(10,h))<this.cameraNear?this.cameraNear:d)>this.cameraFar&&(d=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,o.default.Vector.dot(s,t))))+L),L=a;(h<=0||h>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),t.mult(Math.cos(h)),$.mult(Math.cos(L)*Math.sin(h)),l.mult(Math.sin(L)*Math.sin(h)),s.set(t).add($).add(l),this.eyeX=d*s.x+this.centerX,this.eyeY=d*s.y+this.centerY,this.eyeZ=d*s.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(h,L,T){var s=this.eyeX-this.centerX,t=this.eyeY-this.centerY,l=this.eyeZ-this.centerZ,d=Math.hypot(s,t,l),s=new o.default.Vector(s,t,l).normalize(),t=new o.default.Vector(this.upX,this.upY,this.upZ),l=o.default.Vector.cross(t,s).normalize(),$=o.default.Vector.cross(s,l),B=Math.atan2(L,h),B=($.mult(Math.sin(B)),l.mult(Math.cos(B)).add($),Math.sqrt(h*h+L*L)),$=o.default.Vector.cross(s,l),h=((d=(d*=Math.pow(10,T))<this.cameraNear?this.cameraNear:d)>this.cameraFar&&(d=this.cameraFar),Math.cos(B)),L=Math.sin(B),T=t.dot(s),B=t.dot(l),U=T*h+B*L,T=-T*L+B*h,B=t.dot($);t.x=U*s.x+T*l.x+B*$.x,t.y=U*s.y+T*l.y+B*$.y,t.z=U*s.z+T*l.z+B*$.z,l.mult(-L),s.mult(h).add(l).mult(d),this.camera(s.x+this.centerX,s.y+this.centerY,s.z+this.centerZ,this.centerX,this.centerY,this.centerZ,t.x,t.y,t.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&I(c.prototype,m),P&&I(c,P),D}(),o.default.prototype.setCamera=function(D){this._renderer._curCamera=D,this._renderer.uPMatrix.set(D.projMatrix),this._renderer.uViewMatrix.set(D.cameraMatrix)},i=o.default.Camera,p.default=i},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(i,X,p){"use strict";i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.math.log2"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.typed-array.float32-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.math.log2"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.typed-array.float32-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i};function o(I,D){for(var c=0;c<D.length;c++){var m=D[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(I,m.key,m)}}i.default.DataArray=function(){function I(){var P=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,a=this,n=I;if(!(a instanceof n))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(P),this.initialLength=P}var D,c,m;return D=I,(c=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var P;this.length<this.data.length/2&&(P=1<<Math.ceil(Math.log2(this.length)),(P=new Float32Array(P)).set(this.data.subarray(0,this.length),0),this.data=P)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var P=arguments.length,a=new Array(P),n=0;n<P;n++)a[n]=arguments[n];this.ensureLength(this.length+a.length),this.data.set(a,this.length),this.length+=a.length}},{key:"slice",value:function(P,a){return this.data.slice(P,Math.min(a,this.length))}},{key:"subArray",value:function(P,a){return this.data.subarray(P,Math.min(a,this.length))}},{key:"ensureLength",value:function(P){for(;this.data.length<P;){var a=new Float32Array(2*this.data.length);a.set(this.data,0),this.data=a}}}])&&o(D.prototype,c),m&&o(D,m),I}(),i=i.default.DataArray,p.default=i},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(J,X,p){"use strict";function o(S){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(A){return typeof A}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})(S)}function I(S){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(A){return o(A)}:function(A){return A&&typeof Symbol=="function"&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":o(A)})(S)}J("core-js/modules/es.symbol"),J("core-js/modules/es.symbol.description"),J("core-js/modules/es.symbol.iterator"),J("core-js/modules/es.array.fill"),J("core-js/modules/es.array.includes"),J("core-js/modules/es.array.iterator"),J("core-js/modules/es.object.get-own-property-descriptor"),J("core-js/modules/es.object.get-prototype-of"),J("core-js/modules/es.object.to-string"),J("core-js/modules/es.reflect.construct"),J("core-js/modules/es.reflect.get"),J("core-js/modules/es.regexp.to-string"),J("core-js/modules/es.string.includes"),J("core-js/modules/es.string.iterator"),J("core-js/modules/es.typed-array.float32-array"),J("core-js/modules/es.typed-array.uint8-array"),J("core-js/modules/es.typed-array.uint8-clamped-array"),J("core-js/modules/es.typed-array.copy-within"),J("core-js/modules/es.typed-array.every"),J("core-js/modules/es.typed-array.fill"),J("core-js/modules/es.typed-array.filter"),J("core-js/modules/es.typed-array.find"),J("core-js/modules/es.typed-array.find-index"),J("core-js/modules/es.typed-array.for-each"),J("core-js/modules/es.typed-array.includes"),J("core-js/modules/es.typed-array.index-of"),J("core-js/modules/es.typed-array.iterator"),J("core-js/modules/es.typed-array.join"),J("core-js/modules/es.typed-array.last-index-of"),J("core-js/modules/es.typed-array.map"),J("core-js/modules/es.typed-array.reduce"),J("core-js/modules/es.typed-array.reduce-right"),J("core-js/modules/es.typed-array.reverse"),J("core-js/modules/es.typed-array.set"),J("core-js/modules/es.typed-array.slice"),J("core-js/modules/es.typed-array.some"),J("core-js/modules/es.typed-array.sort"),J("core-js/modules/es.typed-array.subarray"),J("core-js/modules/es.typed-array.to-locale-string"),J("core-js/modules/es.typed-array.to-string"),J("core-js/modules/es.weak-map"),J("core-js/modules/web.dom-collections.iterator"),J("core-js/modules/es.array.fill"),J("core-js/modules/es.array.includes"),J("core-js/modules/es.array.iterator"),J("core-js/modules/es.object.get-prototype-of"),J("core-js/modules/es.object.to-string"),J("core-js/modules/es.string.includes"),J("core-js/modules/es.typed-array.float32-array"),J("core-js/modules/es.typed-array.uint8-array"),J("core-js/modules/es.typed-array.uint8-clamped-array"),J("core-js/modules/es.typed-array.copy-within"),J("core-js/modules/es.typed-array.every"),J("core-js/modules/es.typed-array.fill"),J("core-js/modules/es.typed-array.filter"),J("core-js/modules/es.typed-array.find"),J("core-js/modules/es.typed-array.find-index"),J("core-js/modules/es.typed-array.for-each"),J("core-js/modules/es.typed-array.includes"),J("core-js/modules/es.typed-array.index-of"),J("core-js/modules/es.typed-array.iterator"),J("core-js/modules/es.typed-array.join"),J("core-js/modules/es.typed-array.last-index-of"),J("core-js/modules/es.typed-array.map"),J("core-js/modules/es.typed-array.reduce"),J("core-js/modules/es.typed-array.reduce-right"),J("core-js/modules/es.typed-array.reverse"),J("core-js/modules/es.typed-array.set"),J("core-js/modules/es.typed-array.slice"),J("core-js/modules/es.typed-array.some"),J("core-js/modules/es.typed-array.sort"),J("core-js/modules/es.typed-array.subarray"),J("core-js/modules/es.typed-array.to-locale-string"),J("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(B=J("../core/main"))&&B.__esModule?B:{default:B},c=function(S){if(S&&S.__esModule)return S;if(S===null||I(S)!=="object"&&typeof S!="function")return{default:S};var A=a();if(A&&A.has(S))return A.get(S);var Q,M={},k=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(Q in S){var C;Object.prototype.hasOwnProperty.call(S,Q)&&((C=k?Object.getOwnPropertyDescriptor(S,Q):null)&&(C.get||C.set)?Object.defineProperty(M,Q,C):M[Q]=S[Q])}return M.default=S,A&&A.set(S,M),M}(J("../core/constants")),m=J("./p5.Texture"),P=J("./p5.RendererGL");function a(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,a=function(){return S},S)}function n(S,A){return function(Q){if(Array.isArray(Q))return Q}(S)||function(Q,M){if(Symbol.iterator in Object(Q)||Object.prototype.toString.call(Q)==="[object Arguments]"){var k=[],C=!0,j=!1,G=void 0;try{for(var y,g=Q[Symbol.iterator]();!(C=(y=g.next()).done)&&(k.push(y.value),!M||k.length!==M);C=!0);}catch(N){j=!0,G=N}finally{try{C||g.return==null||g.return()}finally{if(j)throw G}}return k}}(S,A)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function r(S,A,Q){return A in S?Object.defineProperty(S,A,{value:Q,enumerable:!0,configurable:!0,writable:!0}):S[A]=Q,S}function d(S,A){if(!(S instanceof A))throw new TypeError("Cannot call a class as a function")}function s(S,A){for(var Q=0;Q<A.length;Q++){var M=A[Q];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}function t(S,A,Q){A&&s(S.prototype,A),Q&&s(S,Q)}function l(S,A,Q){return(l=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(j,k,C){var j=function(G,y){for(;!Object.prototype.hasOwnProperty.call(G,y)&&(G=L(G))!==null;);return G}(j,k);if(j)return(j=Object.getOwnPropertyDescriptor(j,k)).get?j.get.call(C):j.value})(S,A,Q||S)}function $(S,A){return($=Object.setPrototypeOf||function(Q,M){return Q.__proto__=M,Q})(S,A)}function h(S){return function(){var A,Q=L(S),Q=(A=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(A=L(this).constructor,Reflect.construct(Q,arguments,A)):Q.apply(this,arguments),this);if(!A||I(A)!=="object"&&typeof A!="function"){if(Q!==void 0)return Q;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return A}}function L(S){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(A){return A.__proto__||Object.getPrototypeOf(A)})(S)}var U=function(S){var A=M;if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");A.prototype=Object.create(S&&S.prototype,{constructor:{value:A,writable:!0,configurable:!0}}),S&&$(A,S);var Q=h(M);function M(k){var C;return d(this,M),(C=Q.call(this,k.target._renderer)).fbo=k,C.yScale=-1,C}return t(M,[{key:"_computeCameraDefaultSettings",value:function(){l(L(M.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),M}(D.default.Camera),T=(D.default.FramebufferCamera=U,function(){function S(A,Q){d(this,S),this.framebuffer=A,this.property=Q}return t(S,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),S}()),B=(D.default.FramebufferTexture=T,function(){function S(A){var Q=this,M=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},k=(d(this,S),this.target=A,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=M.format||c.UNSIGNED_BYTE,this.channels=M.channels||(A._renderer._pInst._glAttributes.alpha?c.RGBA:c.RGB),this.useDepth=M.depth===void 0||M.depth,this.depthFormat=M.depthFormat||c.FLOAT,this.textureFiltering=M.textureFiltering||c.LINEAR,M.antialias===void 0?this.antialiasSamples=A._renderer._pInst._glAttributes.antialias?2:0:typeof M.antialias=="number"?this.antialiasSamples=M.antialias:this.antialiasSamples=M.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&A.webglVersion!==c.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=M.density||A.pixelDensity(),A._renderer.GL);if(this.gl=k,M.width&&M.height?(C=A._renderer._adjustDimensions(M.width,M.height),this.width=C.adjustedWidth,this.height=C.adjustedHeight,this._autoSized=!1):(M.width===void 0!=(M.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=A.width,this.height=A.height,this._autoSized=!0),this._checkIfFormatsAvailable(),M.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(M.stencil===void 0||M.stencil),this.framebuffer=k.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=k.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var C=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=C,this.draw(function(){return Q.target.clear()})}return t(S,[{key:"resize",value:function(A,Q){this._autoSized=!1;var M=this.target._renderer._adjustDimensions(A,Q);A=M.adjustedWidth,Q=M.adjustedHeight,this.width=A,this.height=Q,this._handleResize()}},{key:"pixelDensity",value:function(A){if(!A)return this.density;this._autoSized=!1,this.density=A,this._handleResize()}},{key:"autoSized",value:function(A){if(A===void 0)return this._autoSized;this._autoSized=A,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var A=this.gl,A=(this.useDepth&&this.target.webglVersion===c.WEBGL&&!A.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===c.WEBGL&&this.depthFormat===c.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),[c.UNSIGNED_BYTE,c.FLOAT,c.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&![c.UNSIGNED_INT,c.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=c.FLOAT),(0,m.checkWebGLCapabilities)(this.target._renderer));A.float||this.format!==c.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.useDepth&&!A.float&&this.depthFormat===c.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=c.UNSIGNED_INT),A.halfFloat||this.format!==c.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=c.UNSIGNED_BYTE),this.channels===c.RGB&&[c.FLOAT,c.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=c.RGBA)}},{key:"_recreateTextures",value:function(){var A=this.gl,Q=(this._updateSize(),A.getParameter(A.TEXTURE_BINDING_2D)),M=A.getParameter(A.FRAMEBUFFER_BINDING),k=A.createTexture();if(!k)throw new Error("Unable to create color texture");A.bindTexture(A.TEXTURE_2D,k);var C=this._glColorFormat();if(A.texImage2D(A.TEXTURE_2D,0,C.internalFormat,this.width*this.density,this.height*this.density,0,C.format,C.type,null),this.colorTexture=k,A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),A.framebufferTexture2D(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.TEXTURE_2D,k,0),this.useDepth){var k=A.createTexture();if(!k)throw new Error("Unable to create depth texture");var j=this._glDepthFormat();A.bindTexture(A.TEXTURE_2D,k),A.texImage2D(A.TEXTURE_2D,0,j.internalFormat,this.width*this.density,this.height*this.density,0,j.format,j.type,null),A.framebufferTexture2D(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.TEXTURE_2D,k,0),this.depthTexture=k}this.antialias&&(this.colorRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.colorRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),C.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(j=this._glDepthFormat(),this.depthRenderbuffer=A.createRenderbuffer(),A.bindRenderbuffer(A.RENDERBUFFER,this.depthRenderbuffer),A.renderbufferStorageMultisample(A.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,A.getParameter(A.MAX_SAMPLES))),j.internalFormat,this.width*this.density,this.height*this.density)),A.bindFramebuffer(A.FRAMEBUFFER,this.aaFramebuffer),A.framebufferRenderbuffer(A.FRAMEBUFFER,A.COLOR_ATTACHMENT0,A.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&A.framebufferRenderbuffer(A.FRAMEBUFFER,this.useStencil?A.DEPTH_STENCIL_ATTACHMENT:A.DEPTH_ATTACHMENT,A.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new T(this,"depthTexture"),k=A.NEAREST,this.depthP5Texture=new D.default.Texture(this.target._renderer,this.depth,{minFilter:k,magFilter:k}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new T(this,"colorTexture"),C=this.textureFiltering===c.LINEAR?A.LINEAR:A.NEAREST,this.colorP5Texture=new D.default.Texture(this.target._renderer,this.color,{minFilter:C,magFilter:C}),this.target._renderer.textures.set(this.color,this.colorP5Texture),A.bindTexture(A.TEXTURE_2D,Q),A.bindFramebuffer(A.FRAMEBUFFER,M)}},{key:"_glColorFormat",value:function(){var A,Q,M=this.gl,k=this.format===c.FLOAT?M.FLOAT:this.format===c.HALF_FLOAT?this.target.webglVersion===c.WEBGL2?M.HALF_FLOAT:M.getExtension("OES_texture_half_float").HALF_FLOAT_OES:M.UNSIGNED_BYTE,C=this.channels===c.RGBA?M.RGBA:M.RGB;return{internalFormat:this.target.webglVersion===c.WEBGL2?(r(Q={},M.FLOAT,r({},M.RGBA,M.RGBA32F)),r(Q,M.HALF_FLOAT,r({},M.RGBA,M.RGBA16F)),r(Q,M.UNSIGNED_BYTE,(r(A={},M.RGBA,M.RGBA8),r(A,M.RGB,M.RGB8),A)),Q[k][C]):this.format===c.HALF_FLOAT?M.RGBA:C,format:C,type:k}}},{key:"_glDepthFormat",value:function(){var M=this.gl,A=this.useStencil?this.depthFormat===c.FLOAT?M.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===c.WEBGL2?M.UNSIGNED_INT_24_8:M.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===c.FLOAT?M.FLOAT:M.UNSIGNED_INT,Q=this.useStencil?M.DEPTH_STENCIL:M.DEPTH_COMPONENT,M=this.useStencil?this.depthFormat===c.FLOAT?M.DEPTH32F_STENCIL8:this.target.webglVersion===c.WEBGL2?M.DEPTH24_STENCIL8:M.DEPTH_STENCIL:this.target.webglVersion===c.WEBGL2?this.depthFormat===c.FLOAT?M.DEPTH_COMPONENT32F:M.DEPTH_COMPONENT24:M.DEPTH_COMPONENT;return{internalFormat:M,format:Q,type:A}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var k=this.color,A=this.depth,Q=this.colorRenderbuffer,M=this.depthRenderbuffer,k=(this._deleteTexture(k),A&&this._deleteTexture(A),this.gl);Q&&k.deleteRenderbuffer(Q),M&&k.deleteRenderbuffer(M),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var A=new U(this);return A._computeCameraDefaultSettings(),A._setDefaultCamera(),this.target._renderer._curCamera=A}},{key:"_deleteTexture",value:function(A){this.gl.deleteTexture(A.rawTexture()),this.target._renderer.textures.delete(A)}},{key:"remove",value:function(){var A=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),A.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&A.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&A.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&A.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var A=this.gl;A.bindFramebuffer(A.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var A=this.gl,Q=(A.bindFramebuffer(A.READ_FRAMEBUFFER,this.aaFramebuffer),A.bindFramebuffer(A.DRAW_FRAMEBUFFER,this.framebuffer),[[A.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&Q.push([A.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var M=0,k=Q;M<k.length;M++){var j=n(k[M],2),C=j[0],j=j[1];A.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,C,j)}}}},{key:"end",value:function(){var A=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(A.bindFramebuffer(A.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(A){this.begin(),A(),this.end()}},{key:"loadPixels",value:function(){var A=this.gl,Q=this.target._renderer.activeFramebuffer(),M=(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,P.readPixelsWebGL)(this.pixels,A,this.framebuffer,0,0,this.width*this.density,this.height*this.density,M.format,M.type),Q?A.bindFramebuffer(A.FRAMEBUFFER,Q._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null)}},{key:"get",value:function(A,Q,M,k){D.default._validateParameters("p5.Framebuffer.get",arguments);var C=this._glColorFormat();if(A===void 0&&Q===void 0)Q=A=0,M=this.width,k=this.height;else if(M===void 0&&k===void 0)return(A<0||Q<0||A>=this.width||Q>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),A=this.target.constrain(A,0,this.width-1),Q=this.target.constrain(Q,0,this.height-1)),(0,P.readPixelWebGL)(this.gl,this.framebuffer,A*this.density,Q*this.density,C.format,C.type);A=this.target.constrain(A,0,this.width-1),Q=this.target.constrain(Q,0,this.height-1),M=this.target.constrain(M,1,this.width-A),k=this.target.constrain(k,1,this.height-Q);for(var j=(0,P.readPixelsWebGL)(void 0,this.gl,this.framebuffer,A*this.density,Q*this.density,M*this.density,k*this.density,C.format,C.type),G=new Uint8ClampedArray(M*k*this.density*this.density*4),y=(G.fill(255),C.type===this.gl.RGB?3:4),g=0;g<k*this.density;g++)for(var N=0;N<M*this.density;N++)for(var w=0;w<4;w++){var ce,F=4*(g*M*this.density+N)+w;w<y&&(ce=y==4?F:(g*M*this.density+N)*y+w,G[F]=j[ce])}return A=new D.default.Image(M*this.density,k*this.density),A.imageData=A.canvas.getContext("2d").createImageData(A.width,A.height),A.imageData.data.set(G),A.pixels=A.imageData.data,A.updatePixels(),this.density!==1&&A.resize(M,k),A}},{key:"updatePixels",value:function(){var A=this.gl,Q=(this.colorP5Texture.bindTexture(),this._glColorFormat()),M=Q.format===A.RGBA?4:3,M=this.width*this.height*this.density*this.density*M,k=Q.type===A.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof k)||this.pixels.length!==M)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");A.texImage2D(A.TEXTURE_2D,0,Q.internalFormat,this.width*this.density,this.height*this.density,0,Q.format,Q.type,this.pixels),this.colorP5Texture.unbindTexture(),k=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),this.end()):(A.bindFramebuffer(A.FRAMEBUFFER,this.framebuffer),this.useDepth&&(A.clearDepth(1),A.clear(A.DEPTH_BUFFER_BIT)),k?A.bindFramebuffer(A.FRAMEBUFFER,k._framebufferToBind()):A.bindFramebuffer(A.FRAMEBUFFER,null))}}]),S}()),J=D.default.Framebuffer=B;p.default=J},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(i,X,p){"use strict";function o(d){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s})(d)}function I(d){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(s){return o(s)}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":o(s)})(d)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.flat"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.last-index-of"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.unscopables.flat"),i("core-js/modules/es.array-buffer.constructor"),i("core-js/modules/es.map"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.entries"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.set"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.sub"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.flat"),i("core-js/modules/es.array.for-each"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.last-index-of"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.unscopables.flat"),i("core-js/modules/es.array-buffer.constructor"),i("core-js/modules/es.map"),i("core-js/modules/es.number.constructor"),i("core-js/modules/es.object.entries"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.set"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.sub"),i("core-js/modules/web.dom-collections.for-each"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(r=i("../core/main"))&&r.__esModule?r:{default:r},c=function(d){if(d&&d.__esModule)return d;if(d===null||I(d)!=="object"&&typeof d!="function")return{default:d};var s=m();if(s&&s.has(d))return s.get(d);var t,l={},$=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(t in d){var h;Object.prototype.hasOwnProperty.call(d,t)&&((h=$?Object.getOwnPropertyDescriptor(d,t):null)&&(h.get||h.set)?Object.defineProperty(l,t,h):l[t]=d[t])}return l.default=d,s&&s.set(d,l),l}(i("../core/constants"));function m(){var d;return typeof WeakMap!="function"?null:(d=new WeakMap,m=function(){return d},d)}function P(d){return function(s){if(Array.isArray(s)){for(var t=0,l=new Array(s.length);t<s.length;t++)l[t]=s[t];return l}}(d)||function(s){if(Symbol.iterator in Object(s)||Object.prototype.toString.call(s)==="[object Arguments]")return Array.from(s)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(d,s){return function(t){if(Array.isArray(t))return t}(d)||function(t,l){if(Symbol.iterator in Object(t)||Object.prototype.toString.call(t)==="[object Arguments]"){var $=[],h=!0,L=!1,U=void 0;try{for(var T,B=t[Symbol.iterator]();!(h=(T=B.next()).done)&&($.push(T.value),!l||$.length!==l);h=!0);}catch(J){L=!0,U=J}finally{try{h||B.return==null||B.return()}finally{if(L)throw U}}return $}}(d,s)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function n(d,s){for(var t=0;t<s.length;t++){var l=s[t];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}D.default.Geometry=function(){function d($,h,L){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new D.default.DataArray,this.lineTangentsIn=new D.default.DataArray,this.lineTangentsOut=new D.default.DataArray,this.lineSides=new D.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new D.default.DataArray,this.detailX=$!==void 0?$:1,this.detailY=h!==void 0?h:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,L instanceof Function&&L.call(this)}var s,t,l;return s=d,(t=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var $=new D.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),h=new D.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),L=0;L<this.vertices.length;L++){var U=this.vertices[L];$.x=Math.min($.x,U.x),$.y=Math.min($.y,U.y),$.z=Math.min($.z,U.z),h.x=Math.max(h.x,U.x),h.y=Math.max(h.y,U.y),h.z=Math.max(h.z,U.z)}var T=new D.default.Vector(h.x-$.x,h.y-$.y,h.z-$.z),B=new D.default.Vector(($.x+h.x)/2,($.y+h.y)/2,($.z+h.z)/2);this.boundingBoxCache={min:$,max:h,size:T,offset:B}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var $=0;$<this.vertexColors.length;$+=4)if(this.vertexColors[$+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var $=0;$<this.lineVertexColors.length;$+=4)if(this.lineVertexColors[$+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var $=this,h=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",L="";if(this.vertices.forEach(function(B){L+="v ".concat(B.x," ").concat(B.y," ").concat(B.z,`
`)}),this.uvs&&0<this.uvs.length)for(var U=0;U<this.uvs.length;U+=2)L+="vt ".concat(this.uvs[U]," ").concat(this.uvs[U+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(B){L+="vn ".concat(B.x," ").concat(B.y," ").concat(B.z,`
`)}),this.faces.forEach(function(B){var J="f";B.forEach(function(S){J=J+" "+(S+1),(0<$.vertexNormals.length||0<$.uvs.length)&&(J+="/",0<$.uvs.length&&(J+=S+1),J+="/",0<$.vertexNormals.length&&(J+=S+1))}),L+=J+`
`});var T=new Blob([L],{type:"text/plain"});D.default.prototype.downloadFile(T,h,"obj")}},{key:"saveStl",value:function(){var $=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",h=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,h=h!==void 0&&h,L=$.substring(0,$.lastIndexOf(".")),U=[],T=!0,B=!1,J=void 0;try{for(var S,A=this.faces[Symbol.iterator]();!(T=(S=A.next()).done);T=!0){var Q=S.value,M=D.default.Vector.sub(this.vertices[Q[1]],this.vertices[Q[0]]),k=D.default.Vector.sub(this.vertices[Q[2]],this.vertices[Q[0]]),C=M.y*k.z-M.z*k.y,j=M.z*k.x-M.x*k.z,G=M.x*k.y-M.y*k.x;U.push(new D.default.Vector(C,j,G).normalize())}}catch(Re){B=!0,J=Re}finally{try{T||A.return==null||A.return()}finally{if(B)throw J}}if(h){var y,g=80,B=2*this.faces.length+3*this.faces.length*4*4+80+4,J=new ArrayBuffer(B);(y=new DataView(J)).setUint32(g,this.faces.length,!0),g+=4;for(var N=0,w=Object.entries(this.faces);N<w.length;N++){var ce=a(w[N],2),f=ce[0],ce=ce[1],f=U[f],F=(y.setFloat32(g,f.x,!0),g+=4,y.setFloat32(g,f.y,!0),g+=4,y.setFloat32(g,f.z,!0),g+=4,!0),f=!1,E=void 0;try{for(var Z,W=ce[Symbol.iterator]();!(F=(Z=W.next()).done);F=!0){var ee=Z.value,De=this.vertices[ee];y.setFloat32(g,De.x,!0),g+=4,y.setFloat32(g,De.y,!0),g+=4,y.setFloat32(g,De.z,!0),g+=4}}catch(be){f=!0,E=be}finally{try{F||W.return==null||W.return()}finally{if(f)throw E}}y.setUint16(g,0,!0),g+=2}}else{y="solid "+L+`
`;for(var $e=0,te=Object.entries(this.faces);$e<te.length;$e++){var de=a(te[$e],2),z=de[0],de=de[1],z=U[z],ne=(y=y+(" facet norm "+z.x+" "+z.y+" "+z.z+`
`)+`  outer loop
`,!0),z=!1,oe=void 0;try{for(var he,Je=de[Symbol.iterator]();!(ne=(he=Je.next()).done);ne=!0){var Pe=he.value,me=this.vertices[Pe];y+="   vertex "+me.x+" "+me.y+" "+me.z+`
`}}catch(Re){z=!0,oe=Re}finally{try{ne||Je.return==null||Je.return()}finally{if(z)throw oe}}y=y+`  endloop
 endfacet
`}y+="endsolid "+L+`
`}h=new Blob([y],{type:"text/plain"}),D.default.prototype.downloadFile(h,$,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function($,h){return h%2==0?1-$:$})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function($,h){return h%2==0?$:1-$})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var $,h,L,U=this.detailX+1,T=0;T<this.detailY;T++)for(var B=0;B<this.detailX;B++)h=(T+1)*U+B+1,this.faces.push([T*U+B,$=T*U+B+1,L=(T+1)*U+B]),this.faces.push([L,$,h]);return this}},{key:"_getFaceNormal",value:function(h){var h=this.faces[h],L=this.vertices[h[0]],T=this.vertices[h[1]],h=this.vertices[h[2]],T=D.default.Vector.sub(T,L),h=D.default.Vector.sub(h,L),L=D.default.Vector.cross(T,h),U=D.default.Vector.mag(L),T=U/(D.default.Vector.mag(T)*D.default.Vector.mag(h));return T===0||isNaN(T)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),L):(1<T&&(T=1),L.mult(Math.asin(T)/U))}},{key:"computeNormals",value:function(){var $,h=this,L=0<arguments.length&&arguments[0]!==void 0?arguments[0]:c.FLAT,U=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,T=this.vertexNormals,B=this.vertices,J=this.faces;if(L===c.SMOOTH){for(var S={},A=[],Q=Math.pow(10,U===void 0?3:U),M=function(y){return Math.round(y*Q)/Q},k=function(y){return"".concat(M(y.x),",").concat(M(y.y),",").concat(M(y.z))},C=0;C<B.length;C++){var j=B[C],G=k(j);S[G]===void 0&&(S[G]=A.length,A.push(j))}J.forEach(function(y){for(var g=0;g<3;++g){var N=y[g],N=B[N],N=k(N);y[g]=S[N]}}),this.edges.forEach(function(y){for(var g=0;g<2;++g){var N=y[g],N=B[N],N=k(N);y[g]=S[N]}}),this.vertices=B=A}for($=T.length=0;$<B.length;++$)T.push(new D.default.Vector);for(J.forEach(function(y,g){for(var N=h._getFaceNormal(g),w=0;w<3;++w){var ce=y[w];T[ce].add(N)}}),$=0;$<B.length;++$)T[$].normalize();return this}},{key:"averageNormals",value:function(){for(var $=0;$<=this.detailY;$++){var h=this.detailX+1,L=D.default.Vector.add(this.vertexNormals[$*h],this.vertexNormals[$*h+this.detailX]),L=D.default.Vector.div(L,2);this.vertexNormals[$*h]=L,this.vertexNormals[$*h+this.detailX]=L}return this}},{key:"averagePoleNormals",value:function(){for(var $=new D.default.Vector(0,0,0),h=0;h<this.detailX;h++)$.add(this.vertexNormals[h]);for(var $=D.default.Vector.div($,this.detailX),L=0;L<this.detailX;L++)this.vertexNormals[L]=$;$=new D.default.Vector(0,0,0);for(var U=this.vertices.length-1;U>this.vertices.length-1-this.detailX;U--)$.add(this.vertexNormals[U]);$=D.default.Vector.div($,this.detailX);for(var T=this.vertices.length-1;T>this.vertices.length-1-this.detailX;T--)this.vertexNormals[T]=$;return this}},{key:"_makeTriangleEdges",value:function(){for(var $=this.edges.length=0;$<this.faces.length;$++)this.edges.push([this.faces[$][0],this.faces[$][1]]),this.edges.push([this.faces[$][1],this.faces[$][2]]),this.edges.push([this.faces[$][2],this.faces[$][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var $,h=new Map,L=new Set,U=0;U<this.edges.length;U++){var T,B=this.edges[U-1],J=this.edges[U],S=this.vertices[J[0]],A=this.vertices[J[1]],Q=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*J[0],4*(J[0]+1)):[0,0,0,0],M=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*J[1],4*(J[1]+1)):[0,0,0,0],k=A.copy().sub(S).normalize(),C=0<k.magSq();C&&this._addSegment(S,A,Q,M,k),0<U&&B[1]===J[0]?L.has(J[0])||(L.add(J[0]),h.delete(J[0]),$&&C&&k.dot($)<1-1e-8&&this._addJoin(S,$,k,Q)):(C&&!L.has(J[0])&&((T=h.get(J[0]))?(this._addJoin(S,T.dir,k,Q),h.delete(J[0]),L.add(J[0])):h.set(J[0],{point:S,dir:k.copy().mult(-1),color:Q})),$&&!L.has(B[1])&&((T=h.get(B[1]))?(this._addJoin(this.vertices[B[1]],$,T.dir.copy().mult(-1),Q),h.delete(B[1]),L.add(B[1])):h.set(B[1],{point:this.vertices[B[1]],dir:$,color:Q}),$=void 0)),U!==this.edges.length-1||L.has(J[1])||((S=h.get(J[1]))?(this._addJoin(A,k,S.dir.copy().mult(-1),M),h.delete(J[1]),L.add(J[1])):h.set(J[1],{point:A,dir:k,color:M})),C&&($=k)}var j=!0,G=!1,y=void 0;try{for(var g,N=h.values()[Symbol.iterator]();!(j=(g=N.next()).done);j=!0){var w=g.value,ce=w.point,F=w.dir,f=w.color;this._addCap(ce,F,f)}}catch(E){G=!0,y=E}finally{try{j||N.return==null||N.return()}finally{if(G)throw y}}return this}},{key:"_addSegment",value:function(B,J,L,U,T){var B=B.array(),J=J.array(),S=T.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var A=0,Q=[this.lineTangentsIn,this.lineTangentsOut];A<Q.length;A++)for(var M=Q[A],k=0;k<6;k++)M.push.apply(M,P(S));return(T=this.lineVertices).push.apply(T,P(B).concat(P(J),P(B),P(J),P(J),P(B))),(T=this.lineVertexColors).push.apply(T,P(L).concat(P(U),P(L),P(U),P(U),P(L))),this}},{key:"_addCap",value:function($,h,L){for(var U,T=$.array(),B=h.array(),J=[0,0,0],S=0;S<6;S++)(U=this.lineVertices).push.apply(U,P(T)),(U=this.lineTangentsIn).push.apply(U,P(B)),(U=this.lineTangentsOut).push.apply(U,J),(U=this.lineVertexColors).push.apply(U,P(L));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function($,h,L,U){for(var T,B=$.array(),J=h.array(),S=L.array(),A=0;A<12;A++)(T=this.lineVertices).push.apply(T,P(B)),(T=this.lineTangentsIn).push.apply(T,P(J)),(T=this.lineTangentsOut).push.apply(T,P(S)),(T=this.lineVertexColors).push.apply(T,P(U));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var $=this.vertices[0].copy(),h=this.vertices[0].copy(),L=0;L<this.vertices.length;L++)$.x=Math.max($.x,this.vertices[L].x),h.x=Math.min(h.x,this.vertices[L].x),$.y=Math.max($.y,this.vertices[L].y),h.y=Math.min(h.y,this.vertices[L].y),$.z=Math.max($.z,this.vertices[L].z),h.z=Math.min(h.z,this.vertices[L].z);for(var U=D.default.Vector.lerp($,h,.5),T=D.default.Vector.sub($,h),B=200/Math.max(Math.max(T.x,T.y),T.z),J=0;J<this.vertices.length;J++)this.vertices[J].sub(U),this.vertices[J].mult(B)}return this}}])&&n(s.prototype,t),l&&n(s,l),d}();var r=D.default.Geometry;p.default=r},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(m,X,p){"use strict";m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),m("core-js/modules/es.array.iterator"),m("core-js/modules/es.object.to-string"),m("core-js/modules/es.typed-array.float32-array"),m("core-js/modules/es.typed-array.copy-within"),m("core-js/modules/es.typed-array.every"),m("core-js/modules/es.typed-array.fill"),m("core-js/modules/es.typed-array.filter"),m("core-js/modules/es.typed-array.find"),m("core-js/modules/es.typed-array.find-index"),m("core-js/modules/es.typed-array.for-each"),m("core-js/modules/es.typed-array.includes"),m("core-js/modules/es.typed-array.index-of"),m("core-js/modules/es.typed-array.iterator"),m("core-js/modules/es.typed-array.join"),m("core-js/modules/es.typed-array.last-index-of"),m("core-js/modules/es.typed-array.map"),m("core-js/modules/es.typed-array.reduce"),m("core-js/modules/es.typed-array.reduce-right"),m("core-js/modules/es.typed-array.reverse"),m("core-js/modules/es.typed-array.set"),m("core-js/modules/es.typed-array.slice"),m("core-js/modules/es.typed-array.some"),m("core-js/modules/es.typed-array.sort"),m("core-js/modules/es.typed-array.subarray"),m("core-js/modules/es.typed-array.to-locale-string"),m("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(m=m("../core/main"))&&m.__esModule?m:{default:m};function I(P,a){for(var n=0;n<a.length;n++){var r=a[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(P,r.key,r)}}var D=Array,c=function(P){return Array.isArray(P)},m=(typeof Float32Array<"u"&&(D=Float32Array,c=function(P){return Array.isArray(P)||P instanceof Float32Array}),o.default.Matrix=function(){function P(){var d=this,s=P;if(d instanceof s)return arguments.length&&((d=arguments.length-1)<0||arguments.length<=d?void 0:arguments[d])instanceof o.default&&(this.p5=(s=arguments.length-1)<0||arguments.length<=s?void 0:arguments[s]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new D([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new D([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var a,n,r;return a=P,r=[{key:"identity",value:function(d){return new o.default.Matrix(d)}}],(n=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(d){var s=arguments;if(d instanceof o.default.Matrix?s=d.mat4:c(d)&&(s=d),s.length!==16)o.default._friendlyError("Expected 16 values but received ".concat(s.length,"."),"p5.Matrix.set");else for(var t=0;t<16;t++)this.mat4[t]=s[t];return this}},{key:"get",value:function(){return new o.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var d;return this.mat3!==void 0?((d=new o.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],d.mat3[1]=this.mat3[1],d.mat3[2]=this.mat3[2],d.mat3[3]=this.mat3[3],d.mat3[4]=this.mat3[4],d.mat3[5]=this.mat3[5],d.mat3[6]=this.mat3[6],d.mat3[7]=this.mat3[7],d.mat3[8]=this.mat3[8]):((d=new o.default.Matrix(this.p5)).mat4[0]=this.mat4[0],d.mat4[1]=this.mat4[1],d.mat4[2]=this.mat4[2],d.mat4[3]=this.mat4[3],d.mat4[4]=this.mat4[4],d.mat4[5]=this.mat4[5],d.mat4[6]=this.mat4[6],d.mat4[7]=this.mat4[7],d.mat4[8]=this.mat4[8],d.mat4[9]=this.mat4[9],d.mat4[10]=this.mat4[10],d.mat4[11]=this.mat4[11],d.mat4[12]=this.mat4[12],d.mat4[13]=this.mat4[13],d.mat4[14]=this.mat4[14],d.mat4[15]=this.mat4[15]),d}},{key:"transpose",value:function(d){var s,t,l,$,h,L;return d instanceof o.default.Matrix?(s=d.mat4[1],t=d.mat4[2],l=d.mat4[3],$=d.mat4[6],h=d.mat4[7],L=d.mat4[11],this.mat4[0]=d.mat4[0],this.mat4[1]=d.mat4[4],this.mat4[2]=d.mat4[8],this.mat4[3]=d.mat4[12],this.mat4[4]=s,this.mat4[5]=d.mat4[5],this.mat4[6]=d.mat4[9],this.mat4[7]=d.mat4[13],this.mat4[8]=t,this.mat4[9]=$,this.mat4[10]=d.mat4[10],this.mat4[11]=d.mat4[14],this.mat4[12]=l,this.mat4[13]=h,this.mat4[14]=L,this.mat4[15]=d.mat4[15]):c(d)&&(s=d[1],t=d[2],l=d[3],$=d[6],h=d[7],L=d[11],this.mat4[0]=d[0],this.mat4[1]=d[4],this.mat4[2]=d[8],this.mat4[3]=d[12],this.mat4[4]=s,this.mat4[5]=d[5],this.mat4[6]=d[9],this.mat4[7]=d[13],this.mat4[8]=t,this.mat4[9]=$,this.mat4[10]=d[10],this.mat4[11]=d[14],this.mat4[12]=l,this.mat4[13]=h,this.mat4[14]=L,this.mat4[15]=d[15]),this}},{key:"invert",value:function(j){j instanceof o.default.Matrix?(s=j.mat4[0],t=j.mat4[1],l=j.mat4[2],$=j.mat4[3],h=j.mat4[4],L=j.mat4[5],U=j.mat4[6],T=j.mat4[7],B=j.mat4[8],J=j.mat4[9],S=j.mat4[10],A=j.mat4[11],Q=j.mat4[12],M=j.mat4[13],k=j.mat4[14],C=j.mat4[15]):c(j)&&(s=j[0],t=j[1],l=j[2],$=j[3],h=j[4],L=j[5],U=j[6],T=j[7],B=j[8],J=j[9],S=j[10],A=j[11],Q=j[12],M=j[13],k=j[14],C=j[15]);var s,t,l,$,h,L,U,T,B,J,S,A,Q,M,k,C,j=s*L-t*h,G=s*U-l*h,y=s*T-$*h,g=t*U-l*L,N=t*T-$*L,w=l*T-$*U,ce=B*M-J*Q,F=B*k-S*Q,f=B*C-A*Q,E=J*k-S*M,Z=J*C-A*M,W=S*C-A*k,ee=j*W-G*Z+y*E+g*f-N*F+w*ce;return ee?(this.mat4[0]=(L*W-U*Z+T*E)*(ee=1/ee),this.mat4[1]=(l*Z-t*W-$*E)*ee,this.mat4[2]=(M*w-k*N+C*g)*ee,this.mat4[3]=(S*N-J*w-A*g)*ee,this.mat4[4]=(U*f-h*W-T*F)*ee,this.mat4[5]=(s*W-l*f+$*F)*ee,this.mat4[6]=(k*y-Q*w-C*G)*ee,this.mat4[7]=(B*w-S*y+A*G)*ee,this.mat4[8]=(h*Z-L*f+T*ce)*ee,this.mat4[9]=(t*f-s*Z-$*ce)*ee,this.mat4[10]=(Q*N-M*y+C*j)*ee,this.mat4[11]=(J*y-B*N-A*j)*ee,this.mat4[12]=(L*F-h*E-U*ce)*ee,this.mat4[13]=(s*E-t*F+l*ce)*ee,this.mat4[14]=(M*G-Q*g-k*j)*ee,this.mat4[15]=(B*g-J*G+S*j)*ee,this):null}},{key:"invert3x3",value:function(){var d=this.mat3[0],s=this.mat3[1],t=this.mat3[2],l=this.mat3[3],$=this.mat3[4],h=this.mat3[5],L=this.mat3[6],U=this.mat3[7],T=this.mat3[8],B=T*$-h*U,J=-T*l+h*L,S=U*l-$*L,A=d*B+s*J+t*S;return A?(this.mat3[0]=B*(A=1/A),this.mat3[1]=(-T*s+t*U)*A,this.mat3[2]=(h*s-t*$)*A,this.mat3[3]=J*A,this.mat3[4]=(T*d-t*L)*A,this.mat3[5]=(-h*d+t*l)*A,this.mat3[6]=S*A,this.mat3[7]=(-U*d+s*L)*A,this.mat3[8]=($*d-s*l)*A,this):null}},{key:"transpose3x3",value:function(d){var s=(d=d===void 0?this.mat3:d)[1],t=d[2],l=d[5];return this.mat3[0]=d[0],this.mat3[1]=d[3],this.mat3[2]=d[6],this.mat3[3]=s,this.mat3[4]=d[4],this.mat3[5]=d[7],this.mat3[6]=t,this.mat3[7]=l,this.mat3[8]=d[8],this}},{key:"inverseTranspose",value:function(d){if(d=d.mat4,this.mat3===void 0?o.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=d[0],this.mat3[1]=d[1],this.mat3[2]=d[2],this.mat3[3]=d[4],this.mat3[4]=d[5],this.mat3[5]=d[6],this.mat3[6]=d[8],this.mat3[7]=d[9],this.mat3[8]=d[10]),d=this.invert3x3(),d)d.transpose3x3(this.mat3);else for(var s=0;s<9;s++)this.mat3[s]=0;return this}},{key:"determinant",value:function(){var d=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],s=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],t=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],l=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],$=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],h=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],L=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],U=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],T=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],B=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],J=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return d*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-s*J+t*B+l*T-$*U+h*L}},{key:"mult",value:function(t){var s;if(t===this||t===this.mat4)s=this.copy().mat4;else if(t instanceof o.default.Matrix)s=t.mat4;else if(c(t))s=t;else{if(arguments.length!==16)return;s=arguments}var t=this.mat4[0],l=this.mat4[1],$=this.mat4[2],h=this.mat4[3];return this.mat4[0]=t*s[0]+l*s[4]+$*s[8]+h*s[12],this.mat4[1]=t*s[1]+l*s[5]+$*s[9]+h*s[13],this.mat4[2]=t*s[2]+l*s[6]+$*s[10]+h*s[14],this.mat4[3]=t*s[3]+l*s[7]+$*s[11]+h*s[15],t=this.mat4[4],l=this.mat4[5],$=this.mat4[6],h=this.mat4[7],this.mat4[4]=t*s[0]+l*s[4]+$*s[8]+h*s[12],this.mat4[5]=t*s[1]+l*s[5]+$*s[9]+h*s[13],this.mat4[6]=t*s[2]+l*s[6]+$*s[10]+h*s[14],this.mat4[7]=t*s[3]+l*s[7]+$*s[11]+h*s[15],t=this.mat4[8],l=this.mat4[9],$=this.mat4[10],h=this.mat4[11],this.mat4[8]=t*s[0]+l*s[4]+$*s[8]+h*s[12],this.mat4[9]=t*s[1]+l*s[5]+$*s[9]+h*s[13],this.mat4[10]=t*s[2]+l*s[6]+$*s[10]+h*s[14],this.mat4[11]=t*s[3]+l*s[7]+$*s[11]+h*s[15],t=this.mat4[12],l=this.mat4[13],$=this.mat4[14],h=this.mat4[15],this.mat4[12]=t*s[0]+l*s[4]+$*s[8]+h*s[12],this.mat4[13]=t*s[1]+l*s[5]+$*s[9]+h*s[13],this.mat4[14]=t*s[2]+l*s[6]+$*s[10]+h*s[14],this.mat4[15]=t*s[3]+l*s[7]+$*s[11]+h*s[15],this}},{key:"apply",value:function(t){var s;if(t===this||t===this.mat4)s=this.copy().mat4;else if(t instanceof o.default.Matrix)s=t.mat4;else if(c(t))s=t;else{if(arguments.length!==16)return;s=arguments}var t=this.mat4,l=t[0],$=t[4],h=t[8],L=t[12],l=(t[0]=s[0]*l+s[1]*$+s[2]*h+s[3]*L,t[4]=s[4]*l+s[5]*$+s[6]*h+s[7]*L,t[8]=s[8]*l+s[9]*$+s[10]*h+s[11]*L,t[12]=s[12]*l+s[13]*$+s[14]*h+s[15]*L,t[1]),$=t[5],h=t[9],L=t[13],l=(t[1]=s[0]*l+s[1]*$+s[2]*h+s[3]*L,t[5]=s[4]*l+s[5]*$+s[6]*h+s[7]*L,t[9]=s[8]*l+s[9]*$+s[10]*h+s[11]*L,t[13]=s[12]*l+s[13]*$+s[14]*h+s[15]*L,t[2]),$=t[6],h=t[10],L=t[14],l=(t[2]=s[0]*l+s[1]*$+s[2]*h+s[3]*L,t[6]=s[4]*l+s[5]*$+s[6]*h+s[7]*L,t[10]=s[8]*l+s[9]*$+s[10]*h+s[11]*L,t[14]=s[12]*l+s[13]*$+s[14]*h+s[15]*L,t[3]),$=t[7],h=t[11],L=t[15];return t[3]=s[0]*l+s[1]*$+s[2]*h+s[3]*L,t[7]=s[4]*l+s[5]*$+s[6]*h+s[7]*L,t[11]=s[8]*l+s[9]*$+s[10]*h+s[11]*L,t[15]=s[12]*l+s[13]*$+s[14]*h+s[15]*L,this}},{key:"scale",value:function(d,s,t){return d instanceof o.default.Vector?(s=d.y,t=d.z,d=d.x):d instanceof Array&&(s=d[1],t=d[2],d=d[0]),this.mat4[0]*=d,this.mat4[1]*=d,this.mat4[2]*=d,this.mat4[3]*=d,this.mat4[4]*=s,this.mat4[5]*=s,this.mat4[6]*=s,this.mat4[7]*=s,this.mat4[8]*=t,this.mat4[9]*=t,this.mat4[10]*=t,this.mat4[11]*=t,this}},{key:"rotate",value:function(j,Z,E,l){Z instanceof o.default.Vector?(E=Z.y,l=Z.z,Z=Z.x):Z instanceof Array&&(E=Z[1],l=Z[2],Z=Z[0]);var $=Math.sqrt(Z*Z+E*E+l*l),$=(Z*=1/$,E*=1/$,l*=1/$,this.mat4[0]),h=this.mat4[1],L=this.mat4[2],U=this.mat4[3],T=this.mat4[4],B=this.mat4[5],J=this.mat4[6],S=this.mat4[7],A=this.mat4[8],Q=this.mat4[9],M=this.mat4[10],k=this.mat4[11],C=Math.sin(j),j=Math.cos(j),G=1-j,y=Z*Z*G+j,g=E*Z*G+l*C,N=l*Z*G-E*C,w=Z*E*G-l*C,ce=E*E*G+j,F=l*E*G+Z*C,f=Z*l*G+E*C,E=E*l*G-Z*C,Z=l*l*G+j;return this.mat4[0]=$*y+T*g+A*N,this.mat4[1]=h*y+B*g+Q*N,this.mat4[2]=L*y+J*g+M*N,this.mat4[3]=U*y+S*g+k*N,this.mat4[4]=$*w+T*ce+A*F,this.mat4[5]=h*w+B*ce+Q*F,this.mat4[6]=L*w+J*ce+M*F,this.mat4[7]=U*w+S*ce+k*F,this.mat4[8]=$*f+T*E+A*Z,this.mat4[9]=h*f+B*E+Q*Z,this.mat4[10]=L*f+J*E+M*Z,this.mat4[11]=U*f+S*E+k*Z,this}},{key:"translate",value:function(l){var s=l[0],t=l[1],l=l[2]||0;this.mat4[12]+=this.mat4[0]*s+this.mat4[4]*t+this.mat4[8]*l,this.mat4[13]+=this.mat4[1]*s+this.mat4[5]*t+this.mat4[9]*l,this.mat4[14]+=this.mat4[2]*s+this.mat4[6]*t+this.mat4[10]*l,this.mat4[15]+=this.mat4[3]*s+this.mat4[7]*t+this.mat4[11]*l}},{key:"rotateX",value:function(d){this.rotate(d,1,0,0)}},{key:"rotateY",value:function(d){this.rotate(d,0,1,0)}},{key:"rotateZ",value:function(d){this.rotate(d,0,0,1)}},{key:"perspective",value:function($,s,t,l){var $=1/Math.tan($/2),h=1/(t-l);return this.mat4[0]=$/s,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=$,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(l+t)*h,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*l*t*h,this.mat4[15]=0,this}},{key:"ortho",value:function(d,s,t,l,$,h){var L=1/(d-s),U=1/(t-l),T=1/($-h);return this.mat4[0]=-2*L,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*U,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*T,this.mat4[11]=0,this.mat4[12]=(d+s)*L,this.mat4[13]=(l+t)*U,this.mat4[14]=(h+$)*T,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(d,s,t,l){var $=new Array(4),h=this.mat4;return $[0]=h[0]*d+h[4]*s+h[8]*t+h[12]*l,$[1]=h[1]*d+h[5]*s+h[9]*t+h[13]*l,$[2]=h[2]*d+h[6]*s+h[10]*t+h[14]*l,$[3]=h[3]*d+h[7]*s+h[11]*t+h[15]*l,$}},{key:"multiplyPoint",value:function(t){var l=t.x,s=t.y,t=t.z,l=this.multiplyVec4(l,s,t,1);return new o.default.Vector(l[0],l[1],l[2])}},{key:"multiplyAndNormalizePoint",value:function(t){var l=t.x,s=t.y,t=t.z,l=this.multiplyVec4(l,s,t,1);return l[0]/=l[3],l[1]/=l[3],l[2]/=l[3],new o.default.Vector(l[0],l[1],l[2])}},{key:"multiplyDirection",value:function(t){var l=t.x,s=t.y,t=t.z,l=this.multiplyVec4(l,s,t,0);return new o.default.Vector(l[0],l[1],l[2])}},{key:"mult3x3",value:function(t){var s;if(t===this||t===this.mat3)s=this.copy().mat3;else if(t instanceof o.default.Matrix)s=t.mat3;else if(c(t))s=t;else{if(arguments.length!==9)return;s=arguments}var t=this.mat3[0],l=this.mat3[1],$=this.mat3[2];return this.mat3[0]=t*s[0]+l*s[3]+$*s[6],this.mat3[1]=t*s[1]+l*s[4]+$*s[7],this.mat3[2]=t*s[2]+l*s[5]+$*s[8],t=this.mat3[3],l=this.mat3[4],$=this.mat3[5],this.mat3[3]=t*s[0]+l*s[3]+$*s[6],this.mat3[4]=t*s[1]+l*s[4]+$*s[7],this.mat3[5]=t*s[2]+l*s[5]+$*s[8],t=this.mat3[6],l=this.mat3[7],$=this.mat3[8],this.mat3[6]=t*s[0]+l*s[3]+$*s[6],this.mat3[7]=t*s[1]+l*s[4]+$*s[7],this.mat3[8]=t*s[2]+l*s[5]+$*s[8],this}},{key:"column",value:function(d){return new o.default.Vector(this.mat3[3*d],this.mat3[3*d+1],this.mat3[3*d+2])}},{key:"row",value:function(d){return new o.default.Vector(this.mat3[d],this.mat3[d+3],this.mat3[d+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(d,s){return(s=s===void 0?d.copy():s).x=this.row(0).dot(d),s.y=this.row(1).dot(d),s.z=this.row(2).dot(d),s}},{key:"createSubMatrix3x3",value:function(){var d=new o.default.Matrix("mat3");return d.mat3[0]=this.mat4[0],d.mat3[1]=this.mat4[1],d.mat3[2]=this.mat4[2],d.mat3[3]=this.mat4[4],d.mat3[4]=this.mat4[5],d.mat3[5]=this.mat4[6],d.mat3[6]=this.mat4[8],d.mat3[7]=this.mat4[9],d.mat3[8]=this.mat4[10],d}}])&&I(a.prototype,n),r&&I(a,r),P}(),o.default.Matrix);p.default=m},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(i,X,p){"use strict";Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};function I(D,c){for(var m=0;m<c.length;m++){var P=c[m];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}o.default.Quat=function(){function D(a,n,r,d){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function");this.w=a,this.vec=new o.default.Vector(n,r,d)}var c,m,P;return c=D,P=[{key:"fromAxisAngle",value:function(a,t,r,d){var s=Math.cos(a/2),t=new o.default.Vector(t,r,d).normalize().mult(Math.sin(a/2));return new o.default.Quat(s,t.x,t.y,t.z)}}],(m=[{key:"conjugate",value:function(){return new o.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(a){return new o.default.Quat(this.w*a.w-this.vec.x*a.vec.x-this.vec.y*a.vec.y-this.vec.z-a.vec.z,this.w*a.vec.x+this.vec.x*a.w+this.vec.y*a.vec.z-this.vec.z*a.vec.y,this.w*a.vec.y-this.vec.x*a.vec.z+this.vec.y*a.w+this.vec.z*a.vec.x,this.w*a.vec.z+this.vec.x*a.vec.y-this.vec.y*a.vec.x+this.vec.z*a.w)}},{key:"rotateVector",value:function(a){return new o.default.Vector.mult(a,this.w*this.w-this.vec.dot(this.vec)).add(o.default.Vector.mult(this.vec,2*a.dot(this.vec))).add(o.default.Vector.mult(this.vec,2*this.w).cross(a)).clampToZero()}},{key:"rotateBy",value:function(a){return a.multiply(this).multiply(a.conjugate()).vec.clampToZero()}}])&&I(c.prototype,m),P&&I(c,P),D}(),i=o.default.Quat,p.default=i},{"../core/main":283}],338:[function(i,X,p){"use strict";i("core-js/modules/es.array.map"),i("core-js/modules/es.array.map"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0,i=(i=i("../core/main"))&&i.__esModule?i:{default:i};function o(I,D){for(var c=0;c<D.length;c++){var m=D[c];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(I,m.key,m)}}i.default.RenderBuffer=function(){function I(P,a,n,r,d,s){if(!(this instanceof I))throw new TypeError("Cannot call a class as a function");this.size=P,this.src=a,this.dst=n,this.attr=r,this._renderer=d,this.map=s}var D,c,m;return D=I,(c=[{key:"_prepareBuffer",value:function(P,a){var n,r,d,l=a.attributes,s=this._renderer.GL,t=P.model||P,l=l[this.attr];l&&(n=P[this.dst],0<(r=t[this.src]).length?((d=!n)&&(P[this.dst]=n=s.createBuffer()),s.bindBuffer(s.ARRAY_BUFFER,n),!d&&t.dirtyFlags[this.src]===!1||(d=(P=this.map)?P(r):r,this._renderer._bindBuffer(n,s.ARRAY_BUFFER,d),t.dirtyFlags[this.src]=!1),a.enableAttrib(l,this.size)):(P=l.location)!==-1&&this._renderer.registerEnabled.has(P)&&(s.disableVertexAttribArray(P),this._renderer.registerEnabled.delete(P)))}}])&&o(D.prototype,c),m&&o(D,m),I}(),i=i.default.RenderBuffer,p.default=i},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(i,X,p){"use strict";function o(r){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d})(r)}function I(r){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(d){return o(d)}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":o(d)})(r)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.find-index"),i("core-js/modules/es.array.from"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.map"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.concat"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.find-index"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.map"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.map"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(n=i("../core/main"))&&n.__esModule?n:{default:n},c=function(r){if(r&&r.__esModule)return r;if(r===null||I(r)!=="object"&&typeof r!="function")return{default:r};var d=m();if(d&&d.has(r))return d.get(r);var s,t={},l=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(s in r){var $;Object.prototype.hasOwnProperty.call(r,s)&&(($=l?Object.getOwnPropertyDescriptor(r,s):null)&&($.get||$.set)?Object.defineProperty(t,s,$):t[s]=r[s])}return t.default=r,d&&d.set(r,t),t}(i("../core/constants"));function m(){var r;return typeof WeakMap!="function"?null:(r=new WeakMap,m=function(){return r},r)}function P(r){return function(d){if(Array.isArray(d)){for(var s=0,t=new Array(d.length);s<d.length;s++)t[s]=d[s];return t}}(r)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(r)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}i("./p5.RenderBuffer"),D.default.RendererGL.prototype.beginShape=function(r){return this.immediateMode.shapeMode=r!==void 0?r:c.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var a={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},n=(D.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==c.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},D.default.RendererGL.prototype.vertex=function(r,d){if(this.immediateMode.shapeMode===c.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var s in a){var t=a[s],s=this.immediateMode.geometry[s];s.push.apply(s,P(s.slice(s.length-3*t,s.length-2*t)).concat(P(s.slice(s.length-t,s.length))))}var l,$,h=l=$=0,L=(arguments.length===3?h=arguments[2]:arguments.length===4?(l=arguments[2],$=arguments[3]):arguments.length===5&&(h=arguments[2],l=arguments[3],$=arguments[4]),new D.default.Vector(r,d,h)),L=(this.immediateMode.geometry.vertices.push(L),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),L=(this.immediateMode.geometry.vertexColors.push(L[0],L[1],L[2],L[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(L[0],L[1],L[2],L[3]),this.textureMode!==c.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(l/=this._tex.width,$/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(l,$),this.immediateMode._bezierVertex[0]=r,this.immediateMode._bezierVertex[1]=d,this.immediateMode._bezierVertex[2]=h,this.immediateMode._quadraticVertex[0]=r,this.immediateMode._quadraticVertex[1]=d,this.immediateMode._quadraticVertex[2]=h,this},D.default.RendererGL.prototype.normal=function(r,d,s){return r instanceof D.default.Vector?this._currentNormal=r:this._currentNormal=new D.default.Vector(r,d,s),this},D.default.RendererGL.prototype.endShape=function(r,d,s,t,l,$){var h,L=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===c.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===c.TESS&&(this.immediateMode.shapeMode,c.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),h=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==c.LINE_STRIP&&this.immediateMode.shapeMode!==c.LINES||(this.immediateMode.shapeMode=c.TRIANGLE_FAN,h=!0),this.immediateMode.shapeMode===c.QUADS?this.immediateMode.shapeMode=c.TRIANGLES:this.immediateMode.shapeMode===c.QUAD_STRIP&&(this.immediateMode.shapeMode=c.TRIANGLE_STRIP),this._doFill&&!h&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(L),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},D.default.RendererGL.prototype._processVertices=function(r){var d;this.immediateMode.geometry.vertices.length!==0&&(d=this._doStroke,r=r===c.CLOSE,d&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,r),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),d=this.immediateMode.shapeMode===c.TESS,r=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||d||r)&&this.immediateMode.shapeMode!==c.LINES&&this._tesselateShape())},D.default.RendererGL.prototype._calculateEdges=function(r,d,s){var t=[],l=0,$=this.immediateMode.contourIndices.slice(),h=0;switch(r){case c.TRIANGLE_STRIP:for(l=0;l<d.length-2;l++)t.push([l,l+1]),t.push([l,l+2]);t.push([l,l+1]);break;case c.TRIANGLE_FAN:for(l=1;l<d.length-1;l++)t.push([0,l]),t.push([l,l+1]);t.push([0,d.length-1]);break;case c.TRIANGLES:for(l=0;l<d.length-2;l+=3)t.push([l,l+1]),t.push([l+1,l+2]),t.push([l+2,l]);break;case c.LINES:for(l=0;l<d.length-1;l+=2)t.push([l,l+1]);break;case c.QUADS:for(l=0;l<d.length-5;l+=6)t.push([l,l+1]),t.push([l+1,l+2]),t.push([l+3,l+5]),t.push([l+4,l+5]);break;case c.QUAD_STRIP:for(l=0;l<d.length-2;l+=2)t.push([l,l+1]),t.push([l,l+2]),t.push([l+1,l+3]);t.push([l,l+1]);break;default:for(l=0;l<d.length;l++)l+1<d.length&&l+1!==$[0]?t.push([l,l+1]):((s||h)&&t.push([l,h]),0<$.length&&(h=$.shift()))}return r!==c.TESS&&s&&t.push([d.length-1,0]),t},D.default.RendererGL.prototype._tesselateShape=function(){for(var r=this,d=(this.immediateMode.shapeMode=c.TRIANGLES,[[]]),s=0;s<this.immediateMode.geometry.vertices.length;s++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===s&&(this.immediateMode.contourIndices.shift(),d.push([])),d[d.length-1].push(this.immediateMode.geometry.vertices[s].x,this.immediateMode.geometry.vertices[s].y,this.immediateMode.geometry.vertices[s].z,this.immediateMode.geometry.uvs[2*s],this.immediateMode.geometry.uvs[2*s+1],this.immediateMode.geometry.vertexColors[4*s],this.immediateMode.geometry.vertexColors[4*s+1],this.immediateMode.geometry.vertexColors[4*s+2],this.immediateMode.geometry.vertexColors[4*s+3],this.immediateMode.geometry.vertexNormals[s].x,this.immediateMode.geometry.vertexNormals[s].y,this.immediateMode.geometry.vertexNormals[s].z);for(var t,l=this._triangulate(d),$=this.immediateMode.geometry.vertices,h=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),L=0,U=l.length;L<U;L+=D.default.RendererGL.prototype.tessyVertexSize)h.push.apply(h,P(l.slice(L+5,L+9))),this.normal.apply(this,P(l.slice(L+9,L+12))),this.vertex.apply(this,P(l.slice(L,L+5)));this.geometryBuilder&&(t=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(T){return T.map(function(B){if(!t.has(B)){var J=$[B],S=r.immediateMode.geometry.vertices.findIndex(function(G){return J.x===G.x&&J.y===G.y&&J.z===G.z});if(S===-1){for(var A=1/0,Q=0,M=0;M<r.immediateMode.geometry.vertices.length;M++){var C=r.immediateMode.geometry.vertices[M],j=J.x-C.x,k=J.y-C.y,C=J.z-C.z,j=j*j+k*k+C*C;j<A&&(A=j,Q=M)}S=Q}t.set(B,S)}return t.get(B)})})),this.immediateMode.geometry.vertexColors=h},D.default.RendererGL.prototype._drawImmediateFill=function(){var r,d=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,s=this.GL,t=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,r=this._getImmediateFillShader(),this._setFillUniforms(r),!0),l=!1,$=void 0;try{for(var h,L=this.immediateMode.buffers.fill[Symbol.iterator]();!(t=(h=L.next()).done);t=!0)h.value._prepareBuffer(this.immediateMode.geometry,r)}catch(U){l=!0,$=U}finally{try{t||L.return==null||L.return()}finally{if(l)throw $}}if(r.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),d===1)s.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{s.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,d)}catch{console.log("\u{1F338} p5.js says: Instancing is only supported in WebGL2 mode")}r.unbindShader()},D.default.RendererGL.prototype._drawImmediateStroke=function(){var r=this.GL,d=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),s=(this._setStrokeUniforms(d),!0),t=!1,l=void 0;try{for(var $,h=this.immediateMode.buffers.stroke[Symbol.iterator]();!(s=($=h.next()).done);s=!0)$.value._prepareBuffer(this.immediateMode.geometry,d)}catch(L){t=!0,l=L}finally{try{s||h.return==null||h.return()}finally{if(t)throw l}}d.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),r.drawArrays(r.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),d.unbindShader()},D.default.RendererGL);p.default=n},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(i,X,p){"use strict";function o(a){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(a)}function I(a){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(n){return o(n)}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":o(n)})(a)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.some"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.typed-array.float32-array"),i("core-js/modules/es.typed-array.uint16-array"),i("core-js/modules/es.typed-array.uint32-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.fill"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.some"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.typed-array.float32-array"),i("core-js/modules/es.typed-array.uint16-array"),i("core-js/modules/es.typed-array.uint32-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var D=(P=i("../core/main"))&&P.__esModule?P:{default:P},c=(i("./p5.RendererGL"),i("./p5.RenderBuffer"),function(a){if(a&&a.__esModule)return a;if(a===null||I(a)!=="object"&&typeof a!="function")return{default:a};var n=m();if(n&&n.has(a))return n.get(a);var r,d={},s=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(r in a){var t;Object.prototype.hasOwnProperty.call(a,r)&&((t=s?Object.getOwnPropertyDescriptor(a,r):null)&&(t.get||t.set)?Object.defineProperty(d,r,t):d[r]=a[r])}return d.default=a,n&&n.set(a,d),d}(i("../core/constants")));function m(){var a;return typeof WeakMap!="function"?null:(a=new WeakMap,m=function(){return a},a)}D.default.RendererGL.prototype.freeGeometry=function(a){a.gid?this._freeBuffers(a.gid):console.warn("The model you passed to freeGeometry does not have an id!")},D.default.RendererGL.prototype._initBufferDefaults=function(a){var n;return this._freeBuffers(a),1e3<Object.keys(this.retainedMode.geometry).length&&(n=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(n)),this.retainedMode.geometry[a]={}},D.default.RendererGL.prototype._freeBuffers=function(a){var n,r=this.retainedMode.geometry[a];function d(s){var t=!0,l=!1,$=void 0;try{for(var h,L=s[Symbol.iterator]();!(t=(h=L.next()).done);t=!0){var U=h.value;r[U.dst]&&(n.deleteBuffer(r[U.dst]),r[U.dst]=null)}}catch(T){l=!0,$=T}finally{try{t||L.return==null||L.return()}finally{if(l)throw $}}}r&&(delete this.retainedMode.geometry[a],n=this.GL,r.indexBuffer&&n.deleteBuffer(r.indexBuffer),d(this.retainedMode.buffers.stroke),d(this.retainedMode.buffers.fill))},D.default.RendererGL.prototype.createBuffers=function(l,n){var r,d,s,t=this.GL,l=this._initBufferDefaults(l),$=(l.model=n,l.indexBuffer);return n.faces.length?($=$||(l.indexBuffer=t.createBuffer()),s=(d=(r=D.default.RendererGL.prototype._flatten(n.faces)).some(function(h){return 65535<h}))?Uint32Array:Uint16Array,this._bindBuffer($,t.ELEMENT_ARRAY_BUFFER,r,s),l.indexBufferType=d?t.UNSIGNED_INT:t.UNSIGNED_SHORT,l.vertexCount=3*n.faces.length):($&&(t.deleteBuffer($),l.indexBuffer=null),l.vertexCount=n.vertices?n.vertices.length:0),l.lineVertexCount=n.lineVertices?n.lineVertices.length/3:0,l},D.default.RendererGL.prototype.drawBuffers=function(a){var n=this.GL,r=this.retainedMode.geometry[a];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[a].vertexCount){this._useVertexColor=0<r.model.vertexColors.length;var d=this._getRetainedFillShader(),s=(this._setFillUniforms(d),!0),t=!1,l=void 0;try{for(var $,h=this.retainedMode.buffers.fill[Symbol.iterator]();!(s=($=h.next()).done);s=!0)$.value._prepareBuffer(r,d)}catch(J){t=!0,l=J}finally{try{s||h.return==null||h.return()}finally{if(t)throw l}}d.disableRemainingAttributes(),r.indexBuffer&&this._bindBuffer(r.indexBuffer,n.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,r.model.hasFillTransparency()),this._drawElements(n.TRIANGLES,a),d.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<r.lineVertexCount){this._useLineColor=0<r.model.vertexStrokeColors.length;var L=this._getRetainedStrokeShader(),U=(this._setStrokeUniforms(L),!0),t=!1,l=void 0;try{for(var T,B=this.retainedMode.buffers.stroke[Symbol.iterator]();!(U=(T=B.next()).done);U=!0)T.value._prepareBuffer(r,L)}catch(A){t=!0,l=A}finally{try{U||B.return==null||B.return()}finally{if(t)throw l}}L.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,r.model.hasStrokeTransparency()),this._drawArrays(n.TRIANGLES,a),L.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(r),this},D.default.RendererGL.prototype.drawBuffersScaled=function(a,n,r,d){var s=this.uModelMatrix.copy();try{this.uModelMatrix.scale(n,r,d),this.drawBuffers(a)}finally{this.uModelMatrix=s}},D.default.RendererGL.prototype._drawArrays=function(a,n){return this.GL.drawArrays(a,0,this.retainedMode.geometry[n].lineVertexCount),this},D.default.RendererGL.prototype._drawElements=function(a,r){var r=this.retainedMode.geometry[r],d=this.GL;if(r.indexBuffer){if(this._pInst.webglVersion!==c.WEBGL2&&r.indexBufferType===d.UNSIGNED_INT&&!d.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");d.drawElements(d.TRIANGLES,r.vertexCount,r.indexBufferType,0)}else d.drawArrays(a||d.TRIANGLES,0,r.vertexCount)},D.default.RendererGL.prototype._drawPoints=function(a,n){var r=this.GL,d=this._getImmediatePointShader();this._setPointUniforms(d),this._bindBuffer(n,r.ARRAY_BUFFER,this._vToNArray(a),Float32Array,r.STATIC_DRAW),d.enableAttrib(d.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),r.drawArrays(r.Points,0,a.length),d.unbindShader()};var P=D.default.RendererGL;p.default=P},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(M,X,p){"use strict";function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(N){return typeof N}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":typeof N})(g)}function I(g){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(N){return o(N)}:function(N){return N&&typeof Symbol=="function"&&N.constructor===Symbol&&N!==Symbol.prototype?"symbol":o(N)})(g)}M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.concat"),M("core-js/modules/es.array.copy-within"),M("core-js/modules/es.array.every"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.flat"),M("core-js/modules/es.array.flat-map"),M("core-js/modules/es.array.from"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.array.map"),M("core-js/modules/es.array.slice"),M("core-js/modules/es.array.some"),M("core-js/modules/es.array.unscopables.flat"),M("core-js/modules/es.array.unscopables.flat-map"),M("core-js/modules/es.map"),M("core-js/modules/es.object.assign"),M("core-js/modules/es.object.get-own-property-descriptor"),M("core-js/modules/es.object.get-prototype-of"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.reflect.construct"),M("core-js/modules/es.reflect.get"),M("core-js/modules/es.regexp.to-string"),M("core-js/modules/es.set"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.float64-array"),M("core-js/modules/es.typed-array.int16-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint16-array"),M("core-js/modules/es.typed-array.uint32-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/es.weak-map"),M("core-js/modules/web.dom-collections.iterator"),M("core-js/modules/es.symbol"),M("core-js/modules/es.symbol.description"),M("core-js/modules/es.symbol.iterator"),M("core-js/modules/es.array.concat"),M("core-js/modules/es.array.copy-within"),M("core-js/modules/es.array.every"),M("core-js/modules/es.array.fill"),M("core-js/modules/es.array.flat"),M("core-js/modules/es.array.flat-map"),M("core-js/modules/es.array.from"),M("core-js/modules/es.array.includes"),M("core-js/modules/es.array.iterator"),M("core-js/modules/es.array.map"),M("core-js/modules/es.array.slice"),M("core-js/modules/es.array.some"),M("core-js/modules/es.array.unscopables.flat"),M("core-js/modules/es.array.unscopables.flat-map"),M("core-js/modules/es.map"),M("core-js/modules/es.object.assign"),M("core-js/modules/es.object.to-string"),M("core-js/modules/es.set"),M("core-js/modules/es.string.includes"),M("core-js/modules/es.string.iterator"),M("core-js/modules/es.typed-array.float32-array"),M("core-js/modules/es.typed-array.float64-array"),M("core-js/modules/es.typed-array.int16-array"),M("core-js/modules/es.typed-array.uint8-array"),M("core-js/modules/es.typed-array.uint16-array"),M("core-js/modules/es.typed-array.uint32-array"),M("core-js/modules/es.typed-array.copy-within"),M("core-js/modules/es.typed-array.every"),M("core-js/modules/es.typed-array.fill"),M("core-js/modules/es.typed-array.filter"),M("core-js/modules/es.typed-array.find"),M("core-js/modules/es.typed-array.find-index"),M("core-js/modules/es.typed-array.for-each"),M("core-js/modules/es.typed-array.includes"),M("core-js/modules/es.typed-array.index-of"),M("core-js/modules/es.typed-array.iterator"),M("core-js/modules/es.typed-array.join"),M("core-js/modules/es.typed-array.last-index-of"),M("core-js/modules/es.typed-array.map"),M("core-js/modules/es.typed-array.reduce"),M("core-js/modules/es.typed-array.reduce-right"),M("core-js/modules/es.typed-array.reverse"),M("core-js/modules/es.typed-array.set"),M("core-js/modules/es.typed-array.slice"),M("core-js/modules/es.typed-array.some"),M("core-js/modules/es.typed-array.sort"),M("core-js/modules/es.typed-array.subarray"),M("core-js/modules/es.typed-array.to-locale-string"),M("core-js/modules/es.typed-array.to-string"),M("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.readPixelsWebGL=G,p.readPixelWebGL=y,p.default=void 0;var D=r(M("../core/main")),c=function(g){if(g&&g.__esModule)return g;if(g===null||I(g)!=="object"&&typeof g!="function")return{default:g};var N=n();if(N&&N.has(g))return N.get(g);var w,ce={},F=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(w in g){var f;Object.prototype.hasOwnProperty.call(g,w)&&((f=F?Object.getOwnPropertyDescriptor(g,w):null)&&(f.get||f.set)?Object.defineProperty(ce,w,f):ce[w]=g[w])}return ce.default=g,N&&N.set(g,ce),ce}(M("../core/constants")),m=r(M("./GeometryBuilder")),P=r(M("libtess")),a=(M("./p5.Shader"),M("./p5.Camera"),M("../core/p5.Renderer"),M("./p5.Matrix"),M("./p5.Framebuffer"),M("path"),M("./p5.Texture"));function n(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,n=function(){return g},g)}function r(g){return g&&g.__esModule?g:{default:g}}function d(g){return function(N){if(Array.isArray(N)){for(var w=0,ce=new Array(N.length);w<N.length;w++)ce[w]=N[w];return ce}}(g)||function(N){if(Symbol.iterator in Object(N)||Object.prototype.toString.call(N)==="[object Arguments]")return Array.from(N)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(g,N){for(var w=0;w<N.length;w++){var ce=N[w];ce.enumerable=ce.enumerable||!1,ce.configurable=!0,"value"in ce&&(ce.writable=!0),Object.defineProperty(g,ce.key,ce)}}function t(g,N,w){return(t=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(E,F,f){var E=function(Z,W){for(;!Object.prototype.hasOwnProperty.call(Z,W)&&(Z=L(Z))!==null;);return Z}(E,F);if(E)return(E=Object.getOwnPropertyDescriptor(E,F)).get?E.get.call(f):E.value})(g,N,w||g)}function l(g,N){return(l=Object.setPrototypeOf||function(w,ce){return w.__proto__=ce,w})(g,N)}function $(g){return function(){var N,w,ce=L(g);return N=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(N=L(this).constructor,Reflect.construct(ce,arguments,N)):ce.apply(this,arguments),ce=this,!(w=N)||I(w)!=="object"&&typeof w!="function"?h(ce):w}}function h(g){if(g===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g}function L(g){return(L=Object.setPrototypeOf?Object.getPrototypeOf:function(N){return N.__proto__||Object.getPrototypeOf(N)})(g)}function U(g,N,w){N in g?Object.defineProperty(g,N,{value:w,enumerable:!0,configurable:!0,writable:!0}):g[N]=w}function T(g,N){Q+="#define STROKE_CAP_".concat(g," ").concat(N,`
`),S[c[g]]=N}function B(g,N){Q+="#define STROKE_JOIN_".concat(g," ").concat(N,`
`),A[c[g]]=N}var J,S={},A={},Q="",M=(T("ROUND",0),T("PROJECT",1),T("SQUARE",2),B("ROUND",0),B("MITER",1),B("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float metallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;
// roughness for use in calculateImageSpecular
uniform float levelOfDetail;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, uShininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse( vec3 vNormal, vec3 vViewPosition ){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular( vec3 vNormal, vec3 vViewPosition ){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, levelOfDetail);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition);
    totalSpecular += calculateImageSpecular(normal, modelPosition);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),k={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vVertexNormal = normalize(vec3( uNormalMatrix * aNormal ));
  vVertTexCoord = aTexCoord;
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  OUT_COLOR = vec4(vVertexNormal, 1.0);
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,lightVert:M+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = uNormalMatrix * aNormal;
  vTexCoord = aTexCoord;

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,phongFrag:M+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

void main(void) {

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, normalize(vNormal), diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec4 baseColor = isTexture
    // Textures come in with premultiplied alpha. To apply tint and still have
    // premultiplied alpha output, we need to multiply the RGB channels by the
    // tint RGB, and all channels by the tint alpha.
    ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
    // Colors come in with unmultiplied alpha, so we need to multiply the RGB
    // channels by alpha to convert it to premultiplied alpha.
    : vec4(vColor.rgb * vColor.a, vColor.a);
  OUT_COLOR = vec4(diffuse * baseColor.rgb + 
                    vAmbientColor * (
                      uHasSetAmbient ? uAmbientMatColor.rgb : baseColor.rgb
                    ) + 
                    specular * uSpecularMatColor.rgb + 
                    uEmissiveMatColor.rgb, baseColor.a);
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:Q+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 posp = uModelViewMatrix * aPosition;
  vec4 posqIn = uModelViewMatrix * (aPosition + vec4(aTangentIn, 0));
  vec4 posqOut = uModelViewMatrix * (aPosition + vec4(aTangentOut, 0));

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // This prevents popping effects due to half of
  // the line disappearing behind the geometry faces.
  
  float zOffset = mix(-0.00045, -1., facingCamera);
  posp.z -= zOffset;
  posqIn.z -= zOffset;
  posqOut.z -= zOffset;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = p.xy;

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * uStrokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * uStrokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * uStrokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * uStrokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * uStrokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * uStrokeWeight / 2.));
    } else {
      vMaxDist = uStrokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      uStrokeWeight * 0.5;
    vMaxDist = uStrokeWeight / 2.;
  }
  vPosition = vCenter + offset;

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = (uUseLineColor ? aVertexColor : uMaterialColor);
}
`,lineFrag:Q+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;
uniform float uStrokeWeight;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

void main() {
  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      dot(vPosition - vCenter, vTangent) > 0.
    ) {
      discard;
    }
    // Use full area for PROJECT
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      distSquared(vPosition, vCenter) > uStrokeWeight * uStrokeWeight * 0.25
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-vTangent.y, vTangent.x);
      if (abs(dot(vPosition - vCenter, normal)) > vMaxDist) {
        discard;
      }
    }
    // Use full area for MITER
  }
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
void main() {
	vec4 positionVec4 =  vec4(aPosition, 1.0);
	gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
	gl_PointSize = uPointSize;
	vStrokeWeight = uPointSize;
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(mask > 0.98){
    discard;
  }

  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},C=k.sphereMappingFrag;for(J in k)k[J]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+k[J];U(M={},c.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),U(M,c.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),U(M,c.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),U(M,c.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),U(M,c.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),U(M,c.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),U(M,c.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),U(M,c.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var j=M;function G(g,N,$e,ce,F,f,E,Z,W,ee){var De=N.getParameter(N.FRAMEBUFFER_BINDING),$e=(N.bindFramebuffer(N.FRAMEBUFFER,$e),Z===N.RGBA?4:3),te=f*E*$e,de=W===N.UNSIGNED_BYTE?Uint8Array:Float32Array;if(g instanceof de&&g.length===te||(g=new de(te)),N.readPixels(ce,ee?ee-F-E:F,f,E,Z,W,g),N.bindFramebuffer(N.FRAMEBUFFER,De),ee)for(var ne=Math.floor(E/2),z=new de(f*$e),oe=0;oe<ne;oe++){var he=oe*f*4,Je=(E-oe-1)*f*4;z.set(g.subarray(he,he+4*f)),g.copyWithin(he,Je,Je+4*f),g.set(z,Je)}return g}function y(g,W,w,ce,F,f,E){var Z=g.getParameter(g.FRAMEBUFFER_BINDING),W=(g.bindFramebuffer(g.FRAMEBUFFER,W),F===g.RGBA?4:3),W=new(f===g.UNSIGNED_BYTE?Uint8Array:Float32Array)(W);return g.readPixels(w,E?E-ce-1:ce,1,1,F,f,W),g.bindFramebuffer(g.FRAMEBUFFER,Z),Array.from(W)}D.default.prototype.setAttributes=function(g,N){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var w=!0;if(N!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[g]!==N&&(this._glAttributes[g]=N,w=!1)):g instanceof Object&&this._glAttributes!==g&&(this._glAttributes=g,w=!1),this._renderer.isP3D&&!w){if(!this._setupDone){for(var ce in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ce))return void D.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},D.default.RendererGL=function(g){var N=F;if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function");N.prototype=Object.create(g&&g.prototype,{constructor:{value:N,writable:!0,configurable:!0}}),g&&l(N,g);var w,ce=$(F);function F(f,E,Z,W){if(this instanceof F)return(f=ce.call(this,f,E,Z))._setAttributeDefaults(E),f._initContext(),f.isP3D=!0,f.geometryBuilder=void 0,f.GL=f.drawingContext,f._pInst._setProperty("drawingContext",f.drawingContext),f._isErasing=!1,f._clipDepths=[],f._isClipApplied=!1,f._stencilTestOn=!1,f._enableLighting=!1,f.ambientLightColors=[],f.mixedAmbientLight=[],f.mixedSpecularColor=[],f.specularColors=[1,1,1],f.directionalLightDirections=[],f.directionalLightDiffuseColors=[],f.directionalLightSpecularColors=[],f.pointLightPositions=[],f.pointLightDiffuseColors=[],f.pointLightSpecularColors=[],f.spotLightPositions=[],f.spotLightDirections=[],f.spotLightDiffuseColors=[],f.spotLightSpecularColors=[],f.spotLightAngle=[],f.spotLightConc=[],f.activeImageLight=null,f.diffusedTextures=new Map,f.specularTextures=new Map,f.drawMode=c.FILL,f.curFillColor=f._cachedFillStyle=[1,1,1,1],f.curAmbientColor=f._cachedFillStyle=[1,1,1,1],f.curSpecularColor=f._cachedFillStyle=[0,0,0,0],f.curEmissiveColor=f._cachedFillStyle=[0,0,0,0],f.curStrokeColor=f._cachedStrokeStyle=[0,0,0,1],f.curBlendMode=c.BLEND,f.preEraseBlend=void 0,f._cachedBlendMode=void 0,f.webglVersion===c.WEBGL2?f.blendExt=f.GL:f.blendExt=f.GL.getExtension("EXT_blend_minmax"),f._isBlending=!1,f._hasSetAmbient=!1,f._useSpecularMaterial=!1,f._useEmissiveMaterial=!1,f._useNormalMaterial=!1,f._useShininess=1,f._useMetalness=0,f._useLineColor=!1,f._useVertexColor=!1,f.registerEnabled=new Set,f._tint=[255,255,255,255],f.constantAttenuation=1,f.linearAttenuation=0,f.quadraticAttenuation=0,f.uModelMatrix=new D.default.Matrix,f.uViewMatrix=new D.default.Matrix,f.uMVMatrix=new D.default.Matrix,f.uPMatrix=new D.default.Matrix,f.uNMatrix=new D.default.Matrix("mat3"),f.curMatrix=new D.default.Matrix("mat3"),f._currentNormal=new D.default.Vector(0,0,1),f._curCamera=new D.default.Camera(h(f)),f._curCamera._computeCameraDefaultSettings(),f._curCamera._setDefaultCamera(),f.filterCamera=new D.default.Camera(h(f)),f.filterCamera._computeCameraDefaultSettings(),f.filterCamera._setDefaultCamera(),f.prevTouches=[],f.zoomVelocity=0,f.rotateVelocity=new D.default.Vector(0,0),f.moveVelocity=new D.default.Vector(0,0),f.executeZoom=!1,f.executeRotateAndMove=!1,f.specularShader=void 0,f.sphereMapping=void 0,f.diffusedShader=void 0,f._defaultLightShader=void 0,f._defaultImmediateModeShader=void 0,f._defaultNormalShader=void 0,f._defaultColorShader=void 0,f._defaultPointShader=void 0,f.userFillShader=void 0,f.userStrokeShader=void 0,f.userPointShader=void 0,f.retainedMode={geometry:{},buffers:{stroke:[new D.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",h(f)),new D.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",h(f)),new D.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",h(f)),new D.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",h(f)),new D.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",h(f))],fill:[new D.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(f),f._vToNArray),new D.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",h(f),f._vToNArray),new D.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",h(f)),new D.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",h(f)),new D.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(f),f._flatten)],text:[new D.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(f),f._vToNArray),new D.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(f),f._flatten)]}},f.immediateMode={geometry:new D.default.Geometry,shapeMode:c.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new D.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",h(f),f._vToNArray),new D.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",h(f),f._vToNArray),new D.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",h(f)),new D.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",h(f)),new D.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",h(f),f._flatten)],stroke:[new D.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",h(f)),new D.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",h(f)),new D.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",h(f)),new D.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",h(f)),new D.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",h(f))],point:f.GL.createBuffer()}},f.pointSize=5,f.curStrokeWeight=1,f.curStrokeCap=c.ROUND,f.curStrokeJoin=c.ROUND,f.textures=new Map,f.framebuffers=new Set,f.activeFramebuffers=[],f.filterShader=void 0,f.filterLayer=void 0,f.filterLayerTemp=void 0,f.defaultFilterShaders={},f.textureMode=c.IMAGE,f.textureWrapX=c.CLAMP,f.textureWrapY=c.CLAMP,f._tex=null,f._curveTightness=6,f._lookUpTableBezier=[],f._lookUpTableQuadratic=[],f._lutBezierDetail=0,f._lutQuadraticDetail=0,f.isProcessingVertices=!1,f._tessy=f._initTessy(),f.fontInfos={},f._curShader=void 0,f;throw new TypeError("Cannot call a class as a function")}return N=F,(g=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new m.default(this)}},{key:"endGeometry",value:function(){var f;if(this.geometryBuilder)return f=this.geometryBuilder.finish(),this.geometryBuilder=void 0,f;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(f){return this.beginGeometry(),f(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(f){var E={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};f._glAttributes===null?f._glAttributes=E:f._glAttributes=Object.assign(E,f._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?c.WEBGL2:c.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var f=this.drawingContext;f.enable(f.DEPTH_TEST),f.depthFunc(f.LEQUAL),f.viewport(0,0,f.drawingBufferWidth,f.drawingBufferHeight),f.pixelStorei(f.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var f=this.drawingContext;return f.getParameter(f.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(f,E){this._maxTextureSize||(this._maxTextureSize=this._getParam());var W=this._maxTextureSize,W=(D.default.prototype._maxAllowedPixelDimensions,Math.floor(W/this.pixelDensity())),Z=Math.min(f,W),W=Math.min(E,W);return Z===f&&W===E||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(Z,", height: ").concat(W,".")),{adjustedWidth:Z,adjustedHeight:W}}},{key:"_resetContext",value:function(f,E){var Z,W=this.width,ee=this.height,$e=this.canvas.id,De=this._pInst instanceof D.default.Graphics,$e=(De?((Z=this._pInst).canvas.parentNode.removeChild(Z.canvas),Z.canvas=document.createElement("canvas"),(Z._pInst._userNode||document.body).appendChild(Z.canvas),D.default.Element.call(Z,Z.canvas,Z._pInst),Z.width=W,Z.height=ee):((Z=this.canvas)&&Z.parentNode.removeChild(Z),(Z=document.createElement("canvas")).id=$e,(this._pInst._userNode||document.body).appendChild(Z),this._pInst.canvas=Z,this.canvas=Z),new D.default.RendererGL(this._pInst.canvas,this._pInst,!De));this._pInst._setProperty("_renderer",$e),$e.resize(W,ee),$e._applyDefaults(),De||this._pInst._elements.push($e),typeof E=="function"&&setTimeout(function(){E.apply(window._renderer,f)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var W=(W=this._pInst).color.apply(W,arguments),f=W.levels[0]/255,E=W.levels[1]/255,Z=W.levels[2]/255,W=W.levels[3]/255;this.clear(f,E,Z,W)}},{key:"fill",value:function(f,E,Z,W){var ee=D.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ee._array,this.drawMode=c.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(f,E,Z,W){var ee=D.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ee._array}},{key:"strokeCap",value:function(f){this.curStrokeCap=f}},{key:"strokeJoin",value:function(f){this.curStrokeJoin=f}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(f,E){f.width===E.width&&f.height===E.height||f.resize(E.width,E.height),f.pixelDensity()!==E.pixelDensity()&&f.pixelDensity(E.pixelDensity())}},{key:"filter",value:function(){var f,E,Z=this,W=this.getFilterLayer(),ee=void 0,De=void 0,$e=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(De=arguments.length<=0?void 0:arguments[0],U(f={},c.BLUR,3),U(f,c.POSTERIZE,4),U(f,c.THRESHOLD,.5),ee=De in(f=f)&&(arguments.length<=1?void 0:arguments[1])===void 0?f[De]:arguments.length<=1?void 0:arguments[1],De in this.defaultFilterShaders||(this.defaultFilterShaders[De]=new D.default.Shader(W._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,j[De])),this.filterShader=this.defaultFilterShaders[De]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),te=(this.matchSize(W,$e),W.draw(function(){return Z._pInst.clear()}),[1/($e.width*$e.pixelDensity()),1/($e.height*$e.pixelDensity())]);De===c.BLUR?(E=this.getFilterLayerTemp(),this.matchSize(E,$e),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(c.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",te),this.filterShader.setUniform("canvasSize",[$e.width,$e.height]),this.filterShader.setUniform("radius",Math.max(1,ee)),E.draw(function(){Z.filterShader.setUniform("direction",[1,0]),Z.filterShader.setUniform("tex0",$e),Z._pInst.clear(),Z._pInst.shader(Z.filterShader),Z._pInst.noLights(),Z._pInst.plane($e.width,$e.height)}),W.draw(function(){Z.filterShader.setUniform("direction",[0,1]),Z.filterShader.setUniform("tex0",E),Z._pInst.clear(),Z._pInst.shader(Z.filterShader),Z._pInst.noLights(),Z._pInst.plane($e.width,$e.height)}),this._pInst.pop()):W.draw(function(){Z._pInst.noStroke(),Z._pInst.blendMode(c.BLEND),Z._pInst.shader(Z.filterShader),Z.filterShader.setUniform("tex0",$e),Z.filterShader.setUniform("texelSize",te),Z.filterShader.setUniform("canvasSize",[$e.width,$e.height]),Z.filterShader.setUniform("filterParameter",ee),Z._pInst.noLights(),Z._pInst.plane($e.width,$e.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(c.CORNER),this._pInst.blendMode(c.BLEND),$e.filterCamera._resize(),this._pInst.setCamera($e.filterCamera),this._pInst.resetMatrix(),this._pInst.image(W,-$e.width/2,-$e.height/2,$e.width,$e.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(f){return f?this._pInst.pixelDensity(f):this._pInst.pixelDensity()}},{key:"blendMode",value:function(f){f===c.DARKEST||f===c.LIGHTEST||f===c.ADD||f===c.BLEND||f===c.SUBTRACT||f===c.SCREEN||f===c.EXCLUSION||f===c.REPLACE||f===c.MULTIPLY||f===c.REMOVE?this.curBlendMode=f:f!==c.BURN&&f!==c.OVERLAY&&f!==c.HARD_LIGHT&&f!==c.SOFT_LIGHT&&f!==c.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(f,E){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(c.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,f/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,E/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var f=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},f=(t(L(F.prototype),"beginClip",this).call(this,f),this.drawTarget()._isClipApplied=!0,this.GL);f.clearStencil(0),f.clear(f.STENCIL_BUFFER_BIT),f.enable(f.STENCIL_TEST),this._stencilTestOn=!0,f.stencilFunc(f.ALWAYS,1,255),f.stencilOp(f.KEEP,f.KEEP,f.REPLACE),f.disable(f.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var f=this.GL;f.stencilOp(f.KEEP,f.KEEP,f.KEEP),f.stencilFunc(this._clipInvert?f.EQUAL:f.NOTEQUAL,0,255),f.enable(f.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),t(L(F.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(f){this.curStrokeWeight!==f&&(this.pointSize=f,this.curStrokeWeight=f)}},{key:"_getPixel",value:function(f,E){var Z=this.GL;return y(Z,null,f,E,Z.RGBA,Z.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var f,E,Z=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(f=this._pInst._pixelDensity,E=this.GL,Z._setProperty("pixels",G(Z.pixels,E,null,0,0,this.width*f,this.height*f,E.RGBA,E.UNSIGNED_BYTE,this.height*f)))}},{key:"updatePixels",value:function(){var f=this._getTempFramebuffer();f.pixels=this._pixelsState.pixels,f.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(c.CENTER),this._pInst.image(f,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:c.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:c.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(f){return this.retainedMode.geometry[f]!==void 0}},{key:"viewport",value:function(f,E){this._viewport=[0,0,f,E],this.GL.viewport(0,0,f,E)}},{key:"resize",value:function(ee,W){D.default.Renderer.prototype.resize.call(this,ee,W),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ee=this._pixelsState,Z=(ee.pixels!==void 0&&ee._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),W=!1,ee=void 0;try{for(var De,$e=this.framebuffers[Symbol.iterator]();!(Z=(De=$e.next()).done);Z=!0)De.value._canvasSizeChanged()}catch(te){W=!0,ee=te}finally{try{Z||$e.return==null||$e.return()}finally{if(W)throw ee}}}},{key:"clear",value:function(){var f=(arguments.length<=0?void 0:arguments[0])||0,E=(arguments.length<=1?void 0:arguments[1])||0,Z=(arguments.length<=2?void 0:arguments[2])||0,W=(arguments.length<=3?void 0:arguments[3])||0,ee=this.activeFramebuffer();ee&&ee.format===c.UNSIGNED_BYTE&&!ee.antialias&&W===0&&(W=1e-10),this.GL.clearColor(f*W,E*W,Z*W,W),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(f,E,Z,W,ee,De){arguments.length===16?D.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([f,E,0,0,Z,W,0,0,0,0,1,0,ee,De,0,1])}},{key:"translate",value:function(f,E,Z){return f instanceof D.default.Vector&&(Z=f.z,E=f.y,f=f.x),this.uModelMatrix.translate([f,E,Z]),this}},{key:"scale",value:function(f,E,Z){return this.uModelMatrix.scale(f,E,Z),this}},{key:"rotate",value:function(f,E){return E===void 0?this.rotateZ(f):(D.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(f){return this.rotate(f,1,0,0),this}},{key:"rotateY",value:function(f){return this.rotate(f,0,1,0),this}},{key:"rotateZ",value:function(f){return this.rotate(f,0,0,1),this}},{key:"push",value:function(){var f=D.default.Renderer.prototype.push.apply(this),E=f.properties;return E.uModelMatrix=this.uModelMatrix.copy(),E.uViewMatrix=this.uViewMatrix.copy(),E.uPMatrix=this.uPMatrix.copy(),E._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),E.ambientLightColors=this.ambientLightColors.slice(),E.specularColors=this.specularColors.slice(),E.directionalLightDirections=this.directionalLightDirections.slice(),E.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),E.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),E.pointLightPositions=this.pointLightPositions.slice(),E.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),E.pointLightSpecularColors=this.pointLightSpecularColors.slice(),E.spotLightPositions=this.spotLightPositions.slice(),E.spotLightDirections=this.spotLightDirections.slice(),E.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),E.spotLightSpecularColors=this.spotLightSpecularColors.slice(),E.spotLightAngle=this.spotLightAngle.slice(),E.spotLightConc=this.spotLightConc.slice(),E.userFillShader=this.userFillShader,E.userStrokeShader=this.userStrokeShader,E.userPointShader=this.userPointShader,E.pointSize=this.pointSize,E.curStrokeWeight=this.curStrokeWeight,E.curStrokeColor=this.curStrokeColor,E.curFillColor=this.curFillColor,E.curAmbientColor=this.curAmbientColor,E.curSpecularColor=this.curSpecularColor,E.curEmissiveColor=this.curEmissiveColor,E._hasSetAmbient=this._hasSetAmbient,E._useSpecularMaterial=this._useSpecularMaterial,E._useEmissiveMaterial=this._useEmissiveMaterial,E._useShininess=this._useShininess,E._useMetalness=this._useMetalness,E.constantAttenuation=this.constantAttenuation,E.linearAttenuation=this.linearAttenuation,E.quadraticAttenuation=this.quadraticAttenuation,E._enableLighting=this._enableLighting,E._useNormalMaterial=this._useNormalMaterial,E._tex=this._tex,E.drawMode=this.drawMode,E._currentNormal=this._currentNormal,E.curBlendMode=this.curBlendMode,E.activeImageLight=this.activeImageLight,f}},{key:"pop",value:function(){var f;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var E=arguments.length,Z=new Array(E),W=0;W<E;W++)Z[W]=arguments[W];(f=t(L(F.prototype),"pop",this)).call.apply(f,[this].concat(Z)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var f=this.drawTarget();f._isClipApplied!==this._stencilTestOn&&(f._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var f=this.userStrokeShader;return f&&f.isStrokeShader()?f:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(f){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(C)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",f),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var f=this.userFillShader;if(this._useNormalMaterial&&(!f||!f.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!f||!f.isLightShader())return this._getLightShader()}else if(this._tex){if(!f||!f.isTextureShader())return this._getLightShader()}else if(!f)return this._getImmediateModeShader();return f}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var f=this.userFillShader;if(this._enableLighting){if(!f||!f.isLightShader())return this._getLightShader()}else if(this._tex){if(!f||!f.isTextureShader())return this._getLightShader()}else if(!f)return this._getColorShader();return f}},{key:"_getImmediatePointShader",value:function(){var f=this.userPointShader;return f&&f.isPointShader()?f:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new D.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+k.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+k.phongFrag):this._defaultLightShader=new D.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+k.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+k.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new D.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+k.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+k.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new D.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+k.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+k.normalFrag)),this._defaultNormalShader}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new D.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+k.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+k.basicFrag)),this._defaultColorShader}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new D.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+k.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+k.pointFrag)),this._defaultPointShader}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new D.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+k.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+k.lineFrag)),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===c.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new D.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+k.fontVert,this._webGL2CompatibilityPrefix("frag","mediump")+k.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(f,E){var Z="";return this.webglVersion===c.WEBGL2&&(Z+=`#version 300 es
#define WEBGL2
`),f==="vert"?Z+=`#define VERTEX_SHADER
`:f==="frag"&&(Z+=`#define FRAGMENT_SHADER
`),E&&(Z+="precision ".concat(E,` float;
`)),Z}},{key:"_getEmptyTexture",value:function(){var f;return this._emptyTexture||((f=new D.default.Image(1,1)).set(0,0,255),this._emptyTexture=new D.default.Texture(this,f)),this._emptyTexture}},{key:"getTexture",value:function(f){f instanceof D.default.Framebuffer&&(f=f.color);var E=this.textures.get(f);return E||(E=new D.default.Texture(this,f),this.textures.set(f,E),E)}},{key:"getDiffusedTexture",value:function(f){var E,Z,W=this;return this.diffusedTextures.get(f)!=null?this.diffusedTextures.get(f):(E=Math.floor(f.height/f.width*200),Z=this._pInst.createFramebuffer({width:200,height:E,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(k.imageLightVert,k.imageLightDiffusedFrag)),Z.draw(function(){W._pInst.shader(W.diffusedShader),W.diffusedShader.setUniform("environmentMap",f),W._pInst.noStroke(),W._pInst.rectMode(c.CENTER),W._pInst.noLights(),W._pInst.rect(0,0,200,E)}),this.diffusedTextures.set(f,Z),Z)}},{key:"getSpecularTexture",value:function(f){var E=this;if(this.specularTextures.get(f)!=null)return this.specularTextures.get(f);for(var Z,W=[],ee=this._pInst.createFramebuffer({width:512,height:512,density:1}),De=Math.log(512)/Math.log(2),$e=(this.specularShader||(this.specularShader=this._pInst.createShader(k.imageLightVert,k.imageLightSpecularFrag)),512);1<=$e;$e/=2)(function(te){ee.resize(te,te);var de=1-Math.log(te)/Math.log(2)/De;ee.draw(function(){E._pInst.shader(E.specularShader),E._pInst.clear(),E.specularShader.setUniform("environmentMap",f),E.specularShader.setUniform("roughness",de),E._pInst.noStroke(),E._pInst.noLights(),E._pInst.plane(te,te)}),W.push(ee.get().drawingContext.getImageData(0,0,te,te))})($e);return ee.remove(),Z=new a.MipmapTexture(this,W,{}),this.specularTextures.set(f,Z),Z}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(f){return new D.default.Framebuffer(this,f)}},{key:"_setStrokeUniforms",value:function(f){f.bindShader(),f.setUniform("uUseLineColor",this._useLineColor),f.setUniform("uMaterialColor",this.curStrokeColor),f.setUniform("uStrokeWeight",this.curStrokeWeight),f.setUniform("uStrokeCap",S[this.curStrokeCap]),f.setUniform("uStrokeJoin",A[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(f){var E=this,Z=(f.bindShader(),this.mixedSpecularColor=d(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(W,ee){return E.curFillColor[ee]*E._useMetalness+W*(1-E._useMetalness)})),f.setUniform("uUseVertexColor",this._useVertexColor),f.setUniform("uMaterialColor",this.curFillColor),f.setUniform("isTexture",!!this._tex),this._tex&&f.setUniform("uSampler",this._tex),f.setUniform("uTint",this._tint),f.setUniform("uHasSetAmbient",this._hasSetAmbient),f.setUniform("uAmbientMatColor",this.curAmbientColor),f.setUniform("uSpecularMatColor",this.mixedSpecularColor),f.setUniform("uEmissiveMatColor",this.curEmissiveColor),f.setUniform("uSpecular",this._useSpecularMaterial),f.setUniform("uEmissive",this._useEmissiveMaterial),f.setUniform("uShininess",this._useShininess),f.setUniform("metallic",this._useMetalness),this._setImageLightUniforms(f),f.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),Z=(f.setUniform("uPointLightCount",Z),f.setUniform("uPointLightLocation",this.pointLightPositions),f.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),f.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),Z=(f.setUniform("uDirectionalLightCount",Z),f.setUniform("uLightingDirection",this.directionalLightDirections),f.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),f.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),Z=(this.mixedAmbientLight=d(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(W){return W-=E._useMetalness,Math.max(0,W)})),f.setUniform("uAmbientLightCount",Z),f.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);f.setUniform("uSpotLightCount",Z),f.setUniform("uSpotLightAngle",this.spotLightAngle),f.setUniform("uSpotLightConc",this.spotLightConc),f.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),f.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),f.setUniform("uSpotLightLocation",this.spotLightPositions),f.setUniform("uSpotLightDirection",this.spotLightDirections),f.setUniform("uConstantAttenuation",this.constantAttenuation),f.setUniform("uLinearAttenuation",this.linearAttenuation),f.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),f.bindTextures()}},{key:"_setImageLightUniforms",value:function(f){var E,Z;f.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(E=this.getDiffusedTexture(this.activeImageLight),f.setUniform("environmentMapDiffused",E),E=this.getSpecularTexture(this.activeImageLight),Z=20/this._useShininess,f.setUniform("levelOfDetail",8*Z),f.setUniform("environmentMapSpecular",E))}},{key:"_setPointUniforms",value:function(f){f.bindShader(),f.setUniform("uMaterialColor",this.curStrokeColor),f.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(f,E,Z,W,ee){E=E||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(E,f),Z!==void 0&&((f=Z)instanceof D.default.DataArray?f=Z.dataArray():f instanceof(W||Float32Array)||(f=new(W||Float32Array)(f)),this.GL.bufferData(E,f,ee||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(f,E){return f.length===E.length&&f.every(function(Z,W){return Z===E[W]})}},{key:"_isTypedArray",value:function(f){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(E){return f instanceof E})}},{key:"_flatten",value:function(f){return f.flat()}},{key:"_vToNArray",value:function(f){return f.flatMap(function(E){return[E.x,E.y,E.z]})}},{key:"_bezierCoefficients",value:function(f){var E=f*f,Z=1-f,W=Z*Z;return[W*Z,3*W*f,3*Z*E,E*f]}},{key:"_quadraticCoefficients",value:function(f){var E=1-f;return[E*E,2*E*f,f*f]}},{key:"_bezierToCatmull",value:function(f){return[f[1],f[1]+(f[2]-f[0])/this._curveTightness,f[2]-(f[3]-f[1])/this._curveTightness,f[2]]}},{key:"_initTessy",value:function(){var f=new P.default.GluTesselator;return f.gluTessCallback(P.default.gluEnum.GLU_TESS_VERTEX_DATA,function(E,Z){var W=!0,ee=!1,De=void 0;try{for(var $e,te=E[Symbol.iterator]();!(W=($e=te.next()).done);W=!0){var de=$e.value;Z.push(de)}}catch(ne){ee=!0,De=ne}finally{try{W||te.return==null||te.return()}finally{if(ee)throw De}}}),f.gluTessCallback(P.default.gluEnum.GLU_TESS_BEGIN,function(E){E!==P.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(E))}),f.gluTessCallback(P.default.gluEnum.GLU_TESS_ERROR,function(E){console.log("error callback"),console.log("error number: ".concat(E))}),f.gluTessCallback(P.default.gluEnum.GLU_TESS_COMBINE,function(E,Z,W){for(var ee=new Array(D.default.RendererGL.prototype.tessyVertexSize).fill(0),De=0;De<W.length;De++)for(var $e=0;$e<ee.length;$e++)W[De]!==0&&Z[De]&&(ee[$e]+=Z[De][$e]*W[De]);return ee}),f.gluTessCallback(P.default.gluEnum.GLU_TESS_EDGE_FLAG,function(E){}),f.gluTessProperty(P.default.gluEnum.GLU_TESS_WINDING_RULE,P.default.windingRule.GLU_TESS_WINDING_NONZERO),f}},{key:"_triangulate",value:function(f){var E=f[0]?f[0][2]:void 0,Z=!0,W=!0,de=!1,z=void 0;try{for(var ee,De=f[Symbol.iterator]();!(W=(ee=De.next()).done);W=!0)for(var $e=ee.value,te=0;te<$e.length;te+=D.default.RendererGL.prototype.tessyVertexSize)if($e[te+2]!==E){Z=!1;break}}catch(je){de=!0,z=je}finally{try{W||De.return==null||De.return()}finally{if(de)throw z}}Z?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var de=[],ne=(this._tessy.gluTessBeginPolygon(de),!0),z=!1,oe=void 0;try{for(var he,Je=f[Symbol.iterator]();!(ne=(he=Je.next()).done);ne=!0){var Pe=he.value;this._tessy.gluTessBeginContour();for(var me=0;me<Pe.length;me+=D.default.RendererGL.prototype.tessyVertexSize){var Re=Pe.slice(me,me+D.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Re,Re)}this._tessy.gluTessEndContour()}}catch(je){z=!0,oe=je}finally{try{ne||Je.return==null||Je.return()}finally{if(z)throw oe}}return this._tessy.gluTessEndPolygon(),de}}])&&s(N.prototype,g),w&&s(N,w),F}(D.default.Renderer),D.default.prototype._assert3d=function(g){if(!this._renderer.isP3D)throw new Error("".concat(g,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},D.default.RendererGL.prototype.tessyVertexSize=12,M=D.default.RendererGL,p.default=M},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(i,X,p){"use strict";i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.some"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.index-of"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.array.slice"),i("core-js/modules/es.array.some"),i("core-js/modules/es.function.name"),i("core-js/modules/es.object.keys"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(p,"__esModule",{value:!0}),p.default=void 0;var o=(i=i("../core/main"))&&i.__esModule?i:{default:i};function I(D,c){for(var m=0;m<c.length;m++){var P=c[m];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(D,P.key,P)}}o.default.Shader=function(){function D(a,n,r){if(!(this instanceof D))throw new TypeError("Cannot call a class as a function");this._renderer=a,this._vertSrc=n,this._fragSrc=r,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[]}var c,m,P;return c=D,(m=[{key:"init",value:function(){if(this._glProgram===0){var a=this._renderer.GL;if(this._vertShader=a.createShader(a.VERTEX_SHADER),a.shaderSource(this._vertShader,this._vertSrc),a.compileShader(this._vertShader),!a.getShaderParameter(this._vertShader,a.COMPILE_STATUS))return o.default._friendlyError("Yikes! An error occurred compiling the vertex shader:".concat(a.getShaderInfoLog(this._vertShader))),null;if(this._fragShader=a.createShader(a.FRAGMENT_SHADER),a.shaderSource(this._fragShader,this._fragSrc),a.compileShader(this._fragShader),!a.getShaderParameter(this._fragShader,a.COMPILE_STATUS))return o.default._friendlyError("Darn! An error occurred compiling the fragment shader:".concat(a.getShaderInfoLog(this._fragShader))),null;this._glProgram=a.createProgram(),a.attachShader(this._glProgram,this._vertShader),a.attachShader(this._glProgram,this._fragShader),a.linkProgram(this._glProgram),a.getProgramParameter(this._glProgram,a.LINK_STATUS)||o.default._friendlyError("Snap! Error linking shader program: ".concat(a.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"copyToContext",value:function(a){var n=new o.default.Shader(a._renderer,this._vertSrc,this._fragSrc);return n.ensureCompiledOnContext(a),n}},{key:"ensureCompiledOnContext",value:function(a){if(this._glProgram!==0&&this._renderer!==a._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=a._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var a=this._renderer.GL,n=a.getProgramParameter(this._glProgram,a.ACTIVE_ATTRIBUTES),r=0;r<n;++r){var d=a.getActiveAttrib(this._glProgram,r),s=d.name,t=a.getAttribLocation(this._glProgram,s),l={};l.name=s,l.location=t,l.index=r,l.type=d.type,l.size=d.size,this.attributes[s]=l}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var a=this._renderer.GL,n=a.getProgramParameter(this._glProgram,a.ACTIVE_UNIFORMS),r=0,d=0;d<n;++d){var s=a.getActiveUniform(this._glProgram,d),t={},l=(t.location=a.getUniformLocation(this._glProgram,s.name),t.size=s.size,s.name);1<s.size&&(l=l.substring(0,l.indexOf("[0]"))),t.name=l,t.type=s.type,t._cachedData=void 0,t.type===a.SAMPLER_2D&&(t.samplerIndex=r,r++,this.samplers.push(t)),t.isArray=1<s.size||t.type===a.FLOAT_MAT3||t.type===a.FLOAT_MAT4||t.type===a.FLOAT_VEC2||t.type===a.FLOAT_VEC3||t.type===a.FLOAT_VEC4||t.type===a.INT_VEC2||t.type===a.INT_VEC4||t.type===a.INT_VEC3,this.uniforms[l]=t}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var a=this._renderer.GL,n=!0,r=!1,d=void 0;try{for(var s,t=this.samplers[Symbol.iterator]();!(n=(s=t.next()).done);n=!0){var l=s.value,$=l.texture;$===void 0&&($=this._renderer._getEmptyTexture()),a.activeTexture(a.TEXTURE0+l.samplerIndex),$.bindTexture(),$.update(),a.uniform1i(l.location,l.samplerIndex)}}catch(h){r=!0,d=h}finally{try{n||t.return==null||t.return()}finally{if(r)throw d}}}},{key:"updateTextures",value:function(){var a=!0,n=!1,r=void 0;try{for(var d,s=this.samplers[Symbol.iterator]();!(a=(d=s.next()).done);a=!0){var t=d.value.texture;t&&t.update()}}catch(l){n=!0,r=l}finally{try{a||s.return==null||s.return()}finally{if(n)throw r}}}},{key:"unbindTextures",value:function(){var a=!0,n=!1,r=void 0;try{for(var d,s=this.samplers[Symbol.iterator]();!(a=(d=s.next()).done);a=!0){var t=d.value;this.setUniform(t.name,this._renderer._getEmptyTexture())}}catch(l){n=!0,r=l}finally{try{a||s.return==null||s.return()}finally{if(n)throw r}}}},{key:"_setMatrixUniforms",value:function(){var a=this._renderer.uModelMatrix,n=this._renderer.uViewMatrix,r=this._renderer.uPMatrix,d=a.copy().mult(n),s=(this._renderer.uMVMatrix=d).copy();s.mult(r),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",n.mat4),this.setUniform("uProjectionMatrix",r.mat4),this.setUniform("uModelMatrix",a.mat4),this.setUniform("uModelViewMatrix",d.mat4),this.setUniform("uModelViewProjectionMatrix",s.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var a=this._renderer.GL;return this._renderer._curShader!==this&&(a.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(a,n){var r=this.uniforms[a];if(r){var d=this._renderer.GL;if(r.isArray){if(r._cachedData&&this._renderer._arraysEqual(r._cachedData,n))return;r._cachedData=n.slice(0)}else{if(r._cachedData&&r._cachedData===n)return;Array.isArray(n)?r._cachedData=n.slice(0):r._cachedData=n}var s=r.location;switch(this.useProgram(),r.type){case d.BOOL:n===!0?d.uniform1i(s,1):d.uniform1i(s,0);break;case d.INT:1<r.size?n.length&&d.uniform1iv(s,n):d.uniform1i(s,n);break;case d.FLOAT:1<r.size?n.length&&d.uniform1fv(s,n):d.uniform1f(s,n);break;case d.FLOAT_MAT3:d.uniformMatrix3fv(s,!1,n);break;case d.FLOAT_MAT4:d.uniformMatrix4fv(s,!1,n);break;case d.FLOAT_VEC2:1<r.size?n.length&&d.uniform2fv(s,n):d.uniform2f(s,n[0],n[1]);break;case d.FLOAT_VEC3:1<r.size?n.length&&d.uniform3fv(s,n):d.uniform3f(s,n[0],n[1],n[2]);break;case d.FLOAT_VEC4:1<r.size?n.length&&d.uniform4fv(s,n):d.uniform4f(s,n[0],n[1],n[2],n[3]);break;case d.INT_VEC2:1<r.size?n.length&&d.uniform2iv(s,n):d.uniform2i(s,n[0],n[1]);break;case d.INT_VEC3:1<r.size?n.length&&d.uniform3iv(s,n):d.uniform3i(s,n[0],n[1],n[2]);break;case d.INT_VEC4:1<r.size?n.length&&d.uniform4iv(s,n):d.uniform4i(s,n[0],n[1],n[2],n[3]);break;case d.SAMPLER_2D:d.activeTexture(d.TEXTURE0+r.samplerIndex),r.texture=n instanceof o.default.Texture?n:this._renderer.getTexture(n),d.uniform1i(s,r.samplerIndex),r.texture.src.gifProperties&&r.texture.src._animateGif(this._renderer._pInst)}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(a){return a!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(a,n,r,d,s,t){var l;return a&&(a=a.location)!==-1&&(l=this._renderer.GL,this._renderer.registerEnabled.has(a)||(l.enableVertexAttribArray(a),this._renderer.registerEnabled.add(a)),this._renderer.GL.vertexAttribPointer(a,n,r||l.FLOAT,d||!1,s||0,t||0)),this}},{key:"disableRemainingAttributes",value:function(){var a=this,n=!0,r=!1,d=void 0;try{for(var s,t=this._renderer.registerEnabled.values()[Symbol.iterator]();!(n=(s=t.next()).done);n=!0)(function(){var l=s.value;Object.keys(a.attributes).some(function($){return a.attributes[$].location===l})||(a._renderer.GL.disableVertexAttribArray(l),a._renderer.registerEnabled.delete(l))})()}catch(l){r=!0,d=l}finally{try{n||t.return==null||t.return()}finally{if(r)throw d}}}}])&&I(c.prototype,m),P&&I(c,P),D}(),i=o.default.Shader,p.default=i},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(i,X,p){"use strict";function o($){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})($)}function I($){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})($)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.get-prototype-of"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.reflect.construct"),i("core-js/modules/es.regexp.to-string"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.typed-array.uint8-array"),i("core-js/modules/es.typed-array.copy-within"),i("core-js/modules/es.typed-array.every"),i("core-js/modules/es.typed-array.fill"),i("core-js/modules/es.typed-array.filter"),i("core-js/modules/es.typed-array.find"),i("core-js/modules/es.typed-array.find-index"),i("core-js/modules/es.typed-array.for-each"),i("core-js/modules/es.typed-array.includes"),i("core-js/modules/es.typed-array.index-of"),i("core-js/modules/es.typed-array.iterator"),i("core-js/modules/es.typed-array.join"),i("core-js/modules/es.typed-array.last-index-of"),i("core-js/modules/es.typed-array.map"),i("core-js/modules/es.typed-array.reduce"),i("core-js/modules/es.typed-array.reduce-right"),i("core-js/modules/es.typed-array.reverse"),i("core-js/modules/es.typed-array.set"),i("core-js/modules/es.typed-array.slice"),i("core-js/modules/es.typed-array.some"),i("core-js/modules/es.typed-array.sort"),i("core-js/modules/es.typed-array.subarray"),i("core-js/modules/es.typed-array.to-locale-string"),i("core-js/modules/es.typed-array.to-string"),Object.defineProperty(p,"__esModule",{value:!0}),p.checkWebGLCapabilities=l,p.default=p.MipmapTexture=void 0;var D=(t=i("../core/main"))&&t.__esModule?t:{default:t},c=function($){if($&&$.__esModule)return $;if($===null||I($)!=="object"&&typeof $!="function")return{default:$};var h=m();if(h&&h.has($))return h.get($);var L,U={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in $){var B;Object.prototype.hasOwnProperty.call($,L)&&((B=T?Object.getOwnPropertyDescriptor($,L):null)&&(B.get||B.set)?Object.defineProperty(U,L,B):U[L]=$[L])}return U.default=$,h&&h.set($,U),U}(i("../core/constants"));function m(){var $;return typeof WeakMap!="function"?null:($=new WeakMap,m=function(){return $},$)}function P($,h){return(P=Object.setPrototypeOf||function(L,U){return L.__proto__=U,L})($,h)}function a($){return function(){var h,L=n($),L=(h=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(h=n(this).constructor,Reflect.construct(L,arguments,h)):L.apply(this,arguments),this);if(!h||I(h)!=="object"&&typeof h!="function"){if(L!==void 0)return L;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return h}}function n($){return(n=Object.setPrototypeOf?Object.getPrototypeOf:function(h){return h.__proto__||Object.getPrototypeOf(h)})($)}function r($,h){if(!($ instanceof h))throw new TypeError("Cannot call a class as a function")}function d($,h){for(var L=0;L<h.length;L++){var U=h[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty($,U.key,U)}}function s($,h,L){h&&d($.prototype,h),L&&d($,L)}D.default.Texture=function(){function $(J,L,B){r(this,$),this._renderer=J;var T=this._renderer.GL,B=(B=B||{},this.src=L,this.glTex=void 0,this.glTarget=T.TEXTURE_2D,this.glFormat=B.format||T.RGBA,this.mipmaps=!1,this.glMinFilter=B.minFilter||T.LINEAR,this.glMagFilter=B.magFilter||T.LINEAR,this.glWrapS=B.wrapS||T.CLAMP_TO_EDGE,this.glWrapT=B.wrapT||T.CLAMP_TO_EDGE,this.glDataType=B.dataType||T.UNSIGNED_BYTE,l(J)),J=(this.glFormat!==T.HALF_FLOAT||B.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=T.FLOAT),this.glFormat!==T.HALF_FLOAT||this.glMinFilter!==T.LINEAR&&this.glMagFilter!==T.LINEAR||B.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===T.LINEAR&&(this.glMinFilter=T.NEAREST),this.glMagFilter===T.LINEAR&&(this.glMagFilter=T.NEAREST)),this.glFormat!==T.FLOAT||B.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=T.UNSIGNED_BYTE),this.glFormat!==T.FLOAT||this.glMinFilter!==T.LINEAR&&this.glMagFilter!==T.LINEAR||B.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===T.LINEAR&&(this.glMinFilter=T.NEAREST),this.glMagFilter===T.LINEAR&&(this.glMagFilter=T.NEAREST)),this.isSrcMediaElement=D.default.MediaElement!==void 0&&L instanceof D.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=D.default.Element!==void 0&&L instanceof D.default.Element&&!(L instanceof D.default.Graphics)&&!(L instanceof D.default.Renderer),this.isSrcP5Image=L instanceof D.default.Image,this.isSrcP5Graphics=L instanceof D.default.Graphics,this.isSrcP5Renderer=L instanceof D.default.Renderer,this.isImageData=typeof ImageData<"u"&&L instanceof ImageData,this.isFramebufferTexture=L instanceof D.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=J.width,this.height=J.height,this.init(J),this}return s($,[{key:"_getTextureDataFromSource",value:function(){var h;return this.isFramebufferTexture?h=this.src.rawTexture():this.isSrcP5Image?h=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?h=this.src.elt:this.isImageData&&(h=this.src),h}},{key:"init",value:function(h){var L,U=this._renderer.GL;this.isFramebufferTexture||(this.glTex=U.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,this.glMagFilter),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(L=new Uint8Array([1,1,1,1]),U.texImage2D(this.glTarget,0,U.RGBA,1,1,0,this.glFormat,this.glDataType,L)):U.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,h))}},{key:"update",value:function(){var h,L,U,T=this.src;return T.width!==0&&T.height!==0&&!this.isFramebufferTexture&&(h=this._getTextureDataFromSource(),L=!1,U=this._renderer.GL,h.width!==this.width||h.height!==this.height?(L=!0,this.width=h.width||T.width,this.height=h.height||T.height,this.isSrcP5Image?T.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&T.setModified(!0)):this.isSrcP5Image?T.isModified()&&T.setModified(!(L=!0)):this.isSrcMediaElement?T.isModified()?T.setModified(!(L=!0)):T.loadedmetadata&&this._videoPrevUpdateTime!==T.time()&&(this._videoPrevUpdateTime=T.time(),L=!0):this.isImageData?T._dirty&&(L=!(T._dirty=!1)):L=!0,L&&(this.bindTexture(),U.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,h)),L)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(h,L){var U=this._renderer.GL;this.glMinFilter=this.glFilter(h),this.glMagFilter=this.glFilter(L),this.bindTexture(),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MIN_FILTER,this.glMinFilter),U.texParameteri(U.TEXTURE_2D,U.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(h){var L=this._renderer.GL;return h===c.NEAREST?L.NEAREST:L.LINEAR}},{key:"setWrapMode",value:function(h,L){function U(S){return(S&S-1)==0}var T=this._renderer.GL,J=this._getTextureDataFromSource(),J=J.naturalWidth&&J.naturalHeight?(B=J.naturalWidth,J.naturalHeight):(B=this.width,this.height),B=U(B),J=U(J);h===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||B&&J?this.glWrapS=T.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=T.CLAMP_TO_EDGE):h===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||B&&J?this.glWrapS=T.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=T.CLAMP_TO_EDGE):this.glWrapS=T.CLAMP_TO_EDGE,L===c.REPEAT?this._renderer.webglVersion===c.WEBGL2||B&&J?this.glWrapT=T.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=T.CLAMP_TO_EDGE):L===c.MIRROR?this._renderer.webglVersion===c.WEBGL2||B&&J?this.glWrapT=T.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=T.CLAMP_TO_EDGE):this.glWrapT=T.CLAMP_TO_EDGE,this.bindTexture(),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_S,this.glWrapS),T.texParameteri(T.TEXTURE_2D,T.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),$}();var t=function($){var h=U;if(typeof $!="function"&&$!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create($&&$.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),$&&P(h,$);var L=a(U);function U(T,B,J){return r(this,U),B=(T=L.call(this,T,B,J))._renderer.GL,T.glMinFilter===B.LINEAR&&(T.glMinFilter=B.LINEAR_MIPMAP_LINEAR),T}return s(U,[{key:"glFilter",value:function(T){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(T){var B=this._renderer.GL;this.glTex=B.createTexture(),this.bindTexture();for(var J=0;J<T.length;J++)B.texImage2D(this.glTarget,J,this.glFormat,this.glFormat,this.glDataType,T[J]);this.glMinFilter=B.LINEAR_MIPMAP_LINEAR,B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MAG_FILTER,this.glMagFilter),B.texParameteri(B.TEXTURE_2D,B.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),U}(D.default.Texture);function l(T){var h=T.GL,T=T.webglVersion,L=T===c.WEBGL2?h.getExtension("EXT_color_buffer_float")&&h.getExtension("EXT_float_blend"):h.getExtension("OES_texture_float"),U=L&&h.getExtension("OES_texture_float_linear"),T=T===c.WEBGL2?h.getExtension("EXT_color_buffer_float"):h.getExtension("OES_texture_half_float");return{float:L,floatLinear:U,halfFloat:T,halfFloatLinear:T&&h.getExtension("OES_texture_half_float_linear")}}p.MipmapTexture=t,i=D.default.Texture,p.default=i},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(i,X,p){"use strict";function o($){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})($)}function I($){return(I=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})($)}i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.get-own-property-descriptor"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.sub"),i("core-js/modules/es.weak-map"),i("core-js/modules/web.dom-collections.iterator"),i("core-js/modules/es.symbol"),i("core-js/modules/es.symbol.description"),i("core-js/modules/es.symbol.iterator"),i("core-js/modules/es.array.iterator"),i("core-js/modules/es.object.to-string"),i("core-js/modules/es.regexp.exec"),i("core-js/modules/es.string.iterator"),i("core-js/modules/es.string.split"),i("core-js/modules/es.string.sub"),i("core-js/modules/web.dom-collections.iterator");var D,c=(D=i("../core/main"))&&D.__esModule?D:{default:D},m=function($){if($&&$.__esModule)return $;if($===null||I($)!=="object"&&typeof $!="function")return{default:$};var h=P();if(h&&h.has($))return h.get($);var L,U={},T=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(L in $){var B;Object.prototype.hasOwnProperty.call($,L)&&((B=T?Object.getOwnPropertyDescriptor($,L):null)&&(B.get||B.set)?Object.defineProperty(U,L,B):U[L]=$[L])}return U.default=$,h&&h.set($,U),U}(i("../core/constants"));function P(){var $;return typeof WeakMap!="function"?null:($=new WeakMap,P=function(){return $},$)}function a($,h){if(!($ instanceof h))throw new TypeError("Cannot call a class as a function")}function n($,h){for(var L=0;L<h.length;L++){var U=h[L];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty($,U.key,U)}}function r($,h,L){h&&n($.prototype,h),L&&n($,L)}i("./p5.Shader"),i("./p5.RendererGL.Retained"),c.default.RendererGL.prototype._applyTextProperties=function(){},c.default.RendererGL.prototype.textWidth=function($){return this._isOpenType()?this._textFont._textWidth($,this._textSize):0};var d=function(){function $(h,L){a(this,$),this.width=h,this.height=L,this.infos=[]}return r($,[{key:"findImage",value:function(h){var L,U,T=this.width*this.height;if(T<h)throw new Error("font is too complex to render in 3D");for(var B=this.infos.length-1;0<=B;--B){var J=this.infos[B];if(J.index+h<T){U=(L=J).imageData;break}}if(!L){try{U=new ImageData(this.width,this.height)}catch{var S=document.getElementsByTagName("canvas")[0],A=!S,Q=(S||((S=document.createElement("canvas")).style.display="none",document.body.appendChild(S)),S.getContext("2d"));Q&&(U=Q.createImageData(this.width,this.height)),A&&document.body.removeChild(S)}this.infos.push(L={index:0,imageData:U})}return Q=L.index,L.index+=h,U._dirty=!0,{imageData:U,index:Q}}}]),$}();function s(J,h,L,U,T){var B=J.imageData.data,J=4*J.index++;B[J++]=h,B[J++]=L,B[J++]=U,B[+J]=T}var t=Math.sqrt(3),l=function(){function $(h){a(this,$),this.font=h,this.strokeImageInfos=new d(64,64),this.colDimImageInfos=new d(64,64),this.rowDimImageInfos=new d(64,64),this.colCellImageInfos=new d(64,64),this.rowCellImageInfos=new d(64,64),this.glyphInfos={}}return r($,[{key:"getGlyphInfo",value:function(h){var L=this.glyphInfos[h.index];if(!L){var U=h.getBoundingBox(),T=U.x1,B=U.y1,J=U.x2-T,S=U.y2-B,A=h.path.commands;if(J==0||S==0||!A.length)return this.glyphInfos[h.index]={};for(var Q=[],M=[],k=[],C=8;0<=C;--C)k.push([]);for(C=8;0<=C;--C)M.push([]);var j,G,y,g,N=function(){function Ve(Ne,ve,ye,fe){a(this,Ve),this.p0=Ne,this.c0=ve,this.c1=ye,this.p1=fe}return r(Ve,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return c.default.Vector.sub(c.default.Vector.sub(this.p1,this.p0),c.default.Vector.mult(c.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Fe){var ve=c.default.Vector.lerp(this.p0,this.c0,Fe),fe=c.default.Vector.lerp(this.c0,this.c1,Fe),ye=c.default.Vector.lerp(ve,fe,Fe),fe=(this.c1=c.default.Vector.lerp(this.c1,this.p1,Fe),this.c0=c.default.Vector.lerp(fe,this.c1,Fe),c.default.Vector.lerp(ye,this.c0,Fe)),Fe=new Ve(this.p0,ve,ye,fe);return this.p0=fe,Fe}},{key:"splitInflections",value:function(){var Ne=c.default.Vector.sub(this.c0,this.p0),ve=c.default.Vector.sub(c.default.Vector.sub(this.c1,this.c0),Ne),ye=c.default.Vector.sub(c.default.Vector.sub(c.default.Vector.sub(this.p1,this.c1),Ne),c.default.Vector.mult(ve,2)),fe=[],Fe=ve.x*ye.y-ve.y*ye.x;return Fe!==0&&0<=(Ne=(ye=Ne.x*ye.y-Ne.y*ye.x)*ye-4*Fe*(Ne.x*ve.y-Ne.y*ve.x))&&(Fe<0&&(Fe=-Fe,ye=-ye),Ne=(-ye+(ve=Math.sqrt(Ne)))/(2*Fe),0<(ye=(-ye-ve)/(2*Fe))&&ye<1&&(fe.push(this.split(ye)),Ne=1-(1-Ne)/(1-ye)),0<Ne&&Ne<1&&fe.push(this.split(Ne))),fe.push(this),fe}}]),Ve}(),w=!0,ce=!1,F=void 0;try{for(var f,E=A[Symbol.iterator]();!(w=(f=E.next()).done);w=!0){var Z=f.value,W=(Z.x-T)/J,ee=(Z.y-B)/S;if(!be(j,G,W,ee)){switch(Z.type){case"M":y=W,g=ee;break;case"L":je(j,G,W,ee);break;case"Q":var De=(Z.x1-T)/J,$e=(Z.y1-B)/S;me([j,W,De],[G,ee,$e],{x:j,y:G,cx:De,cy:$e});break;case"Z":be(j,G,y,g)?Q.push({x:j,y:G}):(je(j,G,y,g),Q.push({x:y,y:g}));break;case"C":for(var te=function(ae,Be,Qe,ye,fe,Fe,Te,_){var ae=new N(new c.default.Vector(ae,Be),new c.default.Vector(Qe,ye),new c.default.Vector(fe,Fe),new c.default.Vector(Te,_)).splitInflections(),x=[],re=30/t,Le=!0,Be=!1,Qe=void 0;try{for(var ke,ge=ae[Symbol.iterator]();!(Le=(ke=ge.next()).done);Le=!0){for(var Ze=ke.value,qe=[],di=void 0;!(.125<=(di=re/Ze.quadError()));){var ti=Math.pow(di,.3333333333333333),ze=Ze.split(ti),ri=Ze.split(1-ti/(1-ti));x.push(ze),qe.push(Ze),Ze=ri}di<1&&x.push(Ze.split(.5)),x.push(Ze),Array.prototype.push.apply(x,qe.reverse())}}catch(Di){Be=!0,Qe=Di}finally{try{Le||ge.return==null||ge.return()}finally{if(Be)throw Qe}}return x}(j,G,(Z.x1-T)/J,(Z.y1-B)/S,(Z.x2-T)/J,(Z.y2-B)/S,W,ee),de=0;de<te.length;de++){var ne=te[de].toQuadratic();me([ne.x,ne.x1,ne.cx],[ne.y,ne.y1,ne.cy],ne)}break;default:throw new Error("unknown command type: ".concat(Z.type))}j=W,G=ee}}}catch(Ve){ce=!0,F=Ve}finally{try{w||E.return==null||E.return()}finally{if(ce)throw F}}for(var z=Q.length,oe=this.strokeImageInfos.findImage(z),he=oe.index,Je=0;Je<z;++Je){var Pe=Q[Je];s(oe,Re(Pe.x),Re(Pe.y),Re(Pe.cx),Re(Pe.cy))}(L=this.glyphInfos[h.index]={glyph:h,uGlyphRect:[U.x1,-U.y1,U.x2,-U.y2],strokeImageInfo:oe,strokes:Q,colInfo:We(k,this.colDimImageInfos,this.colCellImageInfos),rowInfo:We(M,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[L.colInfo.dimOffset,L.rowInfo.dimOffset]}return L;function me(Ve,Ne,ve){var ye=Q.length;function fe(x,re,Le){for(var Be=x.length;0<Be--;){var Qe=x[Be];Qe<re&&(re=Qe),Le<Qe&&(Le=Qe)}return{min:re,max:Le}}Q.push(ve);for(var ve=fe(Ve,1,0),Ve=Math.max(Math.floor(9*ve.min-.5),0),Fe=Math.min(Math.ceil(9*ve.max+.5),9),Te=Ve;Te<Fe;++Te)k[Te].push(ye);for(var ve=fe(Ne,1,0),Ve=Math.max(Math.floor(9*ve.min-.5),0),_=Math.min(Math.ceil(9*ve.max+.5),9),ae=Ve;ae<_;++ae)M[ae].push(ye)}function Re(Ve){return(Ve=(ve=255)*Ve)<(Ne=0)?Ne:ve<Ve?ve:Ve;var Ne,ve}function je(Ve,Ne,ve,ye){me([Ve,ve],[Ne,ye],{x:Ve,y:Ne,cx:(Ve+ve)/2,cy:(Ne+ye)/2})}function be(Ve,Ne,ve,ye){return Math.abs(ve-Ve)<1e-5&&Math.abs(ye-Ne)<1e-5}function We(Ve,Ne,ve){for(var ye=Ve.length,fe=Ne.findImage(ye),Ne=fe.index,Fe=0,Te=0;Te<ye;++Te)Fe+=Ve[Te].length;for(var _=ve.findImage(Fe),ae=0;ae<ye;++ae){var x=Ve[ae],re=x.length,Le=_.index;s(fe,Le>>7,127&Le,re>>7,127&re);for(var Be=0;Be<re;++Be){var Qe=x[Be]+he;s(_,Qe>>7,127&Qe,0,0)}}return{cellImageInfo:_,dimOffset:Ne,dimImageInfo:fe}}}}]),$}();c.default.RendererGL.prototype._renderText=function($,h,L,U,T){if(this._textFont&&typeof this._textFont!="string"){if(!(T<=U)&&this._doFill){if(this._isOpenType()){$.push();var T=this._doStroke,B=this.drawMode,J=(this._doStroke=!1,this.drawMode=m.TEXTURE,this._textFont.font),S=(S=this._textFont._fontInfo)||(this._textFont._fontInfo=new l(J)),L=this._textFont._handleAlignment(this,h,L,U),U=this._textSize/J.unitsPerEm,A=(this.translate(L.x,L.y,0),this.scale(U,U,1),this.GL),L=!this._defaultFontShader,Q=this._getFontShader(),M=(Q.init(),Q.bindShader(),L&&(Q.setUniform("uGridImageSize",[64,64]),Q.setUniform("uCellsImageSize",[64,64]),Q.setUniform("uStrokeImageSize",[64,64]),Q.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),k=(M||((U=this._textGeom=new c.default.Geometry(1,1,function(){for(var de=0;de<=1;de++)for(var ne=0;ne<=1;ne++)this.vertices.push(new c.default.Vector(ne,de,0)),this.uvs.push(ne,de)})).computeFaces().computeNormals(),M=this.createBuffers("glyph",U)),!0),L=!1,U=void 0;try{for(var C,j=this.retainedMode.buffers.text[Symbol.iterator]();!(k=(C=j.next()).done);k=!0)C.value._prepareBuffer(M,Q)}catch(de){L=!0,U=de}finally{try{k||j.return==null||j.return()}finally{if(L)throw U}}this._bindBuffer(M.indexBuffer,A.ELEMENT_ARRAY_BUFFER),Q.setUniform("uMaterialColor",this.curFillColor),A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var G=0,y=null,g=J.stringToGlyphs(h),N=!0,w=!1,ce=void 0;try{for(var F,f=g[Symbol.iterator]();!(N=(F=f.next()).done);N=!0){var E,Z,W=F.value,ee=(y&&(G+=J.getKerningValue(y,W)),S.getGlyphInfo(W));ee.uGlyphRect&&(E=ee.rowInfo,Z=ee.colInfo,Q.setUniform("uSamplerStrokes",ee.strokeImageInfo.imageData),Q.setUniform("uSamplerRowStrokes",E.cellImageInfo.imageData),Q.setUniform("uSamplerRows",E.dimImageInfo.imageData),Q.setUniform("uSamplerColStrokes",Z.cellImageInfo.imageData),Q.setUniform("uSamplerCols",Z.dimImageInfo.imageData),Q.setUniform("uGridOffset",ee.uGridOffset),Q.setUniform("uGlyphRect",ee.uGlyphRect),Q.setUniform("uGlyphOffset",G),Q.bindTextures(),A.drawElements(A.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),G+=W.advanceWidth,y=W}}catch(de){w=!0,ce=de}finally{try{N||f.return==null||f.return()}finally{if(w)throw ce}}}finally{Q.unbindShader(),this._doStroke=T,this.drawMode=B,A.pixelStorei(A.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),$.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return $}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})});var Cr=ta((xs,Er)=>{var U0="Expected a function",jr=NaN,M0="[object Symbol]",b0=/^\s+|\s+$/g,S0=/^[-+]0x[0-9a-f]+$/i,Q0=/^0b[01]+$/i,X0=/^0o[0-7]+$/i,j0=parseInt,F0=typeof global=="object"&&global&&global.Object===Object&&global,E0=typeof self=="object"&&self&&self.Object===Object&&self,C0=F0||E0||Function("return this")(),K0=Object.prototype,k0=K0.toString,Y0=Math.max,g0=Math.min,cD=function(){return C0.Date.now()};function Z0(Y,q,O){var i,X,p,o,I,D,c=0,m=!1,P=!1,a=!0;if(typeof Y!="function")throw new TypeError(U0);q=Fr(q)||0,oD(O)&&(m=!!O.leading,P="maxWait"in O,p=P?Y0(Fr(O.maxWait)||0,q):p,a="trailing"in O?!!O.trailing:a);function n(U){var T=i,B=X;return i=X=void 0,c=U,o=Y.apply(B,T),o}function r(U){return c=U,I=setTimeout(t,q),m?n(U):o}function d(U){var T=U-D,B=U-c,J=q-T;return P?g0(J,p-B):J}function s(U){var T=U-D,B=U-c;return D===void 0||T>=q||T<0||P&&B>=p}function t(){var U=cD();if(s(U))return l(U);I=setTimeout(t,d(U))}function l(U){return I=void 0,a&&i?n(U):(i=X=void 0,o)}function $(){I!==void 0&&clearTimeout(I),c=0,i=D=X=I=void 0}function h(){return I===void 0?o:l(cD())}function L(){var U=cD(),T=s(U);if(i=arguments,X=this,D=U,T){if(I===void 0)return r(D);if(P)return I=setTimeout(t,q),n(D)}return I===void 0&&(I=setTimeout(t,q)),o}return L.cancel=$,L.flush=h,L}function oD(Y){var q=typeof Y;return!!Y&&(q=="object"||q=="function")}function V0(Y){return!!Y&&typeof Y=="object"}function N0(Y){return typeof Y=="symbol"||V0(Y)&&k0.call(Y)==M0}function Fr(Y){if(typeof Y=="number")return Y;if(N0(Y))return jr;if(oD(Y)){var q=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=oD(q)?q+"":q}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(b0,"");var O=Q0.test(Y);return O||X0.test(Y)?j0(Y.slice(2),O?2:8):S0.test(Y)?jr:+Y}Er.exports=Z0});var Gr=ta((l$,vr)=>{var qr="Expected a function",Nr=NaN,O0="[object Symbol]",W0=/^\s+|\s+$/g,x0=/^[-+]0x[0-9a-f]+$/i,w0=/^0b[01]+$/i,z0=/^0o[0-7]+$/i,_0=parseInt,en=typeof global=="object"&&global&&global.Object===Object&&global,an=typeof self=="object"&&self&&self.Object===Object&&self,tn=en||an||Function("return this")(),Dn=Object.prototype,rn=Dn.toString,dn=Math.max,nn=Math.min,hD=function(){return tn.Date.now()};function sn(Y,q,O){var i,X,p,o,I,D,c=0,m=!1,P=!1,a=!0;if(typeof Y!="function")throw new TypeError(qr);q=yr(q)||0,jt(O)&&(m=!!O.leading,P="maxWait"in O,p=P?dn(yr(O.maxWait)||0,q):p,a="trailing"in O?!!O.trailing:a);function n(U){var T=i,B=X;return i=X=void 0,c=U,o=Y.apply(B,T),o}function r(U){return c=U,I=setTimeout(t,q),m?n(U):o}function d(U){var T=U-D,B=U-c,J=q-T;return P?nn(J,p-B):J}function s(U){var T=U-D,B=U-c;return D===void 0||T>=q||T<0||P&&B>=p}function t(){var U=hD();if(s(U))return l(U);I=setTimeout(t,d(U))}function l(U){return I=void 0,a&&i?n(U):(i=X=void 0,o)}function $(){I!==void 0&&clearTimeout(I),c=0,i=D=X=I=void 0}function h(){return I===void 0?o:l(hD())}function L(){var U=hD(),T=s(U);if(i=arguments,X=this,D=U,T){if(I===void 0)return r(D);if(P)return I=setTimeout(t,q),n(D)}return I===void 0&&(I=setTimeout(t,q)),o}return L.cancel=$,L.flush=h,L}function $n(Y,q,O){var i=!0,X=!0;if(typeof Y!="function")throw new TypeError(qr);return jt(O)&&(i="leading"in O?!!O.leading:i,X="trailing"in O?!!O.trailing:X),sn(Y,q,{leading:i,maxWait:q,trailing:X})}function jt(Y){var q=typeof Y;return!!Y&&(q=="object"||q=="function")}function ln(Y){return!!Y&&typeof Y=="object"}function cn(Y){return typeof Y=="symbol"||ln(Y)&&rn.call(Y)==O0}function yr(Y){if(typeof Y=="number")return Y;if(cn(Y))return Nr;if(jt(Y)){var q=typeof Y.valueOf=="function"?Y.valueOf():Y;Y=jt(q)?q+"":q}if(typeof Y!="string")return Y===0?Y:+Y;Y=Y.replace(W0,"");var O=w0.test(Y);return O||z0.test(Y)?_0(Y.slice(2),O?2:8):x0.test(Y)?Nr:+Y}vr.exports=$n});var Ct=ta((P$,Pn)=>{Pn.exports={name:"lo-fi chill (a)",tracks:[{name:"Track 01",duration:188,file:"lofi-a-1.wav.mp3"},{name:"Track 02",duration:174,file:"lofi-a-2.wav.mp3"},{name:"Track 03",duration:123,file:"lofi-a-3.wav.mp3"},{name:"Track 04",duration:164,file:"lofi-a-4.wav.mp3"},{name:"Track 05",duration:156,file:"lofi-a-5.wav.mp3"},{name:"Track 06",duration:139,file:"lofi-a-6.wav.mp3"},{name:"Track 07",duration:172,file:"lofi-a-7.wav.mp3"},{name:"Track 08",duration:162,file:"lofi-a-8.wav.mp3"}]}});var hd=ta((Y$,is)=>{is.exports="./lofi-a-1.wav-6NT36X3Y.mp3"});var Hd=ta((g$,as)=>{as.exports="./lofi-a-2.wav-6N75ODR6.mp3"});var Pd=ta((Z$,ts)=>{ts.exports="./lofi-a-3.wav-LHOE26DD.mp3"});var md=ta((V$,Ds)=>{Ds.exports="./lofi-a-4.wav-YFAU6NAB.mp3"});var Ld=ta((N$,rs)=>{rs.exports="./lofi-a-5.wav-37YI554E.mp3"});var ud=ta((y$,ds)=>{ds.exports="./lofi-a-6.wav-CHE4U3SX.mp3"});var fd=ta((q$,ns)=>{ns.exports="./lofi-a-7.wav-USTL7TNF.mp3"});var Jd=ta((v$,ss)=>{ss.exports="./lofi-a-8.wav-I7EJQEVR.mp3"});var Ji={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return cr(this.context.count)},getNextContextId(){return cr(this.context.count++)}};function cr(Y){let q=String(Y),O=q.length-1;return Ji.context.id+(O?String.fromCharCode(96+O):"")+q}function _t(Y){Ji.context=Y}function xd(){return{...Ji.context,id:Ji.getNextContextId(),count:0}}var wd=(Y,q)=>Y===q,eD=Symbol("solid-proxy"),zd=Symbol("solid-track"),Ls=Symbol("solid-dev-component"),At={equals:wd},or=null,mr=Br,Da=1,it=2,Lr={owned:null,cleanups:null,context:null,owner:null};var Ii=null,we=null,tt=null,ka=null,Ri=null,Yi=null,_i=null,Mt=0;function et(Y,q){let O=Ri,i=Ii,X=Y.length===0,p=q===void 0?i:q,o=X?Lr:{owned:null,cleanups:null,context:p?p.context:null,owner:p},I=X?Y:()=>Y(()=>sa(()=>Ma(o)));Ii=o,Ri=null;try{return pa(I,!0)}finally{Ri=O,Ii=i}}function Ui(Y,q){q=q?Object.assign({},At,q):At;let O={value:Y,observers:null,observerSlots:null,comparator:q.equals||void 0},i=X=>(typeof X=="function"&&(we&&we.running&&we.sources.has(O)?X=X(O.tValue):X=X(O.value)),pr(O,X));return[Jr.bind(O),i]}function Fi(Y,q,O){let i=aD(Y,q,!1,Da);tt&&we&&we.running?Yi.push(i):Dt(i)}function ma(Y,q,O){mr=t0;let i=aD(Y,q,!1,Da),X=iD&&e0(iD);X&&(i.suspense=X),(!O||!O.render)&&(i.user=!0),_i?_i.push(i):Dt(i)}function Ya(Y,q,O){O=O?Object.assign({},At,O):At;let i=aD(Y,q,!0,0);return i.observers=null,i.observerSlots=null,i.comparator=O.equals||void 0,tt&&we&&we.running?(i.tState=Da,Yi.push(i)):Dt(i),Jr.bind(i)}function sa(Y){if(!ka&&Ri===null)return Y();let q=Ri;Ri=null;try{return ka?ka.untrack(Y):Y()}finally{Ri=q}}function ur(Y,q,O){let i=Array.isArray(Y),X,p=O&&O.defer;return o=>{let I;if(i){I=Array(Y.length);for(let c=0;c<Y.length;c++)I[c]=Y[c]()}else I=Y();if(p)return p=!1,o;let D=sa(()=>q(I,X,o));return X=I,D}}function fr(Y){ma(()=>sa(Y))}function Qa(Y){return Ii===null||(Ii.cleanups===null?Ii.cleanups=[Y]:Ii.cleanups.push(Y)),Y}function _d(Y){if(we&&we.running)return Y(),we.done;let q=Ri,O=Ii;return Promise.resolve().then(()=>{Ri=q,Ii=O;let i;return(tt||iD)&&(i=we||(we={sources:new Set,effects:[],promises:new Set,disposed:new Set,queue:new Set,running:!0}),i.done||(i.done=new Promise(X=>i.resolve=X)),i.running=!0),pa(Y,!1),Ri=Ii=null,i?i.done:void 0})}var[us,Ir]=Ui(!1);function e0(Y){let q;return Ii&&Ii.context&&(q=Ii.context[Y.id])!==void 0?q:Y.defaultValue}var iD;function Jr(){let Y=we&&we.running;if(this.sources&&(Y?this.tState:this.state))if((Y?this.tState:this.state)===Da)Dt(this);else{let q=Yi;Yi=null,pa(()=>Ut(this),!1),Yi=q}if(Ri){let q=this.observers?this.observers.length:0;Ri.sources?(Ri.sources.push(this),Ri.sourceSlots.push(q)):(Ri.sources=[this],Ri.sourceSlots=[q]),this.observers?(this.observers.push(Ri),this.observerSlots.push(Ri.sources.length-1)):(this.observers=[Ri],this.observerSlots=[Ri.sources.length-1])}return Y&&we.sources.has(this)?this.tValue:this.value}function pr(Y,q,O){let i=we&&we.running&&we.sources.has(Y)?Y.tValue:Y.value;if(!Y.comparator||!Y.comparator(i,q)){if(we){let X=we.running;(X||!O&&we.sources.has(Y))&&(we.sources.add(Y),Y.tValue=q),X||(Y.value=q)}else Y.value=q;Y.observers&&Y.observers.length&&pa(()=>{for(let X=0;X<Y.observers.length;X+=1){let p=Y.observers[X],o=we&&we.running;o&&we.disposed.has(p)||((o?!p.tState:!p.state)&&(p.pure?Yi.push(p):_i.push(p),p.observers&&Tr(p)),o?p.tState=Da:p.state=Da)}if(Yi.length>1e6)throw Yi=[],new Error},!1)}return q}function Dt(Y){if(!Y.fn)return;Ma(Y);let q=Mt;hr(Y,we&&we.running&&we.sources.has(Y)?Y.tValue:Y.value,q),we&&!we.running&&we.sources.has(Y)&&queueMicrotask(()=>{pa(()=>{we&&(we.running=!0),Ri=Ii=Y,hr(Y,Y.tValue,q),Ri=Ii=null},!1)})}function hr(Y,q,O){let i,X=Ii,p=Ri;Ri=Ii=Y;try{i=Y.fn(q)}catch(o){return Y.pure&&(we&&we.running?(Y.tState=Da,Y.tOwned&&Y.tOwned.forEach(Ma),Y.tOwned=void 0):(Y.state=Da,Y.owned&&Y.owned.forEach(Ma),Y.owned=null)),Y.updatedAt=O+1,tD(o)}finally{Ri=p,Ii=X}(!Y.updatedAt||Y.updatedAt<=O)&&(Y.updatedAt!=null&&"observers"in Y?pr(Y,i,!0):we&&we.running&&Y.pure?(we.sources.add(Y),Y.tValue=i):Y.value=i,Y.updatedAt=O)}function aD(Y,q,O,i=Da,X){let p={fn:Y,state:i,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:q,owner:Ii,context:Ii?Ii.context:null,pure:O};if(we&&we.running&&(p.state=0,p.tState=i),Ii===null||Ii!==Lr&&(we&&we.running&&Ii.pure?Ii.tOwned?Ii.tOwned.push(p):Ii.tOwned=[p]:Ii.owned?Ii.owned.push(p):Ii.owned=[p]),ka&&p.fn){let[o,I]=Ui(void 0,{equals:!1}),D=ka.factory(p.fn,I);Qa(()=>D.dispose());let c=()=>_d(I).then(()=>m.dispose()),m=ka.factory(p.fn,c);p.fn=P=>(o(),we&&we.running?m.track(P):D.track(P))}return p}function at(Y){let q=we&&we.running;if((q?Y.tState:Y.state)===0)return;if((q?Y.tState:Y.state)===it)return Ut(Y);if(Y.suspense&&sa(Y.suspense.inFallback))return Y.suspense.effects.push(Y);let O=[Y];for(;(Y=Y.owner)&&(!Y.updatedAt||Y.updatedAt<Mt);){if(q&&we.disposed.has(Y))return;(q?Y.tState:Y.state)&&O.push(Y)}for(let i=O.length-1;i>=0;i--){if(Y=O[i],q){let X=Y,p=O[i+1];for(;(X=X.owner)&&X!==p;)if(we.disposed.has(X))return}if((q?Y.tState:Y.state)===Da)Dt(Y);else if((q?Y.tState:Y.state)===it){let X=Yi;Yi=null,pa(()=>Ut(Y,O[0]),!1),Yi=X}}}function pa(Y,q){if(Yi)return Y();let O=!1;q||(Yi=[]),_i?O=!0:_i=[],Mt++;try{let i=Y();return i0(O),i}catch(i){O||(_i=null),Yi=null,tD(i)}}function i0(Y){if(Yi&&(tt&&we&&we.running?a0(Yi):Br(Yi),Yi=null),Y)return;let q;if(we){if(!we.promises.size&&!we.queue.size){let i=we.sources,X=we.disposed;_i.push.apply(_i,we.effects),q=we.resolve;for(let p of _i)"tState"in p&&(p.state=p.tState),delete p.tState;we=null,pa(()=>{for(let p of X)Ma(p);for(let p of i){if(p.value=p.tValue,p.owned)for(let o=0,I=p.owned.length;o<I;o++)Ma(p.owned[o]);p.tOwned&&(p.owned=p.tOwned),delete p.tValue,delete p.tOwned,p.tState=0}Ir(!1)},!1)}else if(we.running){we.running=!1,we.effects.push.apply(we.effects,_i),_i=null,Ir(!0);return}}let O=_i;_i=null,O.length&&pa(()=>mr(O),!1),q&&q()}function Br(Y){for(let q=0;q<Y.length;q++)at(Y[q])}function a0(Y){for(let q=0;q<Y.length;q++){let O=Y[q],i=we.queue;i.has(O)||(i.add(O),tt(()=>{i.delete(O),pa(()=>{we.running=!0,at(O)},!1),we&&(we.running=!1)}))}}function t0(Y){let q,O=0;for(q=0;q<Y.length;q++){let i=Y[q];i.user?Y[O++]=i:at(i)}if(Ji.context){if(Ji.count){Ji.effects||(Ji.effects=[]),Ji.effects.push(...Y.slice(0,O));return}_t()}for(Ji.effects&&(Ji.done||!Ji.count)&&(Y=[...Ji.effects,...Y],O+=Ji.effects.length,delete Ji.effects),q=0;q<O;q++)at(Y[q])}function Ut(Y,q){let O=we&&we.running;O?Y.tState=0:Y.state=0;for(let i=0;i<Y.sources.length;i+=1){let X=Y.sources[i];if(X.sources){let p=O?X.tState:X.state;p===Da?X!==q&&(!X.updatedAt||X.updatedAt<Mt)&&at(X):p===it&&Ut(X,q)}}}function Tr(Y){let q=we&&we.running;for(let O=0;O<Y.observers.length;O+=1){let i=Y.observers[O];(q?!i.tState:!i.state)&&(q?i.tState=it:i.state=it,i.pure?Yi.push(i):_i.push(i),i.observers&&Tr(i))}}function Ma(Y){let q;if(Y.sources)for(;Y.sources.length;){let O=Y.sources.pop(),i=Y.sourceSlots.pop(),X=O.observers;if(X&&X.length){let p=X.pop(),o=O.observerSlots.pop();i<X.length&&(p.sourceSlots[o]=i,X[i]=p,O.observerSlots[i]=o)}}if(we&&we.running&&Y.pure){if(Y.tOwned){for(q=Y.tOwned.length-1;q>=0;q--)Ma(Y.tOwned[q]);delete Y.tOwned}Rr(Y,!0)}else if(Y.owned){for(q=Y.owned.length-1;q>=0;q--)Ma(Y.owned[q]);Y.owned=null}if(Y.cleanups){for(q=Y.cleanups.length-1;q>=0;q--)Y.cleanups[q]();Y.cleanups=null}we&&we.running?Y.tState=0:Y.state=0}function Rr(Y,q){if(q||(Y.tState=0,we.disposed.add(Y)),Y.owned)for(let O=0;O<Y.owned.length;O++)Rr(Y.owned[O])}function D0(Y){return Y instanceof Error?Y:new Error(typeof Y=="string"?Y:"Unknown error",{cause:Y})}function Hr(Y,q,O){try{for(let i of q)i(Y)}catch(i){tD(i,O&&O.owner||null)}}function tD(Y,q=Ii){let O=or&&q&&q.context&&q.context[or],i=D0(Y);if(!O)throw i;_i?_i.push({fn(){Hr(i,O,q)},state:Da}):Hr(i,O,q)}var r0=Symbol("fallback");function Pr(Y){for(let q=0;q<Y.length;q++)Y[q]()}function d0(Y,q,O={}){let i=[],X=[],p=[],o=0,I=q.length>1?[]:null;return Qa(()=>Pr(p)),()=>{let D=Y()||[],c=D.length,m,P;return D[zd],sa(()=>{let n,r,d,s,t,l,$,h,L;if(c===0)o!==0&&(Pr(p),p=[],i=[],X=[],o=0,I&&(I=[])),O.fallback&&(i=[r0],X[0]=et(U=>(p[0]=U,O.fallback())),o=1);else if(o===0){for(X=new Array(c),P=0;P<c;P++)i[P]=D[P],X[P]=et(a);o=c}else{for(d=new Array(c),s=new Array(c),I&&(t=new Array(c)),l=0,$=Math.min(o,c);l<$&&i[l]===D[l];l++);for($=o-1,h=c-1;$>=l&&h>=l&&i[$]===D[h];$--,h--)d[h]=X[$],s[h]=p[$],I&&(t[h]=I[$]);for(n=new Map,r=new Array(h+1),P=h;P>=l;P--)L=D[P],m=n.get(L),r[P]=m===void 0?-1:m,n.set(L,P);for(m=l;m<=$;m++)L=i[m],P=n.get(L),P!==void 0&&P!==-1?(d[P]=X[m],s[P]=p[m],I&&(t[P]=I[m]),P=r[P],n.set(L,P)):p[m]();for(P=l;P<c;P++)P in d?(X[P]=d[P],p[P]=s[P],I&&(I[P]=t[P],I[P](P))):X[P]=et(a);X=X.slice(0,o=c),i=D.slice(0)}return X});function a(n){if(p[P]=n,I){let[r,d]=Ui(P);return I[P]=d,q(D[P],r)}return q(D[P])}}}var n0=!1;function ea(Y,q){if(n0&&Ji.context){let O=Ji.context;_t(xd());let i=sa(()=>Y(q||{}));return _t(O),i}return sa(()=>Y(q||{}))}function Rt(){return!0}var s0={get(Y,q,O){return q===eD?O:Y.get(q)},has(Y,q){return q===eD?!0:Y.has(q)},set:Rt,deleteProperty:Rt,getOwnPropertyDescriptor(Y,q){return{configurable:!0,enumerable:!0,get(){return Y.get(q)},set:Rt,deleteProperty:Rt}},ownKeys(Y){return Y.keys()}};function zt(Y){return(Y=typeof Y=="function"?Y():Y)?Y:{}}function $0(){for(let Y=0,q=this.length;Y<q;++Y){let O=this[Y]();if(O!==void 0)return O}}function DD(...Y){let q=!1;for(let o=0;o<Y.length;o++){let I=Y[o];q=q||!!I&&eD in I,Y[o]=typeof I=="function"?(q=!0,Ya(I)):I}if(q)return new Proxy({get(o){for(let I=Y.length-1;I>=0;I--){let D=zt(Y[I])[o];if(D!==void 0)return D}},has(o){for(let I=Y.length-1;I>=0;I--)if(o in zt(Y[I]))return!0;return!1},keys(){let o=[];for(let I=0;I<Y.length;I++)o.push(...Object.keys(zt(Y[I])));return[...new Set(o)]}},s0);let O={},i=Object.create(null);for(let o=Y.length-1;o>=0;o--){let I=Y[o];if(!I)continue;let D=Object.getOwnPropertyNames(I);for(let c=D.length-1;c>=0;c--){let m=D[c];if(m==="__proto__"||m==="constructor")continue;let P=Object.getOwnPropertyDescriptor(I,m);if(!i[m])i[m]=P.get?{enumerable:!0,configurable:!0,get:$0.bind(O[m]=[P.get.bind(I)])}:P.value!==void 0?P:void 0;else{let a=O[m];a&&(P.get?a.push(P.get.bind(I)):P.value!==void 0&&a.push(()=>P.value))}}}let X={},p=Object.keys(i);for(let o=p.length-1;o>=0;o--){let I=p[o],D=i[I];D&&D.get?Object.defineProperty(X,I,D):X[I]=D?D.value:void 0}return X}function rD(Y){let q="fallback"in Y&&{fallback:()=>Y.fallback};return Ya(d0(()=>Y.each,Y.children,q||void 0))}var c0=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],o0=new Set(["className","value","readOnly","formNoValidate","isMap","noModule","playsInline",...c0]),I0=new Set(["innerHTML","textContent","innerText","children"]),h0=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),H0=Object.assign(Object.create(null),{class:"className",formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function P0(Y,q){let O=H0[Y];return typeof O=="object"?O[q]?O.$:void 0:O}var m0=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]);var L0={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};function u0(Y,q,O){let i=O.length,X=q.length,p=i,o=0,I=0,D=q[X-1].nextSibling,c=null;for(;o<X||I<p;){if(q[o]===O[I]){o++,I++;continue}for(;q[X-1]===O[p-1];)X--,p--;if(X===o){let m=p<i?I?O[I-1].nextSibling:O[p-I]:D;for(;I<p;)Y.insertBefore(O[I++],m)}else if(p===I)for(;o<X;)(!c||!c.has(q[o]))&&q[o].remove(),o++;else if(q[o]===O[p-1]&&O[I]===q[X-1]){let m=q[--X].nextSibling;Y.insertBefore(O[I++],q[o++].nextSibling),Y.insertBefore(O[--p],m),q[X]=O[p]}else{if(!c){c=new Map;let P=I;for(;P<p;)c.set(O[P],P++)}let m=c.get(q[o]);if(m!=null)if(I<m&&m<p){let P=o,a=1,n;for(;++P<X&&P<p&&!((n=c.get(q[P]))==null||n!==m+a);)a++;if(a>m-I){let r=q[o];for(;I<m;)Y.insertBefore(O[I++],r)}else Y.replaceChild(O[I++],q[o++])}else o++;else q[o++].remove()}}}var Ar="_$DX_DELEGATE";function Sr(Y,q,O,i={}){let X;return et(p=>{X=p,q===document?Y():$a(q,Y(),q.firstChild?null:void 0,O)},i.owner),()=>{X(),q.textContent=""}}function ia(Y,q,O){let i,X=()=>{let o=document.createElement("template");return o.innerHTML=Y,O?o.content.firstChild.firstChild:o.content.firstChild},p=q?()=>sa(()=>document.importNode(i||(i=X()),!0)):()=>(i||(i=X())).cloneNode(!0);return p.cloneNode=p,p}function rt(Y,q=window.document){let O=q[Ar]||(q[Ar]=new Set);for(let i=0,X=Y.length;i<X;i++){let p=Y[i];O.has(p)||(O.add(p),q.addEventListener(p,R0))}}function dD(Y,q,O){nt(Y)||(O==null?Y.removeAttribute(q):Y.setAttribute(q,O))}function f0(Y,q,O,i){nt(Y)||(i==null?Y.removeAttributeNS(q,O):Y.setAttributeNS(q,O,i))}function Mi(Y,q){nt(Y)||(q==null?Y.removeAttribute("class"):Y.className=q)}function Ba(Y,q,O,i){if(i)Array.isArray(O)?(Y[`$$${q}`]=O[0],Y[`$$${q}Data`]=O[1]):Y[`$$${q}`]=O;else if(Array.isArray(O)){let X=O[0];Y.addEventListener(q,O[0]=p=>X.call(Y,O[1],p))}else Y.addEventListener(q,O)}function J0(Y,q,O={}){let i=Object.keys(q||{}),X=Object.keys(O),p,o;for(p=0,o=X.length;p<o;p++){let I=X[p];!I||I==="undefined"||q[I]||(Ur(Y,I,!1),delete O[I])}for(p=0,o=i.length;p<o;p++){let I=i[p],D=!!q[I];!I||I==="undefined"||O[I]===D||!D||(Ur(Y,I,!0),O[I]=D)}return O}function p0(Y,q,O){if(!q)return O?dD(Y,"style"):q;let i=Y.style;if(typeof q=="string")return i.cssText=q;typeof O=="string"&&(i.cssText=O=void 0),O||(O={}),q||(q={});let X,p;for(p in O)q[p]==null&&i.removeProperty(p),delete O[p];for(p in q)X=q[p],X!==O[p]&&(i.setProperty(p,X),O[p]=X);return O}function dt(Y,q={},O,i){let X={};return i||Fi(()=>X.children=Za(Y,q.children,X.children)),Fi(()=>typeof q.ref=="function"&&sD(q.ref,Y)),Fi(()=>B0(Y,q,O,!0,X,!0)),X}function sD(Y,q,O){return sa(()=>Y(q,O))}function $a(Y,q,O,i){if(O!==void 0&&!i&&(i=[]),typeof q!="function")return Za(Y,q,i,O);Fi(X=>Za(Y,q(),X,O),i)}function B0(Y,q,O,i,X={},p=!1){q||(q={});for(let o in X)if(!(o in q)){if(o==="children")continue;X[o]=Mr(Y,o,null,X[o],O,p)}for(let o in q){if(o==="children"){i||Za(Y,q.children);continue}let I=q[o];X[o]=Mr(Y,o,I,X[o],O,p)}}function nt(Y){return!!Ji.context&&!Ji.done&&(!Y||Y.isConnected)}function T0(Y){return Y.toLowerCase().replace(/-([a-z])/g,(q,O)=>O.toUpperCase())}function Ur(Y,q,O){let i=q.trim().split(/\s+/);for(let X=0,p=i.length;X<p;X++)Y.classList.toggle(i[X],O)}function Mr(Y,q,O,i,X,p){let o,I,D,c,m;if(q==="style")return p0(Y,O,i);if(q==="classList")return J0(Y,O,i);if(O===i)return i;if(q==="ref")p||O(Y);else if(q.slice(0,3)==="on:"){let P=q.slice(3);i&&Y.removeEventListener(P,i),O&&Y.addEventListener(P,O)}else if(q.slice(0,10)==="oncapture:"){let P=q.slice(10);i&&Y.removeEventListener(P,i,!0),O&&Y.addEventListener(P,O,!0)}else if(q.slice(0,2)==="on"){let P=q.slice(2).toLowerCase(),a=m0.has(P);if(!a&&i){let n=Array.isArray(i)?i[0]:i;Y.removeEventListener(P,n)}(a||O)&&(Ba(Y,P,O,a),a&&rt([P]))}else if(q.slice(0,5)==="attr:")dD(Y,q.slice(5),O);else if((m=q.slice(0,5)==="prop:")||(D=I0.has(q))||!X&&((c=P0(q,Y.tagName))||(I=o0.has(q)))||(o=Y.nodeName.includes("-"))){if(m)q=q.slice(5),I=!0;else if(nt(Y))return O;q==="class"||q==="className"?Mi(Y,O):o&&!I&&!D?Y[T0(q)]=O:Y[c||q]=O}else{let P=X&&q.indexOf(":")>-1&&L0[q.split(":")[0]];P?f0(Y,P,q,O):dD(Y,h0[q]||q,O)}return O}function R0(Y){if(Ji.registry&&Ji.events&&Ji.events.find(([i,X])=>X===Y))return;let q=`$$${Y.type}`,O=Y.composedPath&&Y.composedPath()[0]||Y.target;for(Y.target!==O&&Object.defineProperty(Y,"target",{configurable:!0,value:O}),Object.defineProperty(Y,"currentTarget",{configurable:!0,get(){return O||document}}),Ji.registry&&!Ji.done&&(Ji.done=_$HY.done=!0);O;){let i=O[q];if(i&&!O.disabled){let X=O[`${q}Data`];if(X!==void 0?i.call(O,X,Y):i.call(O,Y),Y.cancelBubble)return}O=O._$host||O.parentNode||O.host}}function Za(Y,q,O,i,X){let p=nt(Y);if(p){!O&&(O=[...Y.childNodes]);let D=[];for(let c=0;c<O.length;c++){let m=O[c];m.nodeType===8&&m.data.slice(0,2)==="!$"?m.remove():D.push(m)}O=D}for(;typeof O=="function";)O=O();if(q===O)return O;let o=typeof q,I=i!==void 0;if(Y=I&&O[0]&&O[0].parentNode||Y,o==="string"||o==="number"){if(p||o==="number"&&(q=q.toString(),q===O))return O;if(I){let D=O[0];D&&D.nodeType===3?D.data!==q&&(D.data=q):D=document.createTextNode(q),O=ga(Y,O,i,D)}else O!==""&&typeof O=="string"?O=Y.firstChild.data=q:O=Y.textContent=q}else if(q==null||o==="boolean"){if(p)return O;O=ga(Y,O,i)}else{if(o==="function")return Fi(()=>{let D=q();for(;typeof D=="function";)D=D();O=Za(Y,D,O,i)}),()=>O;if(Array.isArray(q)){let D=[],c=O&&Array.isArray(O);if(nD(D,q,O,X))return Fi(()=>O=Za(Y,D,O,i,!0)),()=>O;if(p){if(!D.length)return O;if(i===void 0)return O=[...Y.childNodes];let m=D[0];if(m.parentNode!==Y)return O;let P=[m];for(;(m=m.nextSibling)!==i;)P.push(m);return O=P}if(D.length===0){if(O=ga(Y,O,i),I)return O}else c?O.length===0?br(Y,D,i):u0(Y,O,D):(O&&ga(Y),br(Y,D));O=D}else if(q.nodeType){if(p&&q.parentNode)return O=I?[q]:q;if(Array.isArray(O)){if(I)return O=ga(Y,O,i,q);ga(Y,O,null,q)}else O==null||O===""||!Y.firstChild?Y.appendChild(q):Y.replaceChild(q,Y.firstChild);O=q}}return O}function nD(Y,q,O,i){let X=!1;for(let p=0,o=q.length;p<o;p++){let I=q[p],D=O&&O[Y.length],c;if(!(I==null||I===!0||I===!1))if((c=typeof I)=="object"&&I.nodeType)Y.push(I);else if(Array.isArray(I))X=nD(Y,I,D)||X;else if(c==="function")if(i){for(;typeof I=="function";)I=I();X=nD(Y,Array.isArray(I)?I:[I],Array.isArray(D)?D:[D])||X}else Y.push(I),X=!0;else{let m=String(I);D&&D.nodeType===3&&D.data===m?Y.push(D):Y.push(document.createTextNode(m))}}return X}function br(Y,q,O=null){for(let i=0,X=q.length;i<X;i++)Y.insertBefore(q[i],O)}function ga(Y,q,O,i){if(O===void 0)return Y.textContent="";let X=i||document.createTextNode("");if(q.length){let p=!1;for(let o=q.length-1;o>=0;o--){let I=q[o];if(X!==I){let D=I.parentNode===Y;!p&&!o?D?Y.replaceChild(X,I):Y.insertBefore(X,O):D&&I.remove()}else p=!0}}else Y.insertBefore(X,O);return[X]}var Xs=Symbol();var Va={header:"_header_1ir70_1",logo:"_logo_1ir70_12",vr:"_vr_1ir70_17",gap:"_gap_1ir70_24",title:"_title_1ir70_27"};var Qr=yi(St(),1),A0=ia("<header><div></div><hr><span>shitty ai music");function Qt(){return(()=>{var Y=A0(),q=Y.firstChild,O=q.nextSibling,i=O.nextSibling;return Fi(X=>{var p=Va.header,o=Va.logo,I=Va.vr,D=(0,Qr.default)(Va.gap,Va.title);return p!==X.e&&Mi(Y,X.e=p),o!==X.t&&Mi(q,X.t=o),I!==X.a&&Mi(O,X.a=I),D!==X.o&&Mi(i,X.o=D),X},{e:void 0,t:void 0,a:void 0,o:void 0}),Y})()}var Bd=yi(lD(),1),oa=yi(St(),1),TD=yi(Cr(),1);var bi={note:"_note_n6hec_1",device:"_device_n6hec_12",play:"_play_n6hec_26",prev:"_prev_n6hec_26",next:"_next_n6hec_26",pressed:"_pressed_n6hec_35",textCanvasWrapper:"_textCanvasWrapper_n6hec_49",invisible:"_invisible_n6hec_67",button:"_button_n6hec_71",eject:"_eject_n6hec_89",hide:"_hide_n6hec_97"};var Kr=yi(lD(),1),Xt=class extends Kr.default.Texture{constructor(q,O,i,X){return super(q,O),this.width=i,this.height=X,this}_getTextureDataFromSource(){return this.src}init(q){let O=this._renderer.GL;this.glTex=q,this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.setInterpolation(this.glMinFilter,this.glMagFilter)}update(){return!1}},st=class{constructor(q){this._renderer=q._renderer;let O=this._renderer.GL,i=O.getExtension("WEBGL_depth_texture"),X=this._renderer.width,p=this._renderer.height,o=this._renderer._pInst._pixelDensity,I=O.createTexture();O.bindTexture(O.TEXTURE_2D,I),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),O.texImage2D(O.TEXTURE_2D,0,O.RGBA,X*o,p*o,0,O.RGBA,O.UNSIGNED_BYTE,null);let D=O.createTexture();O.bindTexture(O.TEXTURE_2D,D),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MAG_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_MIN_FILTER,O.NEAREST),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_S,O.CLAMP_TO_EDGE),O.texParameteri(O.TEXTURE_2D,O.TEXTURE_WRAP_T,O.CLAMP_TO_EDGE),O.texImage2D(O.TEXTURE_2D,0,O.DEPTH_COMPONENT,X*o,p*o,0,O.DEPTH_COMPONENT,O.UNSIGNED_SHORT,null);let c=O.createFramebuffer();O.bindFramebuffer(O.FRAMEBUFFER,c),O.framebufferTexture2D(O.FRAMEBUFFER,O.COLOR_ATTACHMENT0,O.TEXTURE_2D,I,0),O.framebufferTexture2D(O.FRAMEBUFFER,O.DEPTH_ATTACHMENT,O.TEXTURE_2D,D,0);let m=new Xt(this._renderer,D,X*o,p*o);this._renderer.textures.set("depthP5Texture",m);let P=new Xt(this._renderer,I,X*o,p*o);this._renderer.textures.set("colorP5Texture",P),O.bindTexture(O.TEXTURE_2D,null),O.bindFramebuffer(O.FRAMEBUFFER,null),this.framebuffer=c,this.depth=D,this.color=I}draw(q){this._renderer.GL.bindFramebuffer(this._renderer.GL.FRAMEBUFFER,this.framebuffer),q(),this._renderer.GL.bindFramebuffer(this._renderer.GL.FRAMEBUFFER,null)}};var kr=`attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

varying highp vec2 vVertTexCoord;

void main(void) {
    vec4 positionVec4 = vec4(aPosition, 1.0);
    gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    vVertTexCoord = aTexCoord;
}
`;var Yr=`#ifdef GL_ES
precision highp float;
#endif

#define PI 3.1415926538

// Samplers
varying vec2 vVertTexCoord;
uniform sampler2D textureSampler;

// Parameters
uniform vec2 screenResolution;
uniform vec2 scanLineOpacity;
uniform float vignetteOpacity;
uniform float brightness;
uniform float vignetteRoundness;


vec4 scanLineIntensity(float uv, float resolution, float opacity)
{
    float intensity = sin(uv * resolution * PI * 2.0);
    intensity = ((0.5 * intensity) + 0.5) * 0.9 + 0.1;
    return vec4(vec3(pow(intensity, opacity)), 1.0);
}

vec4 vignetteIntensity(vec2 uv, vec2 resolution, float opacity, float roundness)
{
    float intensity = uv.x * uv.y * (1.0 - uv.x) * (1.0 - uv.y);
    return vec4(vec3(clamp(pow((resolution.x / roundness) * intensity, opacity), 0.0, 1.0)), 1.0);
}

void main(void)
{
    vec2 remappedUV = vVertTexCoord;
    vec4 baseColor = texture2D(textureSampler, remappedUV);

    baseColor *= vignetteIntensity(remappedUV, screenResolution, vignetteOpacity, vignetteRoundness);

    baseColor *= scanLineIntensity(remappedUV.x, screenResolution.y, scanLineOpacity.x);
    baseColor *= scanLineIntensity(remappedUV.y, screenResolution.x, scanLineOpacity.y);

    baseColor *= vec4(vec3(brightness), 1.0);

    if (remappedUV.x < 0.0 || remappedUV.y < 0.0 || remappedUV.x > 1.0 || remappedUV.y > 1.0){
        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0);
    } else {
        gl_FragColor = baseColor;
    }
}
`;var gr="./MartianMono-Medium-ZP7K6W5L.ttf";function ID(Y,q){let i,X,p,o;q.preload=()=>{o=q.loadFont(gr)},q.setup=()=>{q.createCanvas(1560,470,q.WEBGL),q.pixelDensity(1),p=q.createGraphics(1560,470),i=new st(q),X=q.createShader(kr,Yr),q.drawingContext.disable(q.drawingContext.DEPTH_TEST),q.drawingContext.enable(q.drawingContext.BLEND)},q.draw=()=>{q.frameCount%60&&G0(p,o,Y,6),i.draw(()=>{q.push(),q.clear(),q.image(p,-q.width/2,-q.height/2),q.pop()}),q.clear(),q.push(),q.noStroke(),q.rectMode(q.CENTER),q.shader(X),q._renderer.textures.get("colorP5Texture").setInterpolation(q._renderer.GL.NEAREST,q._renderer.GL.NEAREST),X.setUniform("textureSampler",q._renderer.textures.get("colorP5Texture")),X.setUniform("screenResolution",[q.height/6,q.width/6]),X.setUniform("scanLineOpacity",[1,1]),X.setUniform("vignetteOpacity",1),X.setUniform("brightness",4),X.setUniform("vignetteRoundness",2),q.rect(0,0,q.width,-q.height),q.pop()}}var Zr=Y=>Array.isArray(Y.str),Vr=Y=>{let q=performance.now()%Y.duration/Y.duration,O;for(let i=Y.str.length-1;i>=0;i--)if(Y.str[i].p<q){O=Y.str[i];break}return O};function G0(Y,q,O,i){Y.background(0),Y.textFont(q);for(let X of O())Y.textSize(X.size),Y.textAlign("align"in X&&X.align?X.align:"left"),Y.fill(191,64,255),Zr(X)?Y.text(Vr(X)?.text??"",X.x,X.y):Y.text(X.str,X.x,X.y);Y.filter(Y.BLUR,24);for(let X of O())Y.textSize(X.size),Y.textAlign("align"in X&&X.align?X.align:"left"),Y.fill(191,95,255),Zr(X)?Y.text(Vr(X)?.text??"",X.x,X.y):Y.text(X.str,X.x,X.y);Y.loadPixels(),Y.noStroke();for(let X=0;X<Y.width;X+=i)for(let p=0;p<Y.height;p+=i){let o=(X+p*Y.width)*4,I=Y.pixels[o+0],D=Y.pixels[o+1],c=Y.pixels[o+2],m=Y.pixels[o+3];Y.fill(I,D,c,m),Y.square(X-1,p-3,i)}}var xr=yi(Gr(),1);var Or="./ui-buttonpress-XOEZHR5F.mp3";var Wr="./ui-buttonup-SIQBL75A.mp3";var wr=window.AudioContext||window.webkitAudioContext,Xa=new wr,Ft=new wr,HD=Ft.createGain();HD.gain.value=.1;function zr(Y){return fetch(Y).then(q=>q.arrayBuffer()).then(q=>Xa.decodeAudioData(q))}var _r=null,la=null,La=null,ba=null;async function ed(Y){_r=await fetch(Y).then(q=>q.arrayBuffer()).then(q=>Xa.decodeAudioData(q)),La=null,ba=null}var PD={ButtonPress:.3,ButtonUp:.6},hn=Object.fromEntries(Array.from(new Set(Object.values(PD))).map(Y=>{let q=Xa.createGain();return q.gain.value=Y,[Y,q]})),mD={};zr(Or).then(Y=>mD.ButtonPress=Y);zr(Wr).then(Y=>mD.ButtonUp=Y);function Hn(Y){let q=mD[Y];Xa.resume();let O=Xa.createBufferSource();if(O.buffer=q,Y in PD){let i=hn[PD[Y]];O.connect(i),i.connect(Xa.destination)}else O.connect(Xa.destination);O.start(0)}function Na(Y){ua!==null&&clearInterval(ua),Ft.resume(),la?.stop(0),la=Ft.createBufferSource(),la.buffer=_r,la.connect(HD),HD.connect(Ft.destination),la.addEventListener("ended",Y),La?(ba=Date.now()-La,la.start(0,La/1e3)):(ba=Date.now(),la.start(0))}var ua=null;function $t(){ua!==null&&clearInterval(ua),ba&&(la?.stop(0),La=Date.now()-ba,la=null)}function Et(){ua!==null&&clearInterval(ua),la?.stop(0),la=null,La=null,ba=null}function id(){$t(),ua=setInterval(()=>La-=1e3,100)}function ad(){$t(),ua=setInterval(()=>La+=1e3,30)}function td(){ua!==null&&clearInterval(ua),ba=Date.now()-(La??Date.now())}function Dd(){return Math.round((Date.now()-(ba??Date.now()))/1e3)}function rd(){return Math.round((La??0)/1e3)}var LD=(0,xr.default)(Hn,20);var Ta=yi(Ct(),1);function JD(Y){return typeof Y=="number"}function uD(Y){return typeof Y=="string"}function Kt(Y){return typeof Y=="boolean"}function dd(Y){return Object.prototype.toString.call(Y)==="[object Object]"}function Si(Y){return Math.abs(Y)}function pD(Y){return Math.sign(Y)}function ct(Y,q){return Si(Y-q)}function mn(Y,q){if(Y===0||q===0||Si(Y)<=Si(q))return 0;let O=ct(Si(Y),Si(q));return Si(O/Y)}function ot(Y){return It(Y).map(Number)}function ca(Y){return Y[Ht(Y)]}function Ht(Y){return Math.max(0,Y.length-1)}function BD(Y,q){return q===Ht(Y)}function nd(Y,q=0){return Array.from(Array(Y),(O,i)=>q+i)}function It(Y){return Object.keys(Y)}function sd(Y,q){return[Y,q].reduce((O,i)=>(It(i).forEach(X=>{let p=O[X],o=i[X],I=dd(p)&&dd(o);O[X]=I?sd(p,o):o}),O),{})}function fD(Y,q){return typeof q.MouseEvent<"u"&&Y instanceof q.MouseEvent}function Ln(Y,q){let O={start:i,center:X,end:p};function i(){return 0}function X(D){return p(D)/2}function p(D){return q-D}function o(D,c){return uD(Y)?O[Y](D):Y(q,D,c)}return{measure:o}}function ht(){let Y=[];function q(X,p,o,I={passive:!0}){let D;if("addEventListener"in X)X.addEventListener(p,o,I),D=()=>X.removeEventListener(p,o,I);else{let c=X;c.addListener(o),D=()=>c.removeListener(o)}return Y.push(D),i}function O(){Y=Y.filter(X=>X())}let i={add:q,clear:O};return i}function un(Y,q,O,i){let X=ht(),p=1e3/60,o=null,I=0,D=0;function c(){X.add(Y,"visibilitychange",()=>{Y.hidden&&r()})}function m(){n(),X.clear()}function P(s){if(!D)return;o||(o=s);let t=s-o;for(o=s,I+=t;I>=p;)O(p),I-=p;let l=I/p;i(l),D&&q.requestAnimationFrame(P)}function a(){D||(D=q.requestAnimationFrame(P))}function n(){q.cancelAnimationFrame(D),o=null,I=0,D=0}function r(){o=null,I=0}return{init:c,destroy:m,start:a,stop:n,update:()=>O(p),render:i}}function fn(Y,q){let O=q==="rtl",i=Y==="y",X=i?"y":"x",p=i?"x":"y",o=!i&&O?-1:1,I=m(),D=P();function c(r){let{height:d,width:s}=r;return i?d:s}function m(){return i?"top":O?"right":"left"}function P(){return i?"bottom":O?"left":"right"}function a(r){return r*o}return{scroll:X,cross:p,startEdge:I,endEdge:D,measureSize:c,direction:a}}function ja(Y=0,q=0){let O=Si(Y-q);function i(c){return c<Y}function X(c){return c>q}function p(c){return i(c)||X(c)}function o(c){return p(c)?i(c)?Y:q:c}function I(c){return O?c-O*Math.ceil((c-q)/O):c}return{length:O,max:q,min:Y,constrain:o,reachedAny:p,reachedMax:X,reachedMin:i,removeOffset:I}}function $d(Y,q,O){let{constrain:i}=ja(0,Y),X=Y+1,p=o(q);function o(a){return O?Si((X+a)%X):i(a)}function I(){return p}function D(a){return p=o(a),P}function c(a){return m().set(I()+a)}function m(){return $d(Y,I(),O)}let P={get:I,set:D,add:c,clone:m};return P}function Jn(Y,q,O,i,X,p,o,I,D,c,m,P,a,n,r,d,s,t,l){let{cross:$,direction:h}=Y,L=["INPUT","SELECT","TEXTAREA"],U={passive:!1},T=ht(),B=ht(),J=ja(50,225).constrain(n.measure(20)),S={mouse:300,touch:400},A={mouse:500,touch:600},Q=r?43:25,M=!1,k=0,C=0,j=!1,G=!1,y=!1,g=!1;function N(de){if(!l)return;function ne(oe){(Kt(l)||l(de,oe))&&Z(oe)}let z=q;T.add(z,"dragstart",oe=>oe.preventDefault(),U).add(z,"touchmove",()=>{},U).add(z,"touchend",()=>{}).add(z,"touchstart",ne).add(z,"mousedown",ne).add(z,"touchcancel",ee).add(z,"contextmenu",ee).add(z,"click",De,!0)}function w(){T.clear(),B.clear()}function ce(){let de=g?O:q;B.add(de,"touchmove",W,U).add(de,"touchend",ee).add(de,"mousemove",W,U).add(de,"mouseup",ee)}function F(de){let ne=de.nodeName||"";return L.includes(ne)}function f(){return(r?A:S)[g?"mouse":"touch"]}function E(de,ne){let z=P.add(pD(de)*-1),oe=m.byDistance(de,!r).distance;return r||Si(de)<J?oe:s&&ne?oe*.5:m.byIndex(z.get(),0).distance}function Z(de){let ne=fD(de,i);g=ne,y=r&&ne&&!de.buttons&&M,M=ct(X.get(),o.get())>=2,!(ne&&de.button!==0)&&(F(de.target)||(j=!0,p.pointerDown(de),c.useFriction(0).useDuration(0),X.set(o),ce(),k=p.readPoint(de),C=p.readPoint(de,$),a.emit("pointerDown")))}function W(de){if(!fD(de,i)&&de.touches.length>=2)return ee(de);let z=p.readPoint(de),oe=p.readPoint(de,$),he=ct(z,k),Je=ct(oe,C);if(!G&&!g&&(!de.cancelable||(G=he>Je,!G)))return ee(de);let Pe=p.pointerMove(de);he>d&&(y=!0),c.useFriction(.3).useDuration(.75),I.start(),X.add(h(Pe)),de.preventDefault()}function ee(de){let z=m.byDistance(0,!1).index!==P.get(),oe=p.pointerUp(de)*f(),he=E(h(oe),z),Je=mn(oe,he),Pe=Q-10*Je,me=t+Je/50;G=!1,j=!1,B.clear(),c.useDuration(Pe).useFriction(me),D.distance(he,!r),g=!1,a.emit("pointerUp")}function De(de){y&&(de.stopPropagation(),de.preventDefault(),y=!1)}function $e(){return j}return{init:N,destroy:w,pointerDown:$e}}function pn(Y,q){let i,X;function p(P){return P.timeStamp}function o(P,a){let r=`client${(a||Y.scroll)==="x"?"X":"Y"}`;return(fD(P,q)?P:P.touches[0])[r]}function I(P){return i=P,X=P,o(P)}function D(P){let a=o(P)-o(X),n=p(P)-p(i)>170;return X=P,n&&(i=P),a}function c(P){if(!i||!X)return 0;let a=o(X)-o(i),n=p(P)-p(i),r=p(P)-p(X)>170,d=a/n;return n&&!r&&Si(d)>.1?d:0}return{pointerDown:I,pointerMove:D,pointerUp:c,readPoint:o}}function Bn(){function Y(O){let{offsetTop:i,offsetLeft:X,offsetWidth:p,offsetHeight:o}=O;return{top:i,right:X+p,bottom:i+o,left:X,width:p,height:o}}return{measure:Y}}function Tn(Y){function q(i){return Y*(i/100)}return{measure:q}}function Rn(Y,q,O,i,X,p,o){let I=[Y].concat(i),D,c,m=[],P=!1;function a(s){return X.measureSize(o.measure(s))}function n(s){if(!p)return;c=a(Y),m=i.map(a);function t(l){for(let $ of l){if(P)return;let h=$.target===Y,L=i.indexOf($.target),U=h?c:m[L],T=a(h?Y:i[L]);if(Si(T-U)>=.5){s.reInit(),q.emit("resize");break}}}D=new ResizeObserver(l=>{(Kt(p)||p(s,l))&&t(l)}),O.requestAnimationFrame(()=>{I.forEach(l=>D.observe(l))})}function r(){P=!0,D&&D.disconnect()}return{init:n,destroy:r}}function An(Y,q,O,i,X,p){let o=0,I=0,D=X,c=p,m=Y.get(),P=0;function a(U){let T=U/1e3,B=D*T,J=i.get()-Y.get(),S=!D,A=0;return S?(o=0,O.set(i),Y.set(i),A=J):(O.set(Y),o+=J/B,o*=c,m+=o,Y.add(o*T),A=m-P),I=pD(A),P=m,L}function n(){let U=i.get()-q.get();return Si(U)<.001}function r(){return D}function d(){return I}function s(){return o}function t(){return $(X)}function l(){return h(p)}function $(U){return D=U,L}function h(U){return c=U,L}let L={direction:d,duration:r,velocity:s,seek:a,settled:n,useBaseFriction:l,useBaseDuration:t,useFriction:h,useDuration:$};return L}function Un(Y,q,O,i,X){let p=X.measure(10),o=X.measure(50),I=ja(.1,.99),D=!1;function c(){return!(D||!Y.reachedAny(O.get())||!Y.reachedAny(q.get()))}function m(n){if(!c())return;let r=Y.reachedMin(q.get())?"min":"max",d=Si(Y[r]-q.get()),s=O.get()-q.get(),t=I.constrain(d/o);O.subtract(s*t),!n&&Si(s)<p&&(O.set(Y.constrain(O.get())),i.useDuration(25).useBaseFriction())}function P(n){D=!n}return{shouldConstrain:c,constrain:m,toggleActive:P}}function Mn(Y,q,O,i,X){let p=ja(-q+Y,0),o=P(),I=m(),D=a();function c(r,d){return ct(r,d)<1}function m(){let r=o[0],d=ca(o),s=o.lastIndexOf(r),t=o.indexOf(d)+1;return ja(s,t)}function P(){return O.map((r,d)=>{let{min:s,max:t}=p,l=p.constrain(r),$=!d,h=BD(O,d);return $?t:h||c(s,l)?s:c(t,l)?t:l}).map(r=>parseFloat(r.toFixed(3)))}function a(){if(q<=Y+X)return[p.max];if(i==="keepSnaps")return o;let{min:r,max:d}=I;return o.slice(r,d)}return{snapsContained:D,scrollContainLimit:I}}function bn(Y,q,O){let i=q[0],X=O?i-Y:ca(q);return{limit:ja(X,i)}}function Sn(Y,q,O,i){let p=q.min+.1,o=q.max+.1,{reachedMin:I,reachedMax:D}=ja(p,o);function c(a){return a===1?D(O.get()):a===-1?I(O.get()):!1}function m(a){if(!c(a))return;let n=Y*(a*-1);i.forEach(r=>r.add(n))}return{loop:m}}function Qn(Y){let{max:q,length:O}=Y;function i(p){let o=p-q;return O?o/-O:0}return{get:i}}function Xn(Y,q,O,i,X){let{startEdge:p,endEdge:o}=Y,{groupSlides:I}=X,D=P().map(q.measure),c=a(),m=n();function P(){return I(i).map(d=>ca(d)[o]-d[0][p]).map(Si)}function a(){return i.map(d=>O[p]-d[p]).map(d=>-Si(d))}function n(){return I(c).map(d=>d[0]).map((d,s)=>d+D[s])}return{snaps:c,snapsAligned:m}}function jn(Y,q,O,i,X,p){let{groupSlides:o}=X,{min:I,max:D}=i,c=m();function m(){let a=o(p),n=!Y||q==="keepSnaps";return O.length===1?[p]:n?a:a.slice(I,D).map((r,d,s)=>{let t=!d,l=BD(s,d);if(t){let $=ca(s[0])+1;return nd($)}if(l){let $=Ht(p)-ca(s)[0]+1;return nd($,ca(s)[0])}return r})}return{slideRegistry:c}}function Fn(Y,q,O,i,X){let{reachedAny:p,removeOffset:o,constrain:I}=i;function D(r){return r.concat().sort((d,s)=>Si(d)-Si(s))[0]}function c(r){let d=Y?o(r):I(r),s=q.map((l,$)=>({diff:m(l-d,0),index:$})).sort((l,$)=>Si(l.diff)-Si($.diff)),{index:t}=s[0];return{index:t,distance:d}}function m(r,d){let s=[r,r+O,r-O];if(!Y)return r;if(!d)return D(s);let t=s.filter(l=>pD(l)===d);return t.length?D(t):ca(s)-O}function P(r,d){let s=q[r]-X.get(),t=m(s,d);return{index:r,distance:t}}function a(r,d){let s=X.get()+r,{index:t,distance:l}=c(s),$=!Y&&p(s);if(!d||$)return{index:t,distance:r};let h=q[t]-l,L=r+m(h,0);return{index:t,distance:L}}return{byDistance:a,byIndex:P,shortcut:m}}function En(Y,q,O,i,X,p,o){function I(P){let a=P.distance,n=P.index!==q.get();p.add(a),a&&(i.duration()?Y.start():(Y.update(),Y.render(1),Y.update())),n&&(O.set(q.get()),q.set(P.index),o.emit("select"))}function D(P,a){let n=X.byDistance(P,a);I(n)}function c(P,a){let n=q.clone().set(P),r=X.byIndex(n.get(),a);I(r)}return{distance:D,index:c}}function Cn(Y,q,O,i,X,p,o,I){let D={passive:!0,capture:!0},c=0;function m(n){if(!I)return;function r(d){if(new Date().getTime()-c>10)return;o.emit("slideFocusStart"),Y.scrollLeft=0;let l=O.findIndex($=>$.includes(d));JD(l)&&(X.useDuration(0),i.index(l,0),o.emit("slideFocus"))}p.add(document,"keydown",P,!1),q.forEach((d,s)=>{p.add(d,"focus",t=>{(Kt(I)||I(n,t))&&r(s)},D)})}function P(n){n.code==="Tab"&&(c=new Date().getTime())}return{init:m}}function lt(Y){let q=Y;function O(){return q}function i(D){q=o(D)}function X(D){q+=o(D)}function p(D){q-=o(D)}function o(D){return JD(D)?D:D.get()}return{get:O,set:i,add:X,subtract:p}}function ld(Y,q){let O=Y.scroll==="x"?p:o,i=q.style,X=!1;function p(P){return`translate3d(${P}px,0px,0px)`}function o(P){return`translate3d(0px,${P}px,0px)`}function I(P){X||(i.transform=O(Y.direction(P)))}function D(P){X=!P}function c(){X||(i.transform="",q.getAttribute("style")||q.removeAttribute("style"))}return{clear:c,to:I,toggleActive:D}}function Kn(Y,q,O,i,X,p,o,I,D){let m=ot(X),P=ot(X).reverse(),a=t().concat(l());function n(T,B){return T.reduce((J,S)=>J-X[S],B)}function r(T,B){return T.reduce((J,S)=>n(J,B)>0?J.concat([S]):J,[])}function d(T){return p.map((B,J)=>({start:B-i[J]+.5+T,end:B+q-.5+T}))}function s(T,B,J){let S=d(B);return T.map(A=>{let Q=J?0:-O,M=J?O:0,k=J?"end":"start",C=S[A][k];return{index:A,loopPoint:C,slideLocation:lt(-1),translate:ld(Y,D[A]),target:()=>I.get()>C?Q:M}})}function t(){let T=o[0],B=r(P,T);return s(B,O,!1)}function l(){let T=q-o[0]-1,B=r(m,T);return s(B,-O,!0)}function $(){return a.every(({index:T})=>{let B=m.filter(J=>J!==T);return n(B,q)<=.1})}function h(){a.forEach(T=>{let{target:B,translate:J,slideLocation:S}=T,A=B();A!==S.get()&&(J.to(A),S.set(A))})}function L(){a.forEach(T=>T.translate.clear())}return{canLoop:$,clear:L,loop:h,loopPoints:a}}function kn(Y,q,O){let i,X=!1;function p(D){if(!O)return;function c(m){for(let P of m)if(P.type==="childList"){D.reInit(),q.emit("slidesChanged");break}}i=new MutationObserver(m=>{X||(Kt(O)||O(D,m))&&c(m)}),i.observe(Y,{childList:!0})}function o(){i&&i.disconnect(),X=!0}return{init:p,destroy:o}}function Yn(Y,q,O,i){let X={},p=null,o=null,I,D=!1;function c(){I=new IntersectionObserver(r=>{D||(r.forEach(d=>{let s=q.indexOf(d.target);X[s]=d}),p=null,o=null,O.emit("slidesInView"))},{root:Y.parentElement,threshold:i}),q.forEach(r=>I.observe(r))}function m(){I&&I.disconnect(),D=!0}function P(r){return It(X).reduce((d,s)=>{let t=parseInt(s),{isIntersecting:l}=X[t];return(r&&l||!r&&!l)&&d.push(t),d},[])}function a(r=!0){if(r&&p)return p;if(!r&&o)return o;let d=P(r);return r&&(p=d),r||(o=d),d}return{init:c,destroy:m,get:a}}function gn(Y,q,O,i,X,p){let{measureSize:o,startEdge:I,endEdge:D}=Y,c=O[0]&&X,m=r(),P=d(),a=O.map(o),n=s();function r(){if(!c)return 0;let l=O[0];return Si(q[I]-l[I])}function d(){if(!c)return 0;let l=p.getComputedStyle(ca(i));return parseFloat(l.getPropertyValue(`margin-${D}`))}function s(){return O.map((l,$,h)=>{let L=!$,U=BD(h,$);return L?a[$]+m:U?a[$]+P:h[$+1][I]-l[I]}).map(Si)}return{slideSizes:a,slideSizesWithGaps:n,startGap:m,endGap:P}}function Zn(Y,q,O,i,X,p,o,I,D){let{startEdge:c,endEdge:m,direction:P}=Y,a=JD(O);function n(t,l){return ot(t).filter($=>$%l===0).map($=>t.slice($,$+l))}function r(t){return t.length?ot(t).reduce((l,$,h)=>{let L=ca(l)||0,U=L===0,T=$===Ht(t),B=X[c]-p[L][c],J=X[c]-p[$][m],S=!i&&U?P(o):0,A=!i&&T?P(I):0,Q=Si(J-A-(B+S));return h&&Q>q+D&&l.push($),T&&l.push(t.length),l},[]).map((l,$,h)=>{let L=Math.max(h[$-1]||0);return t.slice(L,l)}):[]}function d(t){return a?n(t,O):r(t)}return{groupSlides:d}}function Vn(Y,q,O,i,X,p,o){let{align:I,axis:D,direction:c,startIndex:m,loop:P,duration:a,dragFree:n,dragThreshold:r,inViewThreshold:d,slidesToScroll:s,skipSnaps:t,containScroll:l,watchResize:$,watchSlides:h,watchDrag:L,watchFocus:U}=p,T=2,B=Bn(),J=B.measure(q),S=O.map(B.measure),A=fn(D,c),Q=A.measureSize(J),M=Tn(Q),k=Ln(I,Q),C=!P&&!!l,j=P||!!l,{slideSizes:G,slideSizesWithGaps:y,startGap:g,endGap:N}=gn(A,J,S,O,j,X),w=Zn(A,Q,s,P,J,S,g,N,T),{snaps:ce,snapsAligned:F}=Xn(A,k,J,S,w),f=-ca(ce)+ca(y),{snapsContained:E,scrollContainLimit:Z}=Mn(Q,f,F,l,T),W=C?E:F,{limit:ee}=bn(f,W,P),De=$d(Ht(W),m,P),$e=De.clone(),te=ot(O),de=({dragHandler:Te,scrollBody:_,scrollBounds:ae,options:{loop:x}},re)=>{x||ae.constrain(Te.pointerDown()),_.seek(re)},ne=({scrollBody:Te,translate:_,location:ae,offsetLocation:x,scrollLooper:re,slideLooper:Le,dragHandler:Be,animation:Qe,eventHandler:ke,scrollBounds:ge,options:{loop:Ze}},qe)=>{let di=Te.settled(),ti=!ge.shouldConstrain(),ze=Ze?di:di&&ti;ze&&!Be.pointerDown()&&(Qe.stop(),ke.emit("settle")),ze||ke.emit("scroll");let ri=ae.get()*qe+Pe.get()*(1-qe);x.set(ri),Ze&&(re.loop(Te.direction()),Le.loop()),_.to(x.get())},z=un(i,X,Te=>de(Fe,Te),Te=>ne(Fe,Te)),oe=.68,he=W[De.get()],Je=lt(he),Pe=lt(he),me=lt(he),Re=lt(he),je=An(Je,me,Pe,Re,a,oe),be=Fn(P,W,f,ee,Re),We=En(z,De,$e,je,be,Re,o),Ve=Qn(ee),Ne=ht(),ve=Yn(q,O,o,d),{slideRegistry:ye}=jn(C,l,W,Z,w,te),fe=Cn(Y,O,ye,We,je,Ne,o,U),Fe={ownerDocument:i,ownerWindow:X,eventHandler:o,containerRect:J,slideRects:S,animation:z,axis:A,dragHandler:Jn(A,Y,i,X,Re,pn(A,X),Je,z,We,je,be,De,o,M,n,r,t,oe,L),eventStore:Ne,percentOfView:M,index:De,indexPrevious:$e,limit:ee,location:Je,offsetLocation:me,previousLocation:Pe,options:p,resizeHandler:Rn(q,o,X,O,A,$,B),scrollBody:je,scrollBounds:Un(ee,me,Re,je,M),scrollLooper:Sn(f,ee,me,[Je,me,Pe,Re]),scrollProgress:Ve,scrollSnapList:W.map(Ve.get),scrollSnaps:W,scrollTarget:be,scrollTo:We,slideLooper:Kn(A,Q,f,G,y,ce,W,me,O),slideFocus:fe,slidesHandler:kn(q,o,h),slidesInView:ve,slideIndexes:te,slideRegistry:ye,slidesToScroll:w,target:Re,translate:ld(A,q)};return Fe}function Nn(){let Y={},q;function O(c){q=c}function i(c){return Y[c]||[]}function X(c){return i(c).forEach(m=>m(q,c)),D}function p(c,m){return Y[c]=i(c).concat([m]),D}function o(c,m){return Y[c]=i(c).filter(P=>P!==m),D}function I(){Y={}}let D={init:O,emit:X,off:o,on:p,clear:I};return D}var yn={align:"center",axis:"x",container:null,slides:null,containScroll:"trimSnaps",direction:"ltr",slidesToScroll:1,inViewThreshold:0,breakpoints:{},dragFree:!1,dragThreshold:10,loop:!1,skipSnaps:!1,duration:25,startIndex:0,active:!0,watchDrag:!0,watchResize:!0,watchSlides:!0,watchFocus:!0};function qn(Y){function q(p,o){return sd(p,o||{})}function O(p){let o=p.breakpoints||{},I=It(o).filter(D=>Y.matchMedia(D).matches).map(D=>o[D]).reduce((D,c)=>q(D,c),{});return q(p,I)}function i(p){return p.map(o=>It(o.breakpoints||{})).reduce((o,I)=>o.concat(I),[]).map(Y.matchMedia)}return{mergeOptions:q,optionsAtMedia:O,optionsMediaQueries:i}}function vn(Y){let q=[];function O(p,o){return q=o.filter(({options:I})=>Y.optionsAtMedia(I).active!==!1),q.forEach(I=>I.init(p,Y)),o.reduce((I,D)=>Object.assign(I,{[D.name]:D}),{})}function i(){q=q.filter(p=>p.destroy())}return{init:O,destroy:i}}function Pt(Y,q,O){let i=Y.ownerDocument,X=i.defaultView,p=qn(X),o=vn(p),I=ht(),D=Nn(),{mergeOptions:c,optionsAtMedia:m,optionsMediaQueries:P}=p,{on:a,off:n,emit:r}=D,d=A,s=!1,t,l=c(yn,Pt.globalOptions),$=c(l),h=[],L,U,T;function B(){let{container:te,slides:de}=$;U=(uD(te)?Y.querySelector(te):te)||Y.children[0];let z=uD(de)?U.querySelectorAll(de):de;T=[].slice.call(z||U.children)}function J(te){let de=Vn(Y,U,T,i,X,te,D);if(te.loop&&!de.slideLooper.canLoop()){let ne=Object.assign({},te,{loop:!1});return J(ne)}return de}function S(te,de){s||(l=c(l,te),$=m(l),h=de||h,B(),t=J($),P([l,...h.map(({options:ne})=>ne)]).forEach(ne=>I.add(ne,"change",A)),$.active&&(t.translate.to(t.location.get()),t.animation.init(),t.slidesInView.init(),t.slideFocus.init($e),t.eventHandler.init($e),t.resizeHandler.init($e),t.slidesHandler.init($e),t.options.loop&&t.slideLooper.loop(),U.offsetParent&&T.length&&t.dragHandler.init($e),L=o.init($e,h)))}function A(te,de){let ne=w();Q(),S(c({startIndex:ne},te),de),D.emit("reInit")}function Q(){t.dragHandler.destroy(),t.eventStore.clear(),t.translate.clear(),t.slideLooper.clear(),t.resizeHandler.destroy(),t.slidesHandler.destroy(),t.slidesInView.destroy(),t.animation.destroy(),o.destroy(),I.clear()}function M(){s||(s=!0,I.clear(),Q(),D.emit("destroy"),D.clear())}function k(te,de,ne){!$.active||s||(t.scrollBody.useBaseFriction().useDuration(de===!0?0:$.duration),t.scrollTo.index(te,ne||0))}function C(te){let de=t.index.add(1).get();k(de,te,-1)}function j(te){let de=t.index.add(-1).get();k(de,te,1)}function G(){return t.index.add(1).get()!==w()}function y(){return t.index.add(-1).get()!==w()}function g(){return t.scrollSnapList}function N(){return t.scrollProgress.get(t.location.get())}function w(){return t.index.get()}function ce(){return t.indexPrevious.get()}function F(){return t.slidesInView.get()}function f(){return t.slidesInView.get(!1)}function E(){return L}function Z(){return t}function W(){return Y}function ee(){return U}function De(){return T}let $e={canScrollNext:G,canScrollPrev:y,containerNode:ee,internalEngine:Z,destroy:M,off:n,on:a,emit:r,plugins:E,previousScrollSnap:ce,reInit:d,rootNode:W,scrollNext:C,scrollPrev:j,scrollProgress:N,scrollSnapList:g,scrollTo:k,selectedScrollSnap:w,slideNodes:De,slidesInView:F,slidesNotInView:f};return S(q,O),setTimeout(()=>D.emit("init"),0),$e}Pt.globalOptions=void 0;function Gn(Y){return Object.prototype.toString.call(Y)==="[object Object]"}function cd(Y){return Gn(Y)||Array.isArray(Y)}function kt(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}function Yt(Y,q){let O=Object.keys(Y),i=Object.keys(q);if(O.length!==i.length)return!1;let X=JSON.stringify(Object.keys(Y.breakpoints||{})),p=JSON.stringify(Object.keys(q.breakpoints||{}));return X!==p?!1:O.every(o=>{let I=Y[o],D=q[o];return typeof I=="function"?`${I}`==`${D}`:!cd(I)||!cd(D)?I===D:Yt(I,D)})}function od(Y){return Y.concat().sort((q,O)=>q.name>O.name?1:-1).map(q=>q.options)}function Id(Y,q){if(Y.length!==q.length)return!1;let O=od(Y),i=od(q);return O.every((X,p)=>{let o=i[p];return Yt(X,o)})}function gt(Y,q){let O=Y?Y():{},i=q?q():[],[X,p]=Ui(),[o,I]=Ui();function D(){let c=X();c&&c.reInit(O,i)}return ma(ur(o,c=>{if(kt()&&c){Pt.globalOptions=gt.globalOptions;let m=Pt(c,O,i);p(m),Qa(()=>m.destroy())}else p(void 0)})),ma(()=>{if(!kt())return;let c=Y?Y():{};Yt(O,c)||(O=c,D())}),ma(()=>{if(!kt())return;let c=q?q():[];Id(i,c)||(i=c,D())}),[I,X]}gt.globalOptions=void 0;var Sa=yi(St(),1),Zt=yi(Ct(),1);var Oi={note:"_note_jo0vr_1",device:"_device_jo0vr_12",play:"_play_jo0vr_26",prev:"_prev_jo0vr_26",next:"_next_jo0vr_26",pressed:"_pressed_jo0vr_35",textCanvasWrapper:"_textCanvasWrapper_jo0vr_49",invisible:"_invisible_jo0vr_67",button:"_button_jo0vr_71",eject:"_eject_jo0vr_89",hide:"_hide_jo0vr_97",slider:"_slider_jo0vr_146",wrapper:"_wrapper_jo0vr_152",info:"_info_jo0vr_161",title:"_title_jo0vr_178",cartridge:"_cartridge_jo0vr_196",placeholder:"_placeholder_jo0vr_203",out:"_out_jo0vr_218",in:"_in_jo0vr_67",mount:"_mount_jo0vr_1",disabled:"_disabled_jo0vr_297"};var On=ia("<div><div><div><div><p>lo-fi chill (a)</p><small> Tracks | Runtime:&nbsp;</small><table cellspacing=0><tbody></tbody></table></div><div></div></div><div><div>"),Wn=ia("<button>Insert"),xn=ia("<tr><td></td><td>"),wn=ia('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M17.25 8.25 21 12m0 0-3.75 3.75M21 12H3">'),zn=ia('<svg xmlns=http://www.w3.org/2000/svg fill=none viewBox="0 0 24 24"stroke-width=1.5 stroke=currentColor><path stroke-linecap=round stroke-linejoin=round d="M6.75 15.75 3 12m0 0 3.75-3.75M3 12h18">'),mt=Y=>`${Math.floor(Y/60)}:${String(Y%60).padStart(2,"0")}`;function Vt({mounted:Y,setMounted:q,cartridgeSettled:O,setCartridgeSettled:i,mountButtonsEdge:X,triggerMountButtonsEdge:p}){let[o,I]=gt(()=>({align:"center",containScroll:!1,watchDrag:!1})),[D,c]=Ui(0);function m(){let a=I()?.selectedScrollSnap()??0,n=I()?.scrollSnapList().length??0;a===n-1?setTimeout(()=>I()?.scrollPrev(),50):c(a)}ma(()=>{let a=I();a?.on("select",m),Qa(()=>a?.off("select",m))});function P(){q(!Y()),p()}return[(()=>{var a=On(),n=a.firstChild,r=n.firstChild,d=r.firstChild,s=d.firstChild,t=s.nextSibling,l=t.firstChild,$=t.nextSibling,h=$.firstChild,L=d.nextSibling,U=r.nextSibling,T=U.firstChild;return sD(o,a),$a(t,()=>Zt.default.tracks.length,l),$a(t,()=>mt(Zt.default.tracks.reduce((B,J)=>B+J.duration,0)),null),$a(h,ea(rD,{get each(){return Zt.default.tracks},children:B=>(()=>{var J=xn(),S=J.firstChild,A=S.nextSibling;return $a(S,()=>B.name),$a(A,()=>mt(B.duration)),J})()})),L.addEventListener("animationend",()=>i(!0)),L.addEventListener("animationstart",()=>i(!1)),$a(a,ea(es,{get class(){return(0,Sa.default)(Oi.prev,(Y()||D()===0)&&Oi.disabled)},onClick:()=>I()?.scrollPrev()}),null),$a(a,ea(_n,{get class(){return(0,Sa.default)(Oi.next,Y()&&Oi.disabled)},onClick:()=>I()?.scrollNext()}),null),Fi(B=>{var J=Oi.slider,S=Oi.wrapper,A=(0,Sa.default)(Oi.info),Q=(0,Sa.default)(Oi.title),M=(0,Sa.default)(Oi.cartridge,Y()?Oi.in:(X()||!O())&&Oi.out),k=Oi.wrapper,C=(0,Sa.default)(Oi.cartridge,Oi.placeholder);return J!==B.e&&Mi(a,B.e=J),S!==B.t&&Mi(r,B.t=S),A!==B.a&&Mi(d,B.a=A),Q!==B.o&&Mi(s,B.o=Q),M!==B.i&&Mi(L,B.i=M),k!==B.n&&Mi(U,B.n=k),C!==B.s&&Mi(T,B.s=C),B},{e:void 0,t:void 0,a:void 0,o:void 0,i:void 0,n:void 0,s:void 0}),a})(),(()=>{var a=Wn();return a.$$click=P,Fi(()=>Mi(a,(0,Sa.default)(Oi.button,Y()&&Oi.hide))),a})()]}function _n(Y){return(()=>{var q=wn();return dt(q,Y,!0,!0),q})()}function es(Y){return(()=>{var q=zn();return dt(q,Y,!0,!0),q})()}rt(["click"]);var $s=lr({"../songs/lofi-a/lofi-a-1.wav.mp3":()=>Promise.resolve().then(()=>yi(hd())),"../songs/lofi-a/lofi-a-2.wav.mp3":()=>Promise.resolve().then(()=>yi(Hd())),"../songs/lofi-a/lofi-a-3.wav.mp3":()=>Promise.resolve().then(()=>yi(Pd())),"../songs/lofi-a/lofi-a-4.wav.mp3":()=>Promise.resolve().then(()=>yi(md())),"../songs/lofi-a/lofi-a-5.wav.mp3":()=>Promise.resolve().then(()=>yi(Ld())),"../songs/lofi-a/lofi-a-6.wav.mp3":()=>Promise.resolve().then(()=>yi(ud())),"../songs/lofi-a/lofi-a-7.wav.mp3":()=>Promise.resolve().then(()=>yi(fd())),"../songs/lofi-a/lofi-a-8.wav.mp3":()=>Promise.resolve().then(()=>yi(Jd())),"../songs/lofi-a/meta.json":()=>Promise.resolve().then(()=>yi(Ct()))});var ls=ia("<div id=p5-wrapper>"),Lt=ia("<div>"),cs=ia("<button>Eject "),os=ia("<button>"),Is=ia('<svg xmlns=http://www.w3.org/2000/svg viewBox="0 0 22 22"width=22 height=22 fill=none><path stroke=currentColor stroke-linecap=round stroke-linejoin=round stroke-width=1.5 d="M12.244 14.96c-.425.527-.638.79-.895.886a1 1 0 0 1-.698 0c-.257-.095-.47-.359-.895-.886l-2.712-3.354c-.674-.834-1.01-1.25-1.012-1.601a1 1 0 0 1 .375-.786C6.68 9 7.217 9 8.288 9h5.424c1.071 0 1.607 0 1.881.22a1 1 0 0 1 .375.785c-.002.35-.338.767-1.012 1.6l-2.712 3.355ZM6 6.5h10">'),pd={leading:!0,trailing:!1},hs=[{str:[{p:0,text:"Loading."},{p:.33,text:"Loading.."},{p:.66,text:"Loading..."}],duration:1500,x:60,y:250,size:58}],Hs=[{str:"Insert cartridge",x:60,y:250,size:58},{str:"v v v",x:60,y:350,size:42}];function yt({mounted:Y,setMounted:q,cartridgeSettled:O,triggerMountButtonsEdge:i}){let[X,p]=Ui(!1),[o,I]=Ui(!1),[D,c]=Ui(!0),[m,P]=Ui(0),[a,n]=Ui(!1),[r,d]=Ui(!1),[s,t]=Ui(!1),l=C=>[{str:C()?"NOW PLAYING":"PAUSED",x:60,y:151,size:42},{str:`${m()+1} of ${Ta.default.tracks.length}`,x:1500,y:151,size:42,align:"right"},{str:`${Ta.default.name} \u2014 ${Ta.default.tracks[m()].name}`,x:60,y:250,size:58},{str:`${mt(C()&&!o()?Dd():rd())} / ${mt(Ta.default.tracks[m()].duration)}`,x:60,y:350,size:42},{str:"w/ ANN sounds",x:1500,y:350,size:42,align:"right"}],$=()=>Y()&&O()?D()?hs:l(X):Hs;ma(async()=>{Y()&&(c(!0),await J(0),c(!1))});let h=(()=>{var C=ls();return Fi(()=>Mi(C,bi.textCanvasWrapper)),C})();fr(()=>{let C=new Bd.default(ID.bind(null,$),h)});let L=Ya(()=>(0,oa.default)(bi.eject,!Y()&&bi.hide));function U(){q(!1),p(!1),c(!0),P(0),i()}async function T(){if(m()===Ta.default.tracks.length-1){Et();return}P(C=>Math.min(C+1,Ta.default.tracks.length)),await J(m()),setTimeout(()=>Na(T))}function B(){Y()&&O()?p(C=>(C?$t():Na(T),!C)):(p(!1),$t())}async function J(C){let j=(await $s("../songs/lofi-a/"+Ta.default.tracks[C].file)).default;await ed(j)}function S(){Et(),setTimeout(async()=>{P(C=>Math.max(C-1,0)),await J(m()),X()&&setTimeout(()=>Na(T))})}function A(){I(!0),id()}function Q(){I(!1),td(),X()&&Na(T)}function M(){Et(),setTimeout(async()=>{P(C=>Math.min(C+1,Ta.default.tracks.length-1)),await J(m()),X()&&setTimeout(()=>Na(T))})}function k(){I(!0),ad()}return[(()=>{var C=Lt();return Fi(()=>Mi(C,bi.note)),C})(),(()=>{var C=Lt();return Fi(()=>Mi(C,(0,oa.default)(bi.device))),C})(),(()=>{var C=Lt();return Fi(()=>Mi(C,(0,oa.default)(bi.device,bi.play,a()&&bi.pressed))),C})(),(()=>{var C=Lt();return Fi(()=>Mi(C,(0,oa.default)(bi.device,bi.prev,r()&&bi.pressed))),C})(),(()=>{var C=Lt();return Fi(()=>Mi(C,(0,oa.default)(bi.device,bi.next,s()&&bi.pressed))),C})(),h,ea(Nt,{get class(){return(0,oa.default)(bi.play)},pressed:a,setPressed:n,onClick:B}),ea(Nt,{get class(){return(0,oa.default)(bi.prev)},pressed:r,setPressed:d,onClick:S,onHold:A,onRelease:Q}),ea(Nt,{get class(){return(0,oa.default)(bi.next)},pressed:s,setPressed:t,onClick:M,onHold:k,onRelease:Q}),ea(Nt,{class:L,onClick:U}),(()=>{var C=cs(),j=C.firstChild;return C.$$click=U,$a(C,ea(Ps,{}),null),Fi(()=>Mi(C,(0,oa.default)(bi.button,bi.eject,!Y()&&bi.hide))),C})()]}function Nt({setPressed:Y,pressed:q,onClick:O,...i}){let[X,p]=Ui(!1),[o,I]=Ui(null),D=(0,TD.default)(()=>{let P=o();P!==null&&clearTimeout(P),I(setTimeout(()=>{p(!0),i.onHold?.()},800)),LD("ButtonPress"),Y?.(!0)},10,pd),c=(0,TD.default)(()=>{let P=o();P!==null&&clearTimeout(P),q?.()&&LD("ButtonUp"),Y?.(!1)},10,pd);function m(P){if(X()){p(!1),i.onRelease?.();return}O?.(P)}return(()=>{var P=os();return P.$$click=m,Ba(P,"mouseleave",c),Ba(P,"mouseup",c,!0),Ba(P,"pointerleave",c),Ba(P,"pointercancel",c),Ba(P,"pointerup",c,!0),Ba(P,"mousedown",D,!0),Ba(P,"pointerdown",D,!0),dt(P,DD(i,{get class(){return(0,oa.default)(bi.button,bi.invisible,typeof i.class=="function"?i.class():i.class)}}),!1,!1),P})()}function Ps(){return Is()}rt(["click","pointerdown","mousedown","pointerup","mouseup"]);function RD(){let[Y,q]=Ui(!1),[O,i]=Ui(!0),[X,p]=Ui(!1);function o(){p(!0),setTimeout(()=>p(!1),10)}return[ea(Qt,{}),ea(Vt,{mounted:Y,setMounted:q,cartridgeSettled:O,setCartridgeSettled:i,mountButtonsEdge:X,triggerMountButtonsEdge:o}),ea(yt,{mounted:Y,setMounted:q,cartridgeSettled:O,triggerMountButtonsEdge:o})]}var Td=document.getElementById("app");if(!Td)throw new Error("#app not found");Sr(RD,Td);})();
/*! Bundled license information:

classnames/index.js:
  (*!
  	Copyright (c) 2018 Jed Watson.
  	Licensed under the MIT License (MIT), see
  	http://jedwatson.github.io/classnames
  *)

p5/lib/p5.min.js:
  (*! p5.js v1.10.0 July 31, 2024 *)
*/
